{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ameli/Documents/studia/projekt/ShareWay/frontend/app/dashboard/components/SortControl.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport React, { useState } from \"react\";\r\nimport {\r\n  ChevronDown,\r\n  ArrowUpAZ,\r\n  ArrowDownAZ,\r\n  Clock,\r\n  Users,\r\n} from \"lucide-react\";\r\nimport { cn } from \"@/lib/utils\";\r\n\r\nexport type SortMode = \"newest\" | \"oldest\" | \"a-z\" | \"z-a\" | \"participants\";\r\n\r\nexport default function SortControl({\r\n  value,\r\n  onChange,\r\n  inline = false,\r\n}: {\r\n  value: SortMode;\r\n  onChange: (v: SortMode) => void;\r\n  inline?: boolean;\r\n}) {\r\n  const [open, setOpen] = useState(false);\r\n  const isOpen = inline ? true : open;\r\n\r\n  const handleSelect = (mode: SortMode) => {\r\n    const next = value === mode ? \"newest\" : mode;\r\n    onChange(next);\r\n    if (!inline) setOpen(false);\r\n  };\r\n\r\n  const options = [\r\n    {\r\n      value: \"newest\",\r\n      label: \"Najbliższe wyjazdy\",\r\n      icon: <Clock className=\"w-4 h-4\" />,\r\n    },\r\n    {\r\n      value: \"oldest\",\r\n      label: \"Najpóźniejsze wyjazdy\",\r\n      icon: <Clock className=\"w-4 h-4 rotate-180\" />,\r\n    },\r\n    {\r\n      value: \"a-z\",\r\n      label: \"Nazwa A–Z\",\r\n      icon: <ArrowUpAZ className=\"w-4 h-4\" />,\r\n    },\r\n    {\r\n      value: \"z-a\",\r\n      label: \"Nazwa Z–A\",\r\n      icon: <ArrowDownAZ className=\"w-4 h-4\" />,\r\n    },\r\n    {\r\n      value: \"participants\",\r\n      label: \"Najwięcej uczestników\",\r\n      icon: <Users className=\"w-4 h-4\" />,\r\n    },\r\n  ];\r\n\r\n  if (inline) {\r\n    return (\r\n      <div className=\"space-y-2 rounded-xl border border-border bg-background/80 dark:bg-slate-900/70 p-3 shadow-sm\">\r\n        <div className=\"flex flex-col divide-y divide-border/70\">\r\n          {options.map((opt) => (\r\n            <button\r\n              key={opt.value}\r\n              onClick={() => handleSelect(opt.value as SortMode)}\r\n              className={cn(\r\n                \"flex items-center gap-2 px-2 py-2 text-sm text-left transition hover:bg-muted/70 rounded-lg\",\r\n                value === opt.value &&\r\n                  \"bg-primary/10 text-primary font-semibold\"\r\n              )}\r\n            >\r\n              {opt.icon}\r\n              <span className=\"flex-1 text-left\">{opt.label}</span>\r\n              {opt.value === \"newest\" && (\r\n                <span className=\"text-[10px] uppercase tracking-[0.14em] text-muted-foreground\">\r\n                  Domyślnie\r\n                </span>\r\n              )}\r\n            </button>\r\n          ))}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"relative flex justify-end\">\r\n      <button\r\n        onClick={() => setOpen(!open)}\r\n        className={cn(\r\n          \"flex items-center gap-2 rounded-lg border border-border bg-background px-4 py-2 text-sm font-medium transition hover:bg-muted\",\r\n          \"dark:hover:bg-muted/30\"\r\n        )}\r\n      >\r\n        <span>Sortuj</span>\r\n        <ChevronDown\r\n          className={cn(\"w-4 h-4 transition-transform\", isOpen && \"rotate-180\")}\r\n        />\r\n      </button>\r\n\r\n      {isOpen && (\r\n        <div\r\n          className={cn(\r\n            \"absolute right-0 mt-2 w-52 rounded-md border border-border bg-background shadow-lg z-20\"\r\n          )}\r\n        >\r\n          {options.map((opt) => (\r\n            <button\r\n              key={opt.value}\r\n              onClick={() => handleSelect(opt.value as SortMode)}\r\n              className={cn(\r\n                \"flex w-full items-center gap-2 px-3 py-2 text-sm text-left hover:bg-muted\",\r\n                value === opt.value && \"bg-muted font-semibold\"\r\n              )}\r\n            >\r\n              {opt.icon}\r\n              <span className=\"flex-1 text-left\">{opt.label}</span>\r\n              {opt.value === \"newest\" && (\r\n                <span className=\"text-[10px] uppercase tracking-[0.14em] text-muted-foreground\">\r\n                  Domyślnie\r\n                </span>\r\n              )}\r\n            </button>\r\n          ))}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AAOA;;;AAVA;;;;AAce,SAAS,YAAY,EAClC,KAAK,EACL,QAAQ,EACR,SAAS,KAAK,EAKf;;IACC,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,yKAAQ,EAAC;IACjC,MAAM,SAAS,SAAS,OAAO;IAE/B,MAAM,eAAe,CAAC;QACpB,MAAM,OAAO,UAAU,OAAO,WAAW;QACzC,SAAS;QACT,IAAI,CAAC,QAAQ,QAAQ;IACvB;IAEA,MAAM,UAAU;QACd;YACE,OAAO;YACP,OAAO;YACP,oBAAM,6LAAC,gNAAK;gBAAC,WAAU;;;;;;QACzB;QACA;YACE,OAAO;YACP,OAAO;YACP,oBAAM,6LAAC,gNAAK;gBAAC,WAAU;;;;;;QACzB;QACA;YACE,OAAO;YACP,OAAO;YACP,oBAAM,6LAAC,wOAAS;gBAAC,WAAU;;;;;;QAC7B;QACA;YACE,OAAO;YACP,OAAO;YACP,oBAAM,6LAAC,8OAAW;gBAAC,WAAU;;;;;;QAC/B;QACA;YACE,OAAO;YACP,OAAO;YACP,oBAAM,6LAAC,gNAAK;gBAAC,WAAU;;;;;;QACzB;KACD;IAED,IAAI,QAAQ;QACV,qBACE,6LAAC;YAAI,WAAU;sBACb,cAAA,6LAAC;gBAAI,WAAU;0BACZ,QAAQ,GAAG,CAAC,CAAC,oBACZ,6LAAC;wBAEC,SAAS,IAAM,aAAa,IAAI,KAAK;wBACrC,WAAW,IAAA,qHAAE,EACX,+FACA,UAAU,IAAI,KAAK,IACjB;;4BAGH,IAAI,IAAI;0CACT,6LAAC;gCAAK,WAAU;0CAAoB,IAAI,KAAK;;;;;;4BAC5C,IAAI,KAAK,KAAK,0BACb,6LAAC;gCAAK,WAAU;0CAAgE;;;;;;;uBAX7E,IAAI,KAAK;;;;;;;;;;;;;;;IAoB1B;IAEA,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC;gBACC,SAAS,IAAM,QAAQ,CAAC;gBACxB,WAAW,IAAA,qHAAE,EACX,iIACA;;kCAGF,6LAAC;kCAAK;;;;;;kCACN,6LAAC,sOAAW;wBACV,WAAW,IAAA,qHAAE,EAAC,gCAAgC,UAAU;;;;;;;;;;;;YAI3D,wBACC,6LAAC;gBACC,WAAW,IAAA,qHAAE,EACX;0BAGD,QAAQ,GAAG,CAAC,CAAC,oBACZ,6LAAC;wBAEC,SAAS,IAAM,aAAa,IAAI,KAAK;wBACrC,WAAW,IAAA,qHAAE,EACX,6EACA,UAAU,IAAI,KAAK,IAAI;;4BAGxB,IAAI,IAAI;0CACT,6LAAC;gCAAK,WAAU;0CAAoB,IAAI,KAAK;;;;;;4BAC5C,IAAI,KAAK,KAAK,0BACb,6LAAC;gCAAK,WAAU;0CAAgE;;;;;;;uBAV7E,IAAI,KAAK;;;;;;;;;;;;;;;;AAoB5B;GArHwB;KAAA"}},
    {"offset": {"line": 210, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ameli/Documents/studia/projekt/ShareWay/frontend/app/components/ui/input.tsx"],"sourcesContent":["import * as React from \"react\";\r\n\r\nimport { cn } from \"@/lib/utils\";\r\n\r\nexport interface InputProps\r\n  extends React.InputHTMLAttributes<HTMLInputElement> {}\r\n\r\nconst Input = React.forwardRef<HTMLInputElement, InputProps>(\r\n  ({ className, type, ...props }, ref) => {\r\n    return (\r\n      <input\r\n        type={type}\r\n        className={cn(\r\n          \"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50\",\r\n          className\r\n        )}\r\n        ref={ref}\r\n        {...props}\r\n      />\r\n    );\r\n  }\r\n);\r\nInput.displayName = \"Input\";\r\n\r\nexport { Input };\r\n"],"names":[],"mappings":";;;;;AAAA;AAEA;;;;AAKA,MAAM,sBAAQ,2KAAgB,MAC5B,CAAC,EAAE,SAAS,EAAE,IAAI,EAAE,GAAG,OAAO,EAAE;IAC9B,qBACE,6LAAC;QACC,MAAM;QACN,WAAW,IAAA,qHAAE,EACX,gWACA;QAEF,KAAK;QACJ,GAAG,KAAK;;;;;;AAGf;;AAEF,MAAM,WAAW,GAAG"}},
    {"offset": {"line": 245, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ameli/Documents/studia/projekt/ShareWay/frontend/app/components/ui/label.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport * as React from \"react\"\r\nimport * as LabelPrimitive from \"@radix-ui/react-label\"\r\nimport { cva, type VariantProps } from \"class-variance-authority\"\r\n\r\nimport { cn } from \"@/lib/utils\"\r\n\r\nconst labelVariants = cva(\r\n  \"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70\"\r\n)\r\n\r\nconst Label = React.forwardRef<\r\n  React.ElementRef<typeof LabelPrimitive.Root>,\r\n  React.ComponentPropsWithoutRef<typeof LabelPrimitive.Root> &\r\n    VariantProps<typeof labelVariants>\r\n>(({ className, ...props }, ref) => (\r\n  <LabelPrimitive.Root\r\n    ref={ref}\r\n    className={cn(labelVariants(), className)}\r\n    {...props}\r\n  />\r\n))\r\nLabel.displayName = LabelPrimitive.Root.displayName\r\n\r\nexport { Label }"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAEA;AANA;;;;;;AAQA,MAAM,gBAAgB,IAAA,0KAAG,EACvB;AAGF,MAAM,sBAAQ,2KAAgB,MAI5B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,4KAAmB;QAClB,KAAK;QACL,WAAW,IAAA,qHAAE,EAAC,iBAAiB;QAC9B,GAAG,KAAK;;;;;;;AAGb,MAAM,WAAW,GAAG,4KAAmB,CAAC,WAAW"}},
    {"offset": {"line": 283, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ameli/Documents/studia/projekt/ShareWay/frontend/app/dashboard/components/filters/FilterSearchSection.tsx"],"sourcesContent":["import { Search } from \"lucide-react\";\r\nimport type { KeyboardEvent, RefObject } from \"react\";\r\nimport { useEffect, useMemo, useState } from \"react\";\r\nimport { Input } from \"@/app/components/ui/input\";\r\nimport { Label } from \"@/app/components/ui/label\";\r\nimport type { FilterState } from \"@/lib/types/trip\";\r\nimport { cn, normalizeSearchText } from \"@/lib/utils\";\r\n\r\ntype FilterSearchSectionProps = {\r\n  t: any;\r\n  filters: Pick<FilterState, \"search\">;\r\n  onSearchChange: (value: string) => void;\r\n  searchInputRef: RefObject<HTMLInputElement | null>;\r\n  suggestionOptions?: string[];\r\n};\r\n\r\nconst SUGGESTION_LIMIT = 6;\r\n\r\nexport default function FilterSearchSection({\r\n  t,\r\n  filters,\r\n  onSearchChange,\r\n  searchInputRef,\r\n  suggestionOptions = [],\r\n}: FilterSearchSectionProps) {\r\n  const [isFocused, setIsFocused] = useState(false);\r\n  const [activeIndex, setActiveIndex] = useState(0);\r\n\r\n  const normalizedOptions = useMemo(() => {\r\n    const unique = new Map<string, string>();\r\n\r\n    suggestionOptions.forEach((option) => {\r\n      const normalized = normalizeSearchText(option);\r\n      if (!normalized || unique.has(normalized)) return;\r\n      unique.set(normalized, option);\r\n\r\n      option\r\n        .split(\",\")\r\n        .map((part) => part.trim())\r\n        .forEach((part) => {\r\n          const normalizedPart = normalizeSearchText(part);\r\n          if (normalizedPart && !unique.has(normalizedPart)) {\r\n            unique.set(normalizedPart, part);\r\n          }\r\n        });\r\n    });\r\n\r\n    return Array.from(unique.entries()).map(([normalized, label]) => ({\r\n      normalized,\r\n      label,\r\n    }));\r\n  }, [suggestionOptions]);\r\n\r\n  const searchTerm = normalizeSearchText(filters.search);\r\n\r\n  const suggestions = useMemo(() => {\r\n    if (!normalizedOptions.length) return [];\r\n    if (!searchTerm) return [];\r\n\r\n    return normalizedOptions\r\n      .map(({ normalized, label }) => {\r\n        const index = normalized.indexOf(searchTerm);\r\n        if (index === -1) return null;\r\n\r\n        const score =\r\n          (index === 0 ? 3 : 0) +\r\n          Math.max(0, 2 - index * 0.1) +\r\n          Math.min(searchTerm.length, 8) * 0.05;\r\n\r\n        return { label, score };\r\n      })\r\n      .filter((v): v is { label: string; score: number } => !!v)\r\n      .sort((a, b) => b.score - a.score || a.label.localeCompare(b.label))\r\n      .slice(0, SUGGESTION_LIMIT)\r\n      .map((item) => item.label);\r\n  }, [normalizedOptions, searchTerm]);\r\n\r\n  useEffect(() => {\r\n    setActiveIndex(0);\r\n  }, [suggestions.length]);\r\n\r\n  const showSuggestions =\r\n    isFocused && searchTerm.length > 0 && suggestions.length > 0;\r\n\r\n  const handleKeyDown = (event: KeyboardEvent<HTMLInputElement>) => {\r\n    if (!showSuggestions) return;\r\n\r\n    if (event.key === \"ArrowDown\") {\r\n      event.preventDefault();\r\n      setActiveIndex((prev) => (prev + 1) % suggestions.length);\r\n    } else if (event.key === \"ArrowUp\") {\r\n      event.preventDefault();\r\n      setActiveIndex((prev) =>\r\n        prev - 1 < 0 ? suggestions.length - 1 : prev - 1\r\n      );\r\n    } else if (event.key === \"Enter\") {\r\n      if (suggestions[activeIndex]) {\r\n        event.preventDefault();\r\n        onSearchChange(suggestions[activeIndex]);\r\n        requestAnimationFrame(() => {\r\n          searchInputRef.current?.blur();\r\n          setIsFocused(false);\r\n        });\r\n      }\r\n    } else if (event.key === \"Escape\") {\r\n      searchInputRef.current?.blur();\r\n      setIsFocused(false);\r\n    }\r\n  };\r\n\r\n  const handleSuggestionPick = (value: string) => {\r\n    onSearchChange(value);\r\n    requestAnimationFrame(() => searchInputRef.current?.blur());\r\n  };\r\n\r\n  return (\r\n    <div className=\"space-y-2\">\r\n      <Label className=\"text-[11px] font-medium uppercase tracking-[0.16em] text-muted-foreground\">\r\n        {t.dashboard.filters.searchLabel ?? \"Wyszukiwanie\"}\r\n      </Label>\r\n\r\n      <div className=\"group relative flex h-11 items-center rounded-xl bg-muted/15 border border-border/40 px-3 transition-colors focus-within:border-primary/60 focus-within:bg-background focus-within:ring-2 focus-within:ring-primary/12 focus-within:shadow-[0_8px_28px_-18px_rgba(0,0,0,0.45)]\">\r\n        <Search className=\"h-4 w-4 text-muted-foreground ml-1 transition-colors group-focus-within:text-primary\" />\r\n\r\n        <Input\r\n          placeholder={t.dashboard.filters.searchPlaceholder ?? \"Szukaj...\"}\r\n          value={filters.search}\r\n          onChange={(e) => onSearchChange(e.target.value)}\r\n          onFocus={() => setIsFocused(true)}\r\n          onBlur={() => setIsFocused(false)}\r\n          onKeyDown={handleKeyDown}\r\n          ref={searchInputRef}\r\n          className={cn(\r\n            \"h-full w-full pl-2 pr-3\",\r\n            \"border-none bg-transparent shadow-none outline-none\",\r\n            \"ring-0 ring-offset-0 focus:ring-0 focus:ring-offset-0\",\r\n            \"focus-visible:ring-0! focus-visible:ring-offset-0! focus-visible:outline-none focus-visible:shadow-none\",\r\n            \"focus:outline-none\"\r\n          )}\r\n        />\r\n\r\n        {showSuggestions && (\r\n          <div className=\"absolute left-0 right-0 top-full mt-2 rounded-xl border border-border/60 bg-background/95 shadow-xl ring-1 ring-primary/8 backdrop-blur\">\r\n            <p className=\"px-3 pt-3 text-[11px] font-semibold uppercase tracking-[0.12em] text-muted-foreground\">\r\n              Podpowiedzi\r\n            </p>\r\n            <div className=\"py-1\">\r\n              {suggestions.map((option, idx) => (\r\n                <button\r\n                  key={`${option}-${idx}`}\r\n                  type=\"button\"\r\n                  className={cn(\r\n                    \"flex w-full items-center gap-2 px-3 py-2 text-sm text-left transition-colors\",\r\n                    idx === activeIndex\r\n                      ? \"bg-primary/10 text-primary\"\r\n                      : \"hover:bg-muted/60\"\r\n                  )}\r\n                  onMouseDown={(e) => {\r\n                    e.preventDefault();\r\n                    handleSuggestionPick(option);\r\n                  }}\r\n                >\r\n                  <Search className=\"h-3.5 w-3.5 text-muted-foreground\" />\r\n                  <span className=\"truncate\">{option}</span>\r\n                </button>\r\n              ))}\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAAA;AAEA;AACA;AACA;AAEA;;;;;;;;AAUA,MAAM,mBAAmB;AAEV,SAAS,oBAAoB,EAC1C,CAAC,EACD,OAAO,EACP,cAAc,EACd,cAAc,EACd,oBAAoB,EAAE,EACG;;IACzB,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,yKAAQ,EAAC;IAC3C,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,yKAAQ,EAAC;IAE/C,MAAM,oBAAoB,IAAA,wKAAO;0DAAC;YAChC,MAAM,SAAS,IAAI;YAEnB,kBAAkB,OAAO;kEAAC,CAAC;oBACzB,MAAM,aAAa,IAAA,sIAAmB,EAAC;oBACvC,IAAI,CAAC,cAAc,OAAO,GAAG,CAAC,aAAa;oBAC3C,OAAO,GAAG,CAAC,YAAY;oBAEvB,OACG,KAAK,CAAC,KACN,GAAG;0EAAC,CAAC,OAAS,KAAK,IAAI;yEACvB,OAAO;0EAAC,CAAC;4BACR,MAAM,iBAAiB,IAAA,sIAAmB,EAAC;4BAC3C,IAAI,kBAAkB,CAAC,OAAO,GAAG,CAAC,iBAAiB;gCACjD,OAAO,GAAG,CAAC,gBAAgB;4BAC7B;wBACF;;gBACJ;;YAEA,OAAO,MAAM,IAAI,CAAC,OAAO,OAAO,IAAI,GAAG;kEAAC,CAAC,CAAC,YAAY,MAAM,GAAK,CAAC;wBAChE;wBACA;oBACF,CAAC;;QACH;yDAAG;QAAC;KAAkB;IAEtB,MAAM,aAAa,IAAA,sIAAmB,EAAC,QAAQ,MAAM;IAErD,MAAM,cAAc,IAAA,wKAAO;oDAAC;YAC1B,IAAI,CAAC,kBAAkB,MAAM,EAAE,OAAO,EAAE;YACxC,IAAI,CAAC,YAAY,OAAO,EAAE;YAE1B,OAAO,kBACJ,GAAG;4DAAC,CAAC,EAAE,UAAU,EAAE,KAAK,EAAE;oBACzB,MAAM,QAAQ,WAAW,OAAO,CAAC;oBACjC,IAAI,UAAU,CAAC,GAAG,OAAO;oBAEzB,MAAM,QACJ,CAAC,UAAU,IAAI,IAAI,CAAC,IACpB,KAAK,GAAG,CAAC,GAAG,IAAI,QAAQ,OACxB,KAAK,GAAG,CAAC,WAAW,MAAM,EAAE,KAAK;oBAEnC,OAAO;wBAAE;wBAAO;oBAAM;gBACxB;2DACC,MAAM;4DAAC,CAAC,IAA6C,CAAC,CAAC;2DACvD,IAAI;4DAAC,CAAC,GAAG,IAAM,EAAE,KAAK,GAAG,EAAE,KAAK,IAAI,EAAE,KAAK,CAAC,aAAa,CAAC,EAAE,KAAK;2DACjE,KAAK,CAAC,GAAG,kBACT,GAAG;4DAAC,CAAC,OAAS,KAAK,KAAK;;QAC7B;mDAAG;QAAC;QAAmB;KAAW;IAElC,IAAA,0KAAS;yCAAC;YACR,eAAe;QACjB;wCAAG;QAAC,YAAY,MAAM;KAAC;IAEvB,MAAM,kBACJ,aAAa,WAAW,MAAM,GAAG,KAAK,YAAY,MAAM,GAAG;IAE7D,MAAM,gBAAgB,CAAC;QACrB,IAAI,CAAC,iBAAiB;QAEtB,IAAI,MAAM,GAAG,KAAK,aAAa;YAC7B,MAAM,cAAc;YACpB,eAAe,CAAC,OAAS,CAAC,OAAO,CAAC,IAAI,YAAY,MAAM;QAC1D,OAAO,IAAI,MAAM,GAAG,KAAK,WAAW;YAClC,MAAM,cAAc;YACpB,eAAe,CAAC,OACd,OAAO,IAAI,IAAI,YAAY,MAAM,GAAG,IAAI,OAAO;QAEnD,OAAO,IAAI,MAAM,GAAG,KAAK,SAAS;YAChC,IAAI,WAAW,CAAC,YAAY,EAAE;gBAC5B,MAAM,cAAc;gBACpB,eAAe,WAAW,CAAC,YAAY;gBACvC,sBAAsB;oBACpB,eAAe,OAAO,EAAE;oBACxB,aAAa;gBACf;YACF;QACF,OAAO,IAAI,MAAM,GAAG,KAAK,UAAU;YACjC,eAAe,OAAO,EAAE;YACxB,aAAa;QACf;IACF;IAEA,MAAM,uBAAuB,CAAC;QAC5B,eAAe;QACf,sBAAsB,IAAM,eAAe,OAAO,EAAE;IACtD;IAEA,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC,6IAAK;gBAAC,WAAU;0BACd,EAAE,SAAS,CAAC,OAAO,CAAC,WAAW,IAAI;;;;;;0BAGtC,6LAAC;gBAAI,WAAU;;kCACb,6LAAC,mNAAM;wBAAC,WAAU;;;;;;kCAElB,6LAAC,6IAAK;wBACJ,aAAa,EAAE,SAAS,CAAC,OAAO,CAAC,iBAAiB,IAAI;wBACtD,OAAO,QAAQ,MAAM;wBACrB,UAAU,CAAC,IAAM,eAAe,EAAE,MAAM,CAAC,KAAK;wBAC9C,SAAS,IAAM,aAAa;wBAC5B,QAAQ,IAAM,aAAa;wBAC3B,WAAW;wBACX,KAAK;wBACL,WAAW,IAAA,qHAAE,EACX,2BACA,uDACA,yDACA,2GACA;;;;;;oBAIH,iCACC,6LAAC;wBAAI,WAAU;;0CACb,6LAAC;gCAAE,WAAU;0CAAwF;;;;;;0CAGrG,6LAAC;gCAAI,WAAU;0CACZ,YAAY,GAAG,CAAC,CAAC,QAAQ,oBACxB,6LAAC;wCAEC,MAAK;wCACL,WAAW,IAAA,qHAAE,EACX,gFACA,QAAQ,cACJ,+BACA;wCAEN,aAAa,CAAC;4CACZ,EAAE,cAAc;4CAChB,qBAAqB;wCACvB;;0DAEA,6LAAC,mNAAM;gDAAC,WAAU;;;;;;0DAClB,6LAAC;gDAAK,WAAU;0DAAY;;;;;;;uCAdvB,GAAG,OAAO,CAAC,EAAE,KAAK;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuBzC;GA1JwB;KAAA"}},
    {"offset": {"line": 508, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ameli/Documents/studia/projekt/ShareWay/frontend/app/dashboard/components/filters/QuickFiltersSection.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useMemo } from \"react\";\r\nimport { CheckCircle, Archive, User, Users } from \"lucide-react\";\r\nimport { cn } from \"@/lib/utils\";\r\nimport { FilterStatus, FilterRole } from \"@/lib/types/trip\";\r\n\r\ntype QuickFilterItem = {\r\n  key: string;\r\n  label: string;\r\n  icon: React.ReactNode;\r\n  type: \"status\" | \"role\";\r\n  value: FilterStatus | FilterRole;\r\n};\r\n\r\ntype Props = {\r\n  t: any;\r\n  filters: { status: FilterStatus; role: FilterRole };\r\n  onQuickFilterChange: (\r\n    type: \"status\" | \"role\",\r\n    value: FilterStatus | FilterRole\r\n  ) => void;\r\n};\r\n\r\nexport default function QuickFiltersSection({\r\n  t,\r\n  filters,\r\n  onQuickFilterChange,\r\n}: Props) {\r\n  const quickFilters: QuickFilterItem[] = useMemo(\r\n    () => [\r\n      {\r\n        key: \"active\",\r\n        label: \"Aktywne\",\r\n        icon: <CheckCircle className=\"h-4 w-4 text-emerald-500\" />,\r\n        type: \"status\",\r\n        value: \"ACTIVE\",\r\n      },\r\n      {\r\n        key: \"archived\",\r\n        label: \"Archiwum\",\r\n        icon: <Archive className=\"h-4 w-4 text-amber-500\" />,\r\n        type: \"status\",\r\n        value: \"ARCHIVED\",\r\n      },\r\n      {\r\n        key: \"organizer\",\r\n        label: \"Organizuję\",\r\n        icon: <User className=\"h-4 w-4 text-violet-500\" />,\r\n        type: \"role\",\r\n        value: \"ORGANIZER\",\r\n      },\r\n      {\r\n        key: \"participant\",\r\n        label: \"Uczestniczę\",\r\n        icon: <Users className=\"h-4 w-4 text-sky-500\" />,\r\n        type: \"role\",\r\n        value: \"PARTICIPANT\",\r\n      },\r\n    ],\r\n    []\r\n  );\r\n\r\n  const isFilterActive = (type: \"status\" | \"role\", value: string) => {\r\n    if (type === \"status\") {\r\n      if (value === \"ALL\")\r\n        return filters.status === \"ALL\" && filters.role === \"ALL\";\r\n      return filters.status === value;\r\n    }\r\n    return filters.role === value;\r\n  };\r\n\r\n  return (\r\n    <div className=\"space-y-3\">\r\n      <p className=\"text-[11px] font-semibold uppercase tracking-[0.16em] text-muted-foreground\">\r\n        Widok podróży\r\n      </p>\r\n\r\n      <div className=\"grid grid-cols-1 md:grid-cols-2 gap-1.5\">\r\n        {quickFilters.map((filter) => {\r\n          const active = isFilterActive(filter.type, filter.value);\r\n\r\n          return (\r\n            <button\r\n              key={filter.key}\r\n              type=\"button\"\r\n              onClick={() => {\r\n                if (active) {\r\n                  onQuickFilterChange(filter.type, \"ALL\");\r\n                  return;\r\n                }\r\n\r\n                onQuickFilterChange(filter.type, filter.value);\r\n              }}\r\n              className={cn(\r\n                \"w-full flex flex-col items-start gap-1 rounded-xl border px-2.5 py-2 text-left transition-all group\",\r\n                active\r\n                  ? \"border-primary/50 bg-primary/10 shadow-[0_10px_30px_-18px_rgba(0,0,0,0.45)]\"\r\n                  : \"border-border/70 bg-muted/10 hover:bg-muted/30\"\r\n              )}\r\n            >\r\n              <div className=\"flex items-start gap-2 text-[11px] text-muted-foreground leading-tight w-full\">\r\n                <span\r\n                  className={cn(\r\n                    \"h-6 w-6 rounded-full flex items-center justify-center\",\r\n                    active ? \"text-primary\" : \"text-muted-foreground\"\r\n                  )}\r\n                >\r\n                  {filter.icon}\r\n                </span>\r\n                <span className=\"whitespace-normal wrap-break-word leading-tight line-clamp-2 text-[10px]\">\r\n                  {filter.type === \"status\"\r\n                    ? t.dashboard.filters.quickStatusHint ??\r\n                      \"Filtruj po statusie\"\r\n                    : t.dashboard.filters.quickRoleHint ?? \"Filtruj po roli\"}\r\n                </span>\r\n              </div>\r\n\r\n              <div className=\"flex-1 min-w-0 leading-tight pr-3\">\r\n                <p\r\n                  className={cn(\r\n                    \"text-[12px] font-semibold whitespace-normal\",\r\n                    active ? \"text-primary\" : \"text-foreground\"\r\n                  )}\r\n                >\r\n                  {filter.label}\r\n                </p>\r\n              </div>\r\n            </button>\r\n          );\r\n        })}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAAA;AAAA;AAAA;AACA;;;AAJA;;;;AAwBe,SAAS,oBAAoB,EAC1C,CAAC,EACD,OAAO,EACP,mBAAmB,EACb;;IACN,MAAM,eAAkC,IAAA,wKAAO;qDAC7C,IAAM;gBACJ;oBACE,KAAK;oBACL,OAAO;oBACP,oBAAM,6LAAC,6OAAW;wBAAC,WAAU;;;;;;oBAC7B,MAAM;oBACN,OAAO;gBACT;gBACA;oBACE,KAAK;oBACL,OAAO;oBACP,oBAAM,6LAAC,sNAAO;wBAAC,WAAU;;;;;;oBACzB,MAAM;oBACN,OAAO;gBACT;gBACA;oBACE,KAAK;oBACL,OAAO;oBACP,oBAAM,6LAAC,6MAAI;wBAAC,WAAU;;;;;;oBACtB,MAAM;oBACN,OAAO;gBACT;gBACA;oBACE,KAAK;oBACL,OAAO;oBACP,oBAAM,6LAAC,gNAAK;wBAAC,WAAU;;;;;;oBACvB,MAAM;oBACN,OAAO;gBACT;aACD;oDACD,EAAE;IAGJ,MAAM,iBAAiB,CAAC,MAAyB;QAC/C,IAAI,SAAS,UAAU;YACrB,IAAI,UAAU,OACZ,OAAO,QAAQ,MAAM,KAAK,SAAS,QAAQ,IAAI,KAAK;YACtD,OAAO,QAAQ,MAAM,KAAK;QAC5B;QACA,OAAO,QAAQ,IAAI,KAAK;IAC1B;IAEA,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC;gBAAE,WAAU;0BAA8E;;;;;;0BAI3F,6LAAC;gBAAI,WAAU;0BACZ,aAAa,GAAG,CAAC,CAAC;oBACjB,MAAM,SAAS,eAAe,OAAO,IAAI,EAAE,OAAO,KAAK;oBAEvD,qBACE,6LAAC;wBAEC,MAAK;wBACL,SAAS;4BACP,IAAI,QAAQ;gCACV,oBAAoB,OAAO,IAAI,EAAE;gCACjC;4BACF;4BAEA,oBAAoB,OAAO,IAAI,EAAE,OAAO,KAAK;wBAC/C;wBACA,WAAW,IAAA,qHAAE,EACX,uGACA,SACI,gFACA;;0CAGN,6LAAC;gCAAI,WAAU;;kDACb,6LAAC;wCACC,WAAW,IAAA,qHAAE,EACX,yDACA,SAAS,iBAAiB;kDAG3B,OAAO,IAAI;;;;;;kDAEd,6LAAC;wCAAK,WAAU;kDACb,OAAO,IAAI,KAAK,WACb,EAAE,SAAS,CAAC,OAAO,CAAC,eAAe,IACnC,wBACA,EAAE,SAAS,CAAC,OAAO,CAAC,aAAa,IAAI;;;;;;;;;;;;0CAI7C,6LAAC;gCAAI,WAAU;0CACb,cAAA,6LAAC;oCACC,WAAW,IAAA,qHAAE,EACX,+CACA,SAAS,iBAAiB;8CAG3B,OAAO,KAAK;;;;;;;;;;;;uBAzCZ,OAAO,GAAG;;;;;gBA8CrB;;;;;;;;;;;;AAIR;GA9GwB;KAAA"}},
    {"offset": {"line": 686, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ameli/Documents/studia/projekt/ShareWay/frontend/app/dashboard/components/filters/DateRangeSection.tsx"],"sourcesContent":["import { Calendar } from \"lucide-react\";\r\nimport { Label } from \"@/app/components/ui/label\";\r\nimport { Input } from \"@/app/components/ui/input\";\r\nimport { cn } from \"@/lib/utils\";\r\n\r\nexport default function DateRangeSection({\r\n  t,\r\n  advancedFilters,\r\n  onAdvancedFilterChange,\r\n}: any) {\r\n  return (\r\n    <div className=\"space-y-3\">\r\n      <Label className=\"text-[11px] font-medium uppercase tracking-[0.16em] text-muted-foreground flex items-center gap-1\">\r\n        <Calendar className=\"h-3 w-3\" />\r\n        {t.dashboard.filters.dateRange}\r\n      </Label>\r\n\r\n      <div className=\"grid grid-cols-2 gap-3\">\r\n        <div className=\"space-y-1.5\">\r\n          <span className=\"text-[11px] text-muted-foreground\">\r\n            {t.dashboard.filters.from}\r\n          </span>\r\n          <Input\r\n            type=\"date\"\r\n            value={advancedFilters.dateFrom}\r\n            onChange={(e) => onAdvancedFilterChange(\"dateFrom\", e.target.value)}\r\n            className={cn(\r\n              \"bg-card/50 border-border/60 rounded-xl\",\r\n              \"focus-visible:ring-2 focus-visible:ring-primary/30 focus-visible:border-primary/60\"\r\n            )}\r\n          />\r\n        </div>\r\n\r\n        <div className=\"space-y-1.5\">\r\n          <span className=\"text-[11px] text-muted-foreground\">\r\n            {t.dashboard.filters.to}\r\n          </span>\r\n          <Input\r\n            type=\"date\"\r\n            value={advancedFilters.dateTo}\r\n            onChange={(e) => onAdvancedFilterChange(\"dateTo\", e.target.value)}\r\n            className={cn(\r\n              \"bg-card/50 border-border/60 rounded-xl\",\r\n              \"focus-visible:ring-2 focus-visible:ring-primary/30 focus-visible:border-primary/60\"\r\n            )}\r\n          />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;AACA;;;;;;AAEe,SAAS,iBAAiB,EACvC,CAAC,EACD,eAAe,EACf,sBAAsB,EAClB;IACJ,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC,6IAAK;gBAAC,WAAU;;kCACf,6LAAC,yNAAQ;wBAAC,WAAU;;;;;;oBACnB,EAAE,SAAS,CAAC,OAAO,CAAC,SAAS;;;;;;;0BAGhC,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBAAI,WAAU;;0CACb,6LAAC;gCAAK,WAAU;0CACb,EAAE,SAAS,CAAC,OAAO,CAAC,IAAI;;;;;;0CAE3B,6LAAC,6IAAK;gCACJ,MAAK;gCACL,OAAO,gBAAgB,QAAQ;gCAC/B,UAAU,CAAC,IAAM,uBAAuB,YAAY,EAAE,MAAM,CAAC,KAAK;gCAClE,WAAW,IAAA,qHAAE,EACX,0CACA;;;;;;;;;;;;kCAKN,6LAAC;wBAAI,WAAU;;0CACb,6LAAC;gCAAK,WAAU;0CACb,EAAE,SAAS,CAAC,OAAO,CAAC,EAAE;;;;;;0CAEzB,6LAAC,6IAAK;gCACJ,MAAK;gCACL,OAAO,gBAAgB,MAAM;gCAC7B,UAAU,CAAC,IAAM,uBAAuB,UAAU,EAAE,MAAM,CAAC,KAAK;gCAChE,WAAW,IAAA,qHAAE,EACX,0CACA;;;;;;;;;;;;;;;;;;;;;;;;AAOd;KA7CwB"}},
    {"offset": {"line": 801, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ameli/Documents/studia/projekt/ShareWay/frontend/app/dashboard/components/filters/ParticipantsSection.tsx"],"sourcesContent":["import { Users } from \"lucide-react\";\r\nimport { Label } from \"@/app/components/ui/label\";\r\nimport { Input } from \"@/app/components/ui/input\";\r\nimport { cn } from \"@/lib/utils\";\r\n\r\nexport default function ParticipantsSection({\r\n  t,\r\n  advancedFilters,\r\n  onAdvancedFilterChange,\r\n}: any) {\r\n  return (\r\n    <div className=\"space-y-3\">\r\n      <Label className=\"text-[11px] font-medium uppercase tracking-[0.16em] text-muted-foreground flex items-center gap-1\">\r\n        <Users className=\"h-3 w-3\" />\r\n        {t.dashboard.filters.participantsCount}\r\n      </Label>\r\n      <div className=\"grid grid-cols-2 gap-3\">\r\n        <div className=\"space-y-1.5\">\r\n          <span className=\"text-[11px] text-muted-foreground\">\r\n            {t.dashboard.filters.min}\r\n          </span>\r\n          <Input\r\n            type=\"number\"\r\n            min={0}\r\n            value={advancedFilters.minParticipants}\r\n            onChange={(e) =>\r\n              onAdvancedFilterChange(\"minParticipants\", e.target.value)\r\n            }\r\n            className={cn(\r\n              \"bg-card/50 border-border/60 rounded-xl text-sm\",\r\n              \"focus-visible:ring-2 focus-visible:ring-primary/30 focus-visible:border-primary/60\"\r\n            )}\r\n          />\r\n        </div>\r\n        <div className=\"space-y-1.5\">\r\n          <span className=\"text-[11px] text-muted-foreground\">\r\n            {t.dashboard.filters.max}\r\n          </span>\r\n          <Input\r\n            type=\"number\"\r\n            min={0}\r\n            value={advancedFilters.maxParticipants}\r\n            onChange={(e) =>\r\n              onAdvancedFilterChange(\"maxParticipants\", e.target.value)\r\n            }\r\n            className={cn(\r\n              \"bg-card/50 border-border/60 rounded-xl text-sm\",\r\n              \"focus-visible:ring-2 focus-visible:ring-primary/30 focus-visible:border-primary/60\"\r\n            )}\r\n          />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;AACA;;;;;;AAEe,SAAS,oBAAoB,EAC1C,CAAC,EACD,eAAe,EACf,sBAAsB,EAClB;IACJ,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC,6IAAK;gBAAC,WAAU;;kCACf,6LAAC,gNAAK;wBAAC,WAAU;;;;;;oBAChB,EAAE,SAAS,CAAC,OAAO,CAAC,iBAAiB;;;;;;;0BAExC,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBAAI,WAAU;;0CACb,6LAAC;gCAAK,WAAU;0CACb,EAAE,SAAS,CAAC,OAAO,CAAC,GAAG;;;;;;0CAE1B,6LAAC,6IAAK;gCACJ,MAAK;gCACL,KAAK;gCACL,OAAO,gBAAgB,eAAe;gCACtC,UAAU,CAAC,IACT,uBAAuB,mBAAmB,EAAE,MAAM,CAAC,KAAK;gCAE1D,WAAW,IAAA,qHAAE,EACX,kDACA;;;;;;;;;;;;kCAIN,6LAAC;wBAAI,WAAU;;0CACb,6LAAC;gCAAK,WAAU;0CACb,EAAE,SAAS,CAAC,OAAO,CAAC,GAAG;;;;;;0CAE1B,6LAAC,6IAAK;gCACJ,MAAK;gCACL,KAAK;gCACL,OAAO,gBAAgB,eAAe;gCACtC,UAAU,CAAC,IACT,uBAAuB,mBAAmB,EAAE,MAAM,CAAC,KAAK;gCAE1D,WAAW,IAAA,qHAAE,EACX,kDACA;;;;;;;;;;;;;;;;;;;;;;;;AAOd;KAjDwB"}},
    {"offset": {"line": 918, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ameli/Documents/studia/projekt/ShareWay/frontend/app/dashboard/components/filters/DashboardFiltersSidebar.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useMemo, useRef, useState } from \"react\";\r\nimport { AnimatePresence, motion } from \"framer-motion\";\r\nimport {\r\n  ChevronLeft,\r\n  Filter,\r\n  X,\r\n  ChevronDown,\r\n  ChevronUp,\r\n  Search,\r\n  ArrowUpDown,\r\n} from \"lucide-react\";\r\nimport { Button } from \"@/app/components/ui/button\";\r\nimport { cn } from \"@/lib/utils\";\r\nimport SortControl from \"@/app/dashboard/components/SortControl\";\r\n\r\nimport FilterSearchSection from \"@/app/dashboard/components/filters/FilterSearchSection\";\r\nimport QuickFiltersSection from \"@/app/dashboard/components/filters/QuickFiltersSection\";\r\nimport DateRangeSection from \"@/app/dashboard/components/filters/DateRangeSection\";\r\nimport ParticipantsSection from \"@/app/dashboard/components/filters/ParticipantsSection\";\r\nimport type {\r\n  DashboardFiltersSidebarProps,\r\n  FilterState,\r\n} from \"@/lib/types/trip\";\r\n\r\ntype TooltipSide = \"top\" | \"right\" | \"bottom\" | \"left\";\r\ntype PanelKey = \"search\" | \"filters\" | \"sort\";\r\n\r\nfunction Tooltip({\r\n  children,\r\n  content,\r\n  side = \"right\",\r\n}: {\r\n  children: React.ReactNode;\r\n  content: string;\r\n  side?: TooltipSide;\r\n}) {\r\n  const positions: Record<TooltipSide, string> = {\r\n    top: \"bottom-full left-1/2 -translate-x-1/2 mb-1\",\r\n    bottom: \"top-full left-1/2 -translate-x-1/2 mt-1\",\r\n    left: \"right-full top-1/2 -translate-y-1/2 mr-1\",\r\n    right: \"left-full top-1/2 -translate-y-1/2 ml-1\",\r\n  };\r\n\r\n  return (\r\n    <div className=\"relative inline-block group\">\r\n      {children}\r\n      <div\r\n        className={cn(\r\n          \"pointer-events-none absolute whitespace-nowrap rounded-md bg-gray-900 text-white text-[11px] px-2 py-1 shadow-lg z-50\",\r\n          \"opacity-0 group-hover:opacity-100 transition-opacity\",\r\n          positions[side]\r\n        )}\r\n      >\r\n        {content}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default function DashboardFiltersSidebar({\r\n  t,\r\n  filters,\r\n  advancedFilters,\r\n  hasAdvancedFilters,\r\n  onSearchChange,\r\n  searchOptions,\r\n  onQuickFilterChange,\r\n  onAdvancedFilterChange,\r\n  onReset,\r\n  collapsed,\r\n  setCollapsed,\r\n  mobileOpen,\r\n  setMobileOpen,\r\n  sortMode,\r\n  onSortChange,\r\n}: DashboardFiltersSidebarProps) {\r\n  const [showAdvanced, setShowAdvanced] = useState(false);\r\n  const [openPanels, setOpenPanels] = useState<PanelKey[]>([\"filters\"]);\r\n  const searchInputRef = useRef<HTMLInputElement>(null);\r\n\r\n  const activeFiltersCount = useMemo(() => {\r\n    let count = 0;\r\n    if (filters.role !== \"ALL\") count++;\r\n    if (filters.status !== \"ALL\") count++;\r\n    if (filters.dateFrom || filters.dateTo) count++;\r\n    if (filters.minParticipants || filters.maxParticipants) count++;\r\n    return count;\r\n  }, [filters]);\r\n\r\n  const searchActive = !!filters.search.trim();\r\n  const quickActive = filters.role !== \"ALL\" || filters.status !== \"ALL\";\r\n  const advancedActive =\r\n    !!filters.dateFrom ||\r\n    !!filters.dateTo ||\r\n    !!filters.minParticipants ||\r\n    !!filters.maxParticipants;\r\n  const filtersActive = quickActive || advancedActive;\r\n  const sortActive = sortMode !== \"newest\";\r\n  const anythingActive = searchActive || filtersActive || sortActive;\r\n  const resetSearch = () => onSearchChange(\"\");\r\n  const resetFiltersAll = () => {\r\n    onQuickFilterChange(\"status\", \"ALL\");\r\n    onQuickFilterChange(\"role\", \"ALL\");\r\n    onAdvancedFilterChange(\"dateFrom\", \"\");\r\n    onAdvancedFilterChange(\"dateTo\", \"\");\r\n    onAdvancedFilterChange(\"minParticipants\", \"\");\r\n    onAdvancedFilterChange(\"maxParticipants\", \"\");\r\n  };\r\n  const resetSort = () => onSortChange(\"newest\");\r\n  const resetAll = () => {\r\n    resetSearch();\r\n    resetFiltersAll();\r\n    resetSort();\r\n  };\r\n\r\n  const panelButtons = useMemo(\r\n    () => [\r\n      {\r\n        key: \"search\" as PanelKey,\r\n        label: t.dashboard.filters.searchLabel ?? \"Szukaj\",\r\n        icon: <Search className=\"h-4 w-4\" />,\r\n        active: searchActive,\r\n      },\r\n      {\r\n        key: \"filters\" as PanelKey,\r\n        label: t.dashboard.filters.sidebarTitle ?? \"Filtry\",\r\n        icon: <Filter className=\"h-4 w-4\" />,\r\n        active: filtersActive,\r\n      },\r\n      {\r\n        key: \"sort\" as PanelKey,\r\n        label: \"Sortuj\",\r\n        icon: <ArrowUpDown className=\"h-4 w-4\" />,\r\n        active: sortActive,\r\n      },\r\n    ],\r\n    [t, searchActive, filtersActive, sortActive]\r\n  );\r\n\r\n  const togglePanel = (panel: PanelKey) => {\r\n    setOpenPanels((prev) => {\r\n      const isOpen = prev.includes(panel);\r\n      const next = isOpen ? prev.filter((p) => p !== panel) : [...prev, panel];\r\n\r\n      if (!isOpen && panel === \"search\") {\r\n        requestAnimationFrame(() => searchInputRef.current?.focus());\r\n      }\r\n\r\n      return next;\r\n    });\r\n  };\r\n\r\n  const renderPanelContent = (panel: PanelKey) => {\r\n    switch (panel) {\r\n      case \"search\":\r\n        return (\r\n          <div className=\"space-y-5\">\r\n            <FilterSearchSection\r\n              t={t}\r\n              filters={filters}\r\n              onSearchChange={onSearchChange}\r\n              searchInputRef={searchInputRef}\r\n              suggestionOptions={searchOptions}\r\n            />\r\n          </div>\r\n        );\r\n\r\n      case \"filters\":\r\n        return (\r\n          <div className=\"space-y-5\">\r\n            <QuickFiltersSection\r\n              t={t}\r\n              filters={filters}\r\n              onQuickFilterChange={onQuickFilterChange}\r\n            />\r\n\r\n            <div>\r\n              <button\r\n                onClick={() => setShowAdvanced((s) => !s)}\r\n                className=\"flex items-center justify-between w-full text-xs font-medium uppercase tracking-[0.16em] text-muted-foreground mt-4 mb-2\"\r\n              >\r\n                <span>{t.dashboard.filters.advanced}</span>\r\n                {showAdvanced ? (\r\n                  <ChevronUp className=\"h-3.5 w-3.5\" />\r\n                ) : (\r\n                  <ChevronDown className=\"h-3.5 w-3.5\" />\r\n                )}\r\n              </button>\r\n\r\n              <AnimatePresence initial={false}>\r\n                {showAdvanced && (\r\n                  <motion.div\r\n                    initial={{ height: 0, opacity: 0 }}\r\n                    animate={{ height: \"auto\", opacity: 1 }}\r\n                    exit={{ height: 0, opacity: 0 }}\r\n                    transition={{ duration: 0.25 }}\r\n                    className=\"space-y-6 overflow-hidden\"\r\n                  >\r\n                    <DateRangeSection\r\n                      t={t}\r\n                      advancedFilters={advancedFilters}\r\n                      onAdvancedFilterChange={onAdvancedFilterChange}\r\n                    />\r\n                    <ParticipantsSection\r\n                      t={t}\r\n                      advancedFilters={advancedFilters}\r\n                      onAdvancedFilterChange={onAdvancedFilterChange}\r\n                    />\r\n                  </motion.div>\r\n                )}\r\n              </AnimatePresence>\r\n            </div>\r\n          </div>\r\n        );\r\n\r\n      case \"sort\":\r\n        return (\r\n          <div className=\"space-y-4\">\r\n            <p className=\"text-xs text-muted-foreground px-1\">\r\n              Steruj kolejnością listy podróży.\r\n            </p>\r\n            <div className=\"max-w-xs\">\r\n              <SortControl inline value={sortMode} onChange={onSortChange} />\r\n            </div>\r\n          </div>\r\n        );\r\n\r\n      default:\r\n        return null;\r\n    }\r\n  };\r\n\r\n  const renderContent = (isMobile: boolean) => (\r\n    <div className=\"flex h-full flex-col gap-5 px-3 pb-6 bg-card/70 dark:bg-slate-900/70 backdrop-blur-md border border-border/60 shadow-[0_10px_40px_-18px_rgba(0,0,0,0.45)]\">\r\n      <div className=\"flex items-center justify-between gap-2 pt-4 px-1\">\r\n        <div className=\"flex items-center justify-start w-full px-1\">\r\n          {!collapsed && !isMobile && (\r\n            <span\r\n              role=\"button\"\r\n              tabIndex={anythingActive ? 0 : -1}\r\n              onClick={() => {\r\n                if (anythingActive) resetAll();\r\n              }}\r\n              onKeyDown={(e) => {\r\n                if (!anythingActive) return;\r\n                if (e.key === \"Enter\" || e.key === \" \") {\r\n                  e.preventDefault();\r\n                  resetAll();\r\n                }\r\n              }}\r\n              className={cn(\r\n                \"text-[11px] uppercase tracking-[0.14em] font-semibold select-none transition\",\r\n                anythingActive\r\n                  ? \"text-primary hover:text-primary/80 cursor-pointer\"\r\n                  : \"text-muted-foreground cursor-default\"\r\n              )}\r\n            >\r\n              Resetuj wszystko\r\n            </span>\r\n          )}\r\n        </div>\r\n\r\n        {isMobile ? (\r\n          <Button\r\n            variant=\"ghost\"\r\n            size=\"icon\"\r\n            onClick={() => setMobileOpen(false)}\r\n            className=\"h-8 w-8 rounded-xl\"\r\n          >\r\n            <X className=\"h-4 w-4\" />\r\n          </Button>\r\n        ) : (\r\n          <Button\r\n            variant=\"ghost\"\r\n            size=\"icon\"\r\n            onClick={() => setCollapsed((c) => !c)}\r\n            className=\"h-8 w-8 rounded-xl\"\r\n          >\r\n            <ChevronLeft\r\n              className={cn(\r\n                \"h-4 w-4 transition-transform text-muted-foreground\",\r\n                collapsed && \"rotate-180\"\r\n              )}\r\n            />\r\n          </Button>\r\n        )}\r\n      </div>\r\n\r\n      {(!collapsed || isMobile) && (\r\n        <div className=\"flex-1 overflow-y-auto space-y-4 pr-1 no-scrollbar\">\r\n          <div className=\"flex flex-col gap-2 px-1\">\r\n            {panelButtons.map((btn) => {\r\n              const isOpen = openPanels.includes(btn.key);\r\n              const isActive = btn.active;\r\n              return (\r\n                <div key={btn.key} className=\"flex flex-col gap-2\">\r\n                  <button\r\n                    onClick={() => togglePanel(btn.key)}\r\n                    aria-pressed={isOpen}\r\n                    className={cn(\r\n                      \"flex items-center gap-2 rounded-xl border px-3 py-2 text-sm font-semibold transition w-full justify-start\",\r\n                      isActive\r\n                        ? \"border-primary/60 bg-primary/10 text-primary shadow-[0_8px_30px_-20px_rgba(0,0,0,0.45)]\"\r\n                        : cn(\r\n                            \"border-border bg-background/60 hover:bg-muted/70 text-foreground\",\r\n                            isOpen && \"ring-1 ring-border/60 bg-background/70\"\r\n                          )\r\n                    )}\r\n                  >\r\n                    {btn.icon}\r\n                    <span className=\"sr-only\">{btn.label}</span>\r\n                    <span className=\"inline\">{btn.label}</span>\r\n                    {isActive && (\r\n                      <span\r\n                        role=\"button\"\r\n                        tabIndex={0}\r\n                        onClick={(e) => {\r\n                          e.stopPropagation();\r\n                          if (btn.key === \"search\") resetSearch();\r\n                          if (btn.key === \"filters\") resetFiltersAll();\r\n                          if (btn.key === \"sort\") resetSort();\r\n                        }}\r\n                        onKeyDown={(e) => {\r\n                          if (e.key === \"Enter\" || e.key === \" \") {\r\n                            e.preventDefault();\r\n                            e.stopPropagation();\r\n                            if (btn.key === \"search\") resetSearch();\r\n                            if (btn.key === \"filters\") resetFiltersAll();\r\n                            if (btn.key === \"sort\") resetSort();\r\n                          }\r\n                        }}\r\n                        className=\"ml-auto text-[10px] uppercase tracking-[0.12em] text-primary hover:underline cursor-pointer select-none\"\r\n                      >\r\n                        Resetuj\r\n                      </span>\r\n                    )}\r\n                  </button>\r\n\r\n                  {isOpen && (\r\n                    <div className=\"pl-1 pr-0.5\">\r\n                      {renderPanelContent(btn.key)}\r\n                    </div>\r\n                  )}\r\n                </div>\r\n              );\r\n            })}\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n\r\n  return (\r\n    <>\r\n      <div className=\"hidden md:block\">\r\n        <motion.aside\r\n          initial={false}\r\n          animate={{ width: collapsed ? 64 : 300 }}\r\n          transition={{ type: \"spring\", stiffness: 120, damping: 20 }}\r\n          className=\"fixed left-0 top-16 z-20 h-[calc(100vh-4rem)] border-r border-border/70 bg-background/70 backdrop-blur-md\"\r\n        >\r\n          {!collapsed ? (\r\n            renderContent(false)\r\n          ) : (\r\n            <div className=\"flex flex-col items-center py-6 space-y-4\">\r\n              {panelButtons.map((btn) => (\r\n                <Tooltip\r\n                  key={btn.key}\r\n                  content={\r\n                    btn.key === \"filters\"\r\n                      ? `${btn.label} (${activeFiltersCount})`\r\n                      : btn.label\r\n                  }\r\n                  side=\"right\"\r\n                >\r\n                  <button\r\n                    onClick={() => {\r\n                      togglePanel(btn.key);\r\n                      setCollapsed(false);\r\n                    }}\r\n                    className={cn(\r\n                      \"relative h-11 w-11 rounded-xl border flex items-center justify-center transition\",\r\n                      \"bg-background/70 hover:bg-muted/70 border-border text-muted-foreground\",\r\n                      btn.active &&\r\n                        \"border-primary/60 bg-primary/10 text-primary shadow-[0_8px_30px_-20px_rgba(0,0,0,0.45)]\"\r\n                    )}\r\n                  >\r\n                    {btn.icon}\r\n                    {btn.key === \"filters\" && activeFiltersCount > 0 && (\r\n                      <span className=\"absolute -top-1.5 -right-1.5 h-4 w-4 rounded-full bg-primary text-[10px] text-white flex items-center justify-center\">\r\n                        {activeFiltersCount}\r\n                      </span>\r\n                    )}\r\n                  </button>\r\n                </Tooltip>\r\n              ))}\r\n            </div>\r\n          )}\r\n        </motion.aside>\r\n      </div>\r\n\r\n      <AnimatePresence>\r\n        {mobileOpen && (\r\n          <motion.aside\r\n            key=\"mobileSidebar\"\r\n            initial={{ opacity: 0, y: \"-100%\" }}\r\n            animate={{ opacity: 1, y: 0 }}\r\n            exit={{ opacity: 0, y: \"-100%\" }}\r\n            transition={{ duration: 0.35, ease: \"easeOut\" }}\r\n            className=\"fixed inset-0 z-50 bg-background/95 backdrop-blur-xl flex flex-col md:hidden\"\r\n          >\r\n            {renderContent(true)}\r\n          </motion.aside>\r\n        )}\r\n      </AnimatePresence>\r\n    </>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1516, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ameli/Documents/studia/projekt/ShareWay/frontend/app/components/ui/badge.tsx"],"sourcesContent":["import * as React from \"react\";\r\nimport { cn } from \"@/lib/utils\";\r\n\r\ntype BadgeVariant = \"default\" | \"secondary\" | \"outline\";\r\n\r\ninterface BadgeProps extends React.HTMLAttributes<HTMLSpanElement> {\r\n  className?: string;\r\n  children: React.ReactNode;\r\n  variant?: BadgeVariant;\r\n}\r\n\r\nconst variantClasses: Record<BadgeVariant, string> = {\r\n  default: \"bg-muted text-foreground border-border/70\",\r\n  secondary: \"bg-muted/60 text-foreground/80 border-border/60\",\r\n  outline: \"text-muted-foreground border-border\",\r\n};\r\n\r\nexport function Badge({\r\n  className,\r\n  children,\r\n  variant = \"default\",\r\n  ...props\r\n}: BadgeProps) {\r\n  return (\r\n    <span\r\n      className={cn(\r\n        \"inline-flex items-center rounded-full border px-3 py-1 text-xs font-medium\",\r\n        variantClasses[variant],\r\n        className\r\n      )}\r\n      {...props}\r\n    >\r\n      {children}\r\n    </span>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AACA;;;AAUA,MAAM,iBAA+C;IACnD,SAAS;IACT,WAAW;IACX,SAAS;AACX;AAEO,SAAS,MAAM,EACpB,SAAS,EACT,QAAQ,EACR,UAAU,SAAS,EACnB,GAAG,OACQ;IACX,qBACE,6LAAC;QACC,WAAW,IAAA,qHAAE,EACX,8EACA,cAAc,CAAC,QAAQ,EACvB;QAED,GAAG,KAAK;kBAER;;;;;;AAGP;KAlBgB"}},
    {"offset": {"line": 1550, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ameli/Documents/studia/projekt/ShareWay/frontend/app/dashboard/components/TripCard.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useEffect, useMemo, useState } from \"react\";\r\nimport Image from \"next/image\";\r\nimport { motion, useMotionValue, useSpring, useTransform } from \"framer-motion\";\r\nimport { MapPin, Calendar, Copy, ChevronRight, Users } from \"lucide-react\";\r\nimport { Button } from \"@/app/components/ui/button\";\r\nimport { Avatar, AvatarFallback } from \"@/app/components/ui/avatar\";\r\nimport { Badge } from \"@/app/components/ui/badge\";\r\nimport { cn } from \"@/lib/utils\";\r\nimport type { Trip, TripAccentPreset, TripMember } from \"@/lib/types/trip\";\r\nimport { toast } from \"sonner\";\r\n\r\ninterface TripCardProps {\r\n  trip: Trip;\r\n  index: number;\r\n  onOpen: (trip: Trip) => void;\r\n}\r\n\r\nconst accentStyles: Record<\r\n  TripAccentPreset,\r\n  { gradient: string; glow: string; badge: string }\r\n> = {\r\n  beach: {\r\n    gradient: \"from-trip-beach/20 via-trip-beach/10 to-transparent\",\r\n    glow: \"group-hover:shadow-[0_8px_40px_-12px_hsl(var(--trip-beach)/0.5)]\",\r\n    badge: \"bg-trip-beach/10 text-trip-beach border-trip-beach/30\",\r\n  },\r\n  mountains: {\r\n    gradient: \"from-trip-mountains/20 via-trip-mountains/10 to-transparent\",\r\n    glow: \"group-hover:shadow-[0_8px_40px_-12px_hsl(var(--trip-mountains)/0.5)]\",\r\n    badge: \"bg-trip-mountains/10 text-trip-mountains border-trip-mountains/30\",\r\n  },\r\n  city: {\r\n    gradient: \"from-trip-city/20 via-trip-city/10 to-transparent\",\r\n    glow: \"group-hover:shadow-[0_8px_40px_-12px_hsl(var(--trip-city)/0.5)]\",\r\n    badge: \"bg-trip-city/10 text-trip-city border-trip-city/30\",\r\n  },\r\n  neutral: {\r\n    gradient: \"from-primary/10 via-accent/5 to-transparent\",\r\n    glow: \"group-hover:shadow-card-hover\",\r\n    badge: \"bg-muted text-muted-foreground border-border\",\r\n  },\r\n  desert: {\r\n    gradient: \"from-orange-400/10 via-amber-300/10 to-transparent\",\r\n    glow: \"group-hover:shadow-[0_8px_40px_-12px_rgba(251,191,36,0.35)]\",\r\n    badge: \"bg-amber-200/40 text-amber-700 border-amber-300/60\",\r\n  },\r\n  tropical: {\r\n    gradient: \"from-cyan-400/15 via-emerald-300/10 to-transparent\",\r\n    glow: \"group-hover:shadow-[0_8px_40px_-12px_rgba(16,185,129,0.35)]\",\r\n    badge: \"bg-emerald-200/40 text-emerald-700 border-emerald-300/60\",\r\n  },\r\n  winter: {\r\n    gradient: \"from-sky-300/15 via-slate-200/10 to-transparent\",\r\n    glow: \"group-hover:shadow-[0_8px_40px_-12px_rgba(125,211,252,0.35)]\",\r\n    badge: \"bg-sky-200/40 text-sky-800 border-sky-300/60\",\r\n  },\r\n  lake: {\r\n    gradient: \"from-indigo-400/15 via-cyan-300/10 to-transparent\",\r\n    glow: \"group-hover:shadow-[0_8px_40px_-12px_rgba(59,130,246,0.35)]\",\r\n    badge: \"bg-indigo-200/40 text-indigo-800 border-indigo-300/60\",\r\n  },\r\n  countryside: {\r\n    gradient: \"from-emerald-300/15 via-lime-300/10 to-transparent\",\r\n    glow: \"group-hover:shadow-[0_8px_40px_-12px_rgba(74,222,128,0.35)]\",\r\n    badge: \"bg-emerald-200/40 text-emerald-800 border-emerald-300/60\",\r\n  },\r\n  adventure: {\r\n    gradient: \"from-orange-400/15 via-lime-300/10 to-transparent\",\r\n    glow: \"group-hover:shadow-[0_8px_40px_-12px_rgba(249,115,22,0.35)]\",\r\n    badge: \"bg-orange-200/40 text-orange-800 border-orange-300/60\",\r\n  },\r\n};\r\n\r\nfunction getAccentPreset(trip: Trip): TripAccentPreset {\r\n  if (trip.accentPreset) return trip.accentPreset;\r\n  const text = `${trip.name} ${trip.destination}`.toLowerCase();\r\n  if (/beach|sea|ocean|coast|island|tropical|morze|plaża/.test(text)) {\r\n    return \"beach\";\r\n  }\r\n  if (/mountain|alps|hiking|peak|ski|góry|tatry|zakopane/.test(text)) {\r\n    return \"mountains\";\r\n  }\r\n  if (/city|urban|downtown|metro|miasto|barcelona|paris/.test(text)) {\r\n    return \"city\";\r\n  }\r\n  if (/desert|sahara|dune|pustyn/i.test(text)) return \"desert\";\r\n  if (/tropic|island|bali|hawai|palma/i.test(text)) return \"tropical\";\r\n  if (/winter|snow|ski|zima|lodow|iceland/i.test(text)) return \"winter\";\r\n  if (/lake|jezior|mazury|fjord/i.test(text)) return \"lake\";\r\n  if (/village|countryside|farm|wieś|wiejski/i.test(text)) return \"countryside\";\r\n  if (/camp|adventure|forest|obóz|biwak/i.test(text)) return \"adventure\";\r\n  return \"neutral\";\r\n}\r\n\r\nconst imageUrlCache = new Map<string, string>();\r\nconst LOCAL_CACHE_KEY = \"dashboard-destination-image-cache-v2-no-fallback\";\r\nlet cacheHydratedFromStorage = false;\r\n\r\nfunction hydrateCacheFromStorage() {\r\n  if (cacheHydratedFromStorage) return;\r\n  cacheHydratedFromStorage = true;\r\n  if (typeof window === \"undefined\") return;\r\n\r\n  try {\r\n    // Drop legacy cache that could contain fallback images.\r\n    window.localStorage.removeItem(\"dashboard-destination-image-cache-v1\");\r\n    const raw = window.localStorage.getItem(LOCAL_CACHE_KEY);\r\n    if (!raw) return;\r\n    const parsed = JSON.parse(raw) as Record<string, string>;\r\n    Object.entries(parsed).forEach(([key, value]) => {\r\n      if (typeof key === \"string\" && typeof value === \"string\") {\r\n        imageUrlCache.set(key, value);\r\n      }\r\n    });\r\n  } catch {}\r\n}\r\n\r\nfunction persistCacheToStorage() {\r\n  if (typeof window === \"undefined\") return;\r\n  const entries = Array.from(imageUrlCache.entries());\r\n  const limited = entries.slice(Math.max(0, entries.length - 50));\r\n  const asObject = Object.fromEntries(limited);\r\n  try {\r\n    window.localStorage.setItem(LOCAL_CACHE_KEY, JSON.stringify(asObject));\r\n  } catch {}\r\n}\r\n\r\nconst fallbackMembers: TripMember[] = [\r\n  { id: \"f1\", name: \"Alicja Nowak\" },\r\n  { id: \"f2\", name: \"Bartek Kowalski\" },\r\n  { id: \"f3\", name: \"Celina Wójcik\" },\r\n  { id: \"f4\", name: \"Darek Lis\" },\r\n  { id: \"f5\", name: \"Ewa Maj\" },\r\n  { id: \"f6\", name: \"Filip Król\" },\r\n];\r\n\r\nfunction withFallbackMembers(trip: Trip): TripMember[] {\r\n  if (trip.members.length > 0) return trip.members;\r\n  // Deterministyczny fallback\r\n  const seed = Number(trip.id) || trip.id.length;\r\n  return fallbackMembers\r\n    .map((m, i) => ({ ...m, id: `${m.id}-${seed + i}` }))\r\n    .slice(seed % 3, (seed % 3) + 4);\r\n}\r\n\r\nexport default function TripCard({ trip, index, onOpen }: TripCardProps) {\r\n  const isOrganizer = trip.roleForCurrentUser === \"ORGANIZER\";\r\n  const isArchived = trip.status === \"ARCHIVED\";\r\n  const preset = getAccentPreset(trip);\r\n  const style = accentStyles[preset];\r\n  const cacheKey = useMemo(\r\n    () => `${preset}:${trip.destination.toLowerCase()}`,\r\n    [preset, trip.destination]\r\n  );\r\n  const [imageUrl, setImageUrl] = useState<string | null>(() => {\r\n    return imageUrlCache.get(cacheKey) ?? null;\r\n  });\r\n\r\n  const x = useMotionValue(0);\r\n  const y = useMotionValue(0);\r\n  const mouseXSpring = useSpring(x, { stiffness: 300, damping: 30 });\r\n  const mouseYSpring = useSpring(y, { stiffness: 300, damping: 30 });\r\n  const rotateX = useTransform(mouseYSpring, [-0.5, 0.5], [\"5deg\", \"-5deg\"]);\r\n  const rotateY = useTransform(mouseXSpring, [-0.5, 0.5], [\"-5deg\", \"5deg\"]);\r\n\r\n  const handleMouseMove = (e: React.MouseEvent<HTMLDivElement>) => {\r\n    const rect = e.currentTarget.getBoundingClientRect();\r\n    const mouseX = e.clientX - rect.left;\r\n    const mouseY = e.clientY - rect.top;\r\n    x.set(mouseX / rect.width - 0.5);\r\n    y.set(mouseY / rect.height - 0.5);\r\n  };\r\n\r\n  const handleMouseLeave = () => {\r\n    x.set(0);\r\n    y.set(0);\r\n  };\r\n\r\n  useEffect(() => {\r\n    const controller = new AbortController();\r\n    let mounted = true;\r\n    hydrateCacheFromStorage();\r\n    const cached = imageUrlCache.get(cacheKey);\r\n    if (cached) {\r\n      setImageUrl(cached);\r\n      return () => {\r\n        controller.abort();\r\n      };\r\n    }\r\n\r\n    setImageUrl(null);\r\n\r\n    const load = async () => {\r\n      try {\r\n        const params = new URLSearchParams({\r\n          q: trip.destination,\r\n          preset,\r\n        });\r\n        const res = await fetch(`/api/destination-image?${params.toString()}`, {\r\n          signal: controller.signal,\r\n        });\r\n        if (!res.ok) return;\r\n\r\n        const data = (await res.json()) as { url?: string };\r\n        if (mounted && data?.url) {\r\n          setImageUrl(data.url);\r\n          imageUrlCache.set(cacheKey, data.url);\r\n          persistCacheToStorage();\r\n        }\r\n      } catch (err) {\r\n        if (err instanceof DOMException && err.name === \"AbortError\") return;\r\n      }\r\n    };\r\n\r\n    load();\r\n\r\n    return () => {\r\n      mounted = false;\r\n      controller.abort();\r\n    };\r\n  }, [cacheKey, preset, trip.destination]);\r\n\r\n  const formatDate = (dateStr: string) =>\r\n    new Date(dateStr).toLocaleDateString(\"pl-PL\", {\r\n      day: \"numeric\",\r\n      month: \"short\",\r\n    });\r\n\r\n  const members = withFallbackMembers(trip);\r\n  const displayedMembers = members.slice(0, 3);\r\n  const remainingCount = Math.max(members.length - 3, 0);\r\n\r\n  const handleCopyCode = (e: React.MouseEvent) => {\r\n    e.stopPropagation();\r\n    if (trip.inviteCode) {\r\n      navigator.clipboard.writeText(trip.inviteCode);\r\n      toast.success(\"Kod skopiowany!\", { description: trip.inviteCode });\r\n    }\r\n  };\r\n\r\n  const avatarPalettes: Record<TripAccentPreset, string[]> = {\r\n    beach: [\r\n      \"bg-sky-500/60 dark:bg-sky-400/60\",\r\n      \"bg-cyan-400/60 dark:bg-cyan-300/60\",\r\n      \"bg-amber-400/60 dark:bg-amber-300/60\",\r\n    ],\r\n    mountains: [\r\n      \"bg-indigo-500/60 dark:bg-indigo-400/60\",\r\n      \"bg-violet-500/60 dark:bg-violet-400/60\",\r\n      \"bg-blue-500/60 dark:bg-blue-400/60\",\r\n    ],\r\n    city: [\r\n      \"bg-orange-500/60 dark:bg-orange-400/60\",\r\n      \"bg-rose-500/60 dark:bg-rose-400/60\",\r\n      \"bg-amber-500/60 dark:bg-amber-400/60\",\r\n    ],\r\n    desert: [\r\n      \"bg-amber-500/50 dark:bg-amber-400/50\",\r\n      \"bg-orange-400/50 dark:bg-orange-300/50\",\r\n      \"bg-yellow-400/50 dark:bg-yellow-300/50\",\r\n    ],\r\n    tropical: [\r\n      \"bg-cyan-400/55 dark:bg-cyan-300/55\",\r\n      \"bg-emerald-400/55 dark:bg-emerald-300/55\",\r\n      \"bg-amber-400/55 dark:bg-amber-300/55\",\r\n    ],\r\n    winter: [\r\n      \"bg-sky-300/55 dark:bg-sky-200/55\",\r\n      \"bg-slate-300/55 dark:bg-slate-200/55\",\r\n      \"bg-indigo-300/55 dark:bg-indigo-200/55\",\r\n    ],\r\n    lake: [\r\n      \"bg-indigo-400/55 dark:bg-indigo-300/55\",\r\n      \"bg-cyan-400/55 dark:bg-cyan-300/55\",\r\n      \"bg-violet-400/55 dark:bg-violet-300/55\",\r\n    ],\r\n    countryside: [\r\n      \"bg-emerald-400/55 dark:bg-emerald-300/55\",\r\n      \"bg-lime-400/55 dark:bg-lime-300/55\",\r\n      \"bg-amber-400/55 dark:bg-amber-300/55\",\r\n    ],\r\n    adventure: [\r\n      \"bg-orange-400/55 dark:bg-orange-300/55\",\r\n      \"bg-lime-400/55 dark:bg-lime-300/55\",\r\n      \"bg-emerald-400/55 dark:bg-emerald-300/55\",\r\n    ],\r\n    neutral: [\r\n      \"bg-slate-500/60 dark:bg-slate-400/60\",\r\n      \"bg-gray-500/60 dark:bg-gray-400/60\",\r\n      \"bg-zinc-500/60 dark:bg-zinc-400/60\",\r\n    ],\r\n  };\r\n  const avatarColors = avatarPalettes[preset];\r\n\r\n  const daysUntil = Math.ceil(\r\n    (new Date(trip.startDate).getTime() - Number(new Date())) /\r\n      (1000 * 60 * 60 * 24)\r\n  );\r\n  const tripDuration = Math.ceil(\r\n    (new Date(trip.endDate).getTime() - new Date(trip.startDate).getTime()) /\r\n      (1000 * 60 * 60 * 24)\r\n  );\r\n\r\n  return (\r\n    <motion.div\r\n      initial={{ opacity: 0 }}\r\n      animate={{ opacity: 1 }}\r\n      exit={{ opacity: 0 }}\r\n      transition={{ duration: 0.18 }}\r\n      className=\"h-full group perspective-1000\"\r\n      style={{ perspective: 1000 }}\r\n    >\r\n      <motion.div\r\n        onMouseMove={handleMouseMove}\r\n        onMouseLeave={handleMouseLeave}\r\n        style={{ rotateX, rotateY, transformStyle: \"preserve-3d\" }}\r\n        whileHover={{ scale: 1.02, y: -8 }}\r\n        whileTap={{ scale: 0.98 }}\r\n        transition={{ duration: 0.2 }}\r\n        className=\"h-full cursor-pointer\"\r\n        onClick={() => onOpen(trip)}\r\n      >\r\n        <div\r\n          className={cn(\r\n            \"relative h-full rounded-2xl overflow-hidden min-h-[280px]\",\r\n            \"border border-border/50 bg-card\",\r\n            \"shadow-card transition-all duration-500\",\r\n            style.glow,\r\n            isArchived && \"opacity-70 grayscale-35 contrast-90\"\r\n          )}\r\n        >\r\n          {isArchived && (\r\n            <div\r\n              aria-hidden\r\n              className=\"pointer-events-none absolute inset-0 bg-background/55 z-10\"\r\n            />\r\n          )}\r\n          <div className=\"relative h-28 overflow-hidden\">\r\n            {imageUrl ? (\r\n              <Image\r\n                src={imageUrl}\r\n                alt={`Zdjęcie destynacji ${trip.destination}`}\r\n                fill\r\n                className=\"object-cover\"\r\n                sizes=\"(min-width: 1280px) 360px, (min-width: 768px) 320px, 100vw\"\r\n                unoptimized\r\n                priority={index < 3}\r\n              />\r\n            ) : (\r\n              <div className=\"absolute inset-0 bg-linear-to-br from-background via-muted/30 to-background\" />\r\n            )}\r\n            <div className=\"absolute inset-0 bg-linear-to-br from-black/15 via-black/10 to-transparent dark:from-background/70 dark:via-background/45 dark:to-background/25 transition-colors\" />\r\n            <div\r\n              className={cn(\r\n                \"absolute inset-0 bg-linear-to-b pointer-events-none mix-blend-multiply dark:mix-blend-normal\",\r\n                style.gradient\r\n              )}\r\n            />\r\n\r\n            {!isArchived && daysUntil > 0 && (\r\n              <div className=\"absolute top-3 left-3\">\r\n                <div className=\"px-2 py-1 rounded-lg bg-background/80 backdrop-blur-sm border border-border/50\">\r\n                  <span className=\"text-xs font-bold text-foreground\">\r\n                    {daysUntil}\r\n                  </span>\r\n                  <span className=\"text-[10px] text-muted-foreground ml-1\">\r\n                    dni\r\n                  </span>\r\n                </div>\r\n              </div>\r\n            )}\r\n          </div>\r\n\r\n          <div className=\"p-4 flex flex-col h-[calc(100%-7rem)]\">\r\n            <div className=\"flex items-start justify-between gap-2 mb-2\">\r\n              <div className=\"min-w-0\">\r\n                <h3 className=\"font-semibold text-sm sm:text-base text-foreground line-clamp-1 group-hover:text-primary transition-colors\">\r\n                  {trip.name}\r\n                </h3>\r\n                <span className=\"text-[10px] sm:text-[11px] text-muted-foreground uppercase tracking-widest\">\r\n                  {isOrganizer ? \"Organizator\" : \"Uczestnik\"}\r\n                </span>\r\n              </div>\r\n\r\n              <Badge\r\n                variant=\"outline\"\r\n                className={cn(\r\n                  \"text-[10px] font-medium px-2 py-0.5 backdrop-blur-sm\",\r\n                  isArchived\r\n                    ? \"bg-muted/80 text-muted-foreground border-border\"\r\n                    : \"bg-accent/10 text-accent border-accent/30\"\r\n                )}\r\n              >\r\n                {isArchived ? \"Archiwum\" : \"Aktywna\"}\r\n              </Badge>\r\n            </div>\r\n\r\n            <div className=\"space-y-1.5 flex-1 text-[12px] sm:text-[13px]\">\r\n              <div className=\"flex items-center gap-2 text-foreground/80 leading-tight\">\r\n                <MapPin className=\"h-3 w-3 text-muted-foreground shrink-0\" />\r\n                <span className=\"truncate\">{trip.destination}</span>\r\n              </div>\r\n\r\n              <div className=\"flex items-center gap-2 text-foreground/80 leading-tight\">\r\n                <Calendar className=\"h-3 w-3 text-muted-foreground shrink-0\" />\r\n                <span>\r\n                  {formatDate(trip.startDate)} – {formatDate(trip.endDate)}\r\n                  <span className=\"text-muted-foreground ml-1\">\r\n                    ({tripDuration} dni)\r\n                  </span>\r\n                </span>\r\n              </div>\r\n\r\n              <div className=\"flex items-center gap-2 text-foreground/80 leading-tight\">\r\n                <Users className=\"h-3 w-3 text-muted-foreground shrink-0\" />\r\n                <span>{members.length} uczestników</span>\r\n              </div>\r\n\r\n              {trip.description && (\r\n                <p className=\"text-[12px] text-muted-foreground line-clamp-2 mt-1\">\r\n                  {trip.description}\r\n                </p>\r\n              )}\r\n            </div>\r\n\r\n            <div className=\"flex items-center justify-between pt-3 mt-auto border-top border-border/50\">\r\n              <div className=\"flex items-center\">\r\n                <div className=\"flex -space-x-2\">\r\n                  {displayedMembers.map((m, i) => (\r\n                    <Avatar\r\n                      key={m.id}\r\n                      className=\"h-7 w-7 border-2 border-card ring-0 rounded-full\"\r\n                    >\r\n                      <AvatarFallback\r\n                        className={cn(\r\n                          \"text-[10px] font-semibold text-white rounded-full\",\r\n                          avatarColors[i % avatarColors.length]\r\n                        )}\r\n                      >\r\n                        {m.name\r\n                          .split(\" \")\r\n                          .map((n) => n[0])\r\n                          .join(\"\")\r\n                          .toUpperCase()}\r\n                      </AvatarFallback>\r\n                    </Avatar>\r\n                  ))}\r\n                </div>\r\n                {remainingCount > 0 && (\r\n                  <span className=\"text-xs text-muted-foreground ml-2\">\r\n                    +{remainingCount}\r\n                  </span>\r\n                )}\r\n              </div>\r\n\r\n              <div className=\"flex items-center gap-1\">\r\n                {trip.inviteCode && (\r\n                  <Button\r\n                    variant=\"ghost\"\r\n                    size=\"icon\"\r\n                    onClick={handleCopyCode}\r\n                    className=\"h-8 w-8 rounded-lg text-muted-foreground hover:text-foreground hover:bg-muted/50\"\r\n                  >\r\n                    <Copy className=\"h-3.5 w-3.5\" />\r\n                  </Button>\r\n                )}\r\n\r\n                <Button\r\n                  variant=\"ghost\"\r\n                  size=\"sm\"\r\n                  onClick={(e) => {\r\n                    e.stopPropagation();\r\n                    onOpen(trip);\r\n                  }}\r\n                  className=\"rounded-lg text-xs h-8 px-3 group/btn hover:bg-muted/50\"\r\n                >\r\n                  Otwórz\r\n                  <ChevronRight className=\"h-3.5 w-3.5 ml-1 transition-transform group-hover/btn:translate-x-0.5\" />\r\n                </Button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </motion.div>\r\n    </motion.div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2311, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ameli/Documents/studia/projekt/ShareWay/frontend/app/dashboard/hooks/useTrips.ts"],"sourcesContent":["\"use client\";\r\n\r\nimport { useCallback, useEffect, useState } from \"react\";\r\nimport type { Trip } from \"@/lib/types/trip\";\r\n\r\ntype UseTripsState = {\r\n  trips: Trip[];\r\n  loading: boolean;\r\n  error: string | null;\r\n  reload: () => void;\r\n};\r\n\r\nexport function useTrips(): UseTripsState {\r\n  const [trips, setTrips] = useState<Trip[]>([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState<string | null>(null);\r\n  const [refreshIndex, setRefreshIndex] = useState(0);\r\n\r\n  const reload = useCallback(() => setRefreshIndex((v) => v + 1), []);\r\n\r\n  useEffect(() => {\r\n    const controller = new AbortController();\r\n\r\n    const fetchTrips = async () => {\r\n      setLoading(true);\r\n      setError(null);\r\n      try {\r\n        const res = await fetch(\"/api/trips\", { signal: controller.signal });\r\n        if (!res.ok) throw new Error(`HTTP ${res.status}`);\r\n        const data = (await res.json()) as { trips?: Trip[] };\r\n        setTrips(Array.isArray(data.trips) ? data.trips : []);\r\n      } catch (err) {\r\n        if (controller.signal.aborted) return;\r\n        const message =\r\n          err instanceof Error ? err.message : \"Nie udało się pobrać podróży.\";\r\n        setError(message);\r\n        setTrips([]);\r\n      } finally {\r\n        if (!controller.signal.aborted) {\r\n          setLoading(false);\r\n        }\r\n      }\r\n    };\r\n\r\n    fetchTrips();\r\n    return () => controller.abort();\r\n  }, [refreshIndex]);\r\n\r\n  return { trips, loading, error, reload };\r\n}\r\n"],"names":[],"mappings":";;;;AAEA;;AAFA;;AAYO,SAAS;;IACd,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,yKAAQ,EAAS,EAAE;IAC7C,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,yKAAQ,EAAC;IACvC,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,yKAAQ,EAAgB;IAClD,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,yKAAQ,EAAC;IAEjD,MAAM,SAAS,IAAA,4KAAW;wCAAC,IAAM;gDAAgB,CAAC,IAAM,IAAI;;uCAAI,EAAE;IAElE,IAAA,0KAAS;8BAAC;YACR,MAAM,aAAa,IAAI;YAEvB,MAAM;iDAAa;oBACjB,WAAW;oBACX,SAAS;oBACT,IAAI;wBACF,MAAM,MAAM,MAAM,MAAM,cAAc;4BAAE,QAAQ,WAAW,MAAM;wBAAC;wBAClE,IAAI,CAAC,IAAI,EAAE,EAAE,MAAM,IAAI,MAAM,CAAC,KAAK,EAAE,IAAI,MAAM,EAAE;wBACjD,MAAM,OAAQ,MAAM,IAAI,IAAI;wBAC5B,SAAS,MAAM,OAAO,CAAC,KAAK,KAAK,IAAI,KAAK,KAAK,GAAG,EAAE;oBACtD,EAAE,OAAO,KAAK;wBACZ,IAAI,WAAW,MAAM,CAAC,OAAO,EAAE;wBAC/B,MAAM,UACJ,eAAe,QAAQ,IAAI,OAAO,GAAG;wBACvC,SAAS;wBACT,SAAS,EAAE;oBACb,SAAU;wBACR,IAAI,CAAC,WAAW,MAAM,CAAC,OAAO,EAAE;4BAC9B,WAAW;wBACb;oBACF;gBACF;;YAEA;YACA;sCAAO,IAAM,WAAW,KAAK;;QAC/B;6BAAG;QAAC;KAAa;IAEjB,OAAO;QAAE;QAAO;QAAS;QAAO;IAAO;AACzC;GArCgB"}},
    {"offset": {"line": 2379, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ameli/Documents/studia/projekt/ShareWay/frontend/app/dashboard/hooks/useSidebar.ts"],"sourcesContent":["\"use client\";\r\n\r\nimport { useEffect, useMemo, useState } from \"react\";\r\n\r\nconst STORAGE_KEY = \"sidebar-open\";\r\n\r\nexport function useSidebar(initialOpen: boolean) {\r\n  const [isMobile, setIsMobile] = useState(false);\r\n  const [isSidebarOpen, setIsSidebarOpen] = useState(initialOpen);\r\n\r\n  useEffect(() => {\r\n    const syncState = () => {\r\n      const mobileNow = window.innerWidth < 768;\r\n      setIsMobile(mobileNow);\r\n\r\n      if (mobileNow) {\r\n        setIsSidebarOpen(false);\r\n        return;\r\n      }\r\n\r\n      const stored = localStorage.getItem(STORAGE_KEY);\r\n      if (stored !== null) {\r\n        setIsSidebarOpen(stored === \"true\");\r\n      }\r\n    };\r\n\r\n    syncState();\r\n    window.addEventListener(\"resize\", syncState);\r\n    return () => window.removeEventListener(\"resize\", syncState);\r\n  }, [initialOpen]);\r\n\r\n  useEffect(() => {\r\n    localStorage.setItem(STORAGE_KEY, String(isSidebarOpen));\r\n    document.cookie = `${STORAGE_KEY}=${String(\r\n      isSidebarOpen\r\n    )}; path=/; max-age=${60 * 60 * 24 * 365}`;\r\n  }, [isSidebarOpen]);\r\n\r\n  const sidebarWidth = useMemo(\r\n    () => (isMobile ? 0 : isSidebarOpen ? 280 : 70),\r\n    [isMobile, isSidebarOpen]\r\n  );\r\n\r\n  return { isMobile, isSidebarOpen, setIsSidebarOpen, sidebarWidth };\r\n}\r\n"],"names":[],"mappings":";;;;AAEA;;AAFA;;AAIA,MAAM,cAAc;AAEb,SAAS,WAAW,WAAoB;;IAC7C,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,yKAAQ,EAAC;IACzC,MAAM,CAAC,eAAe,iBAAiB,GAAG,IAAA,yKAAQ,EAAC;IAEnD,IAAA,0KAAS;gCAAC;YACR,MAAM;kDAAY;oBAChB,MAAM,YAAY,OAAO,UAAU,GAAG;oBACtC,YAAY;oBAEZ,IAAI,WAAW;wBACb,iBAAiB;wBACjB;oBACF;oBAEA,MAAM,SAAS,aAAa,OAAO,CAAC;oBACpC,IAAI,WAAW,MAAM;wBACnB,iBAAiB,WAAW;oBAC9B;gBACF;;YAEA;YACA,OAAO,gBAAgB,CAAC,UAAU;YAClC;wCAAO,IAAM,OAAO,mBAAmB,CAAC,UAAU;;QACpD;+BAAG;QAAC;KAAY;IAEhB,IAAA,0KAAS;gCAAC;YACR,aAAa,OAAO,CAAC,aAAa,OAAO;YACzC,SAAS,MAAM,GAAG,GAAG,YAAY,CAAC,EAAE,OAClC,eACA,kBAAkB,EAAE,KAAK,KAAK,KAAK,KAAK;QAC5C;+BAAG;QAAC;KAAc;IAElB,MAAM,eAAe,IAAA,wKAAO;4CAC1B,IAAO,WAAW,IAAI,gBAAgB,MAAM;2CAC5C;QAAC;QAAU;KAAc;IAG3B,OAAO;QAAE;QAAU;QAAe;QAAkB;IAAa;AACnE;GAtCgB"}},
    {"offset": {"line": 2446, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ameli/Documents/studia/projekt/ShareWay/frontend/app/dashboard/hooks/useFilteredTrips.ts"],"sourcesContent":["\"use client\";\r\n\r\nimport { useMemo } from \"react\";\r\nimport type { Trip, FilterState } from \"@/lib/types/trip\";\r\nimport type { SortMode } from \"@/app/dashboard/components/SortControl\";\r\nimport { normalizeSearchText } from \"@/lib/utils\";\r\n\r\nexport function useFilteredTrips(\r\n  trips: Trip[],\r\n  filters: FilterState,\r\n  sortMode: SortMode\r\n) {\r\n  return useMemo(() => {\r\n    let list = [...trips];\r\n\r\n    const searchTerm = normalizeSearchText(filters.search);\r\n    if (searchTerm) {\r\n      list = list.filter(\r\n        (t) =>\r\n          [t.name, t.destination, t.description ?? \"\", t.inviteCode ?? \"\"]\r\n            .concat(t.members?.map((m) => m.name) ?? [])\r\n            .some((field) =>\r\n              normalizeSearchText(field).includes(searchTerm)\r\n            )\r\n      );\r\n    }\r\n\r\n    if (filters.status !== \"ALL\") {\r\n      list = list.filter((t) => t.status === filters.status);\r\n    }\r\n\r\n    if (filters.role !== \"ALL\") {\r\n      list = list.filter((t) => t.roleForCurrentUser === filters.role);\r\n    }\r\n\r\n    const fromTime = filters.dateFrom ? Date.parse(filters.dateFrom) : NaN;\r\n    const toTime = filters.dateTo ? Date.parse(filters.dateTo) : NaN;\r\n    const hasFrom = Number.isFinite(fromTime);\r\n    const hasTo = Number.isFinite(toTime);\r\n\r\n    if (hasFrom || hasTo) {\r\n      list = list.filter((t) => {\r\n        const start = Date.parse(t.startDate);\r\n        const end = Date.parse(t.endDate);\r\n\r\n        if (hasFrom && end < fromTime) return false;\r\n        if (hasTo && start > toTime) return false;\r\n        return true;\r\n      });\r\n    }\r\n\r\n    const minP = filters.minParticipants\r\n      ? parseInt(filters.minParticipants, 10)\r\n      : NaN;\r\n    const maxP = filters.maxParticipants\r\n      ? parseInt(filters.maxParticipants, 10)\r\n      : NaN;\r\n\r\n    if (Number.isFinite(minP) || Number.isFinite(maxP)) {\r\n      list = list.filter((t) => {\r\n        const count = t.members?.length ?? 0;\r\n        if (Number.isFinite(minP) && count < minP) return false;\r\n        if (Number.isFinite(maxP) && count > maxP) return false;\r\n        return true;\r\n      });\r\n    }\r\n\r\n    list.sort((a, b) => {\r\n      if (a.status === \"ARCHIVED\" && b.status !== \"ARCHIVED\") return 1;\r\n      if (a.status !== \"ARCHIVED\" && b.status === \"ARCHIVED\") return -1;\r\n\r\n      switch (sortMode) {\r\n        case \"newest\":\r\n          return (\r\n            new Date(a.startDate).getTime() - new Date(b.startDate).getTime()\r\n          );\r\n        case \"oldest\":\r\n          return (\r\n            new Date(b.startDate).getTime() - new Date(a.startDate).getTime()\r\n          );\r\n        case \"a-z\":\r\n          return a.name.localeCompare(b.name);\r\n        case \"z-a\":\r\n          return b.name.localeCompare(a.name);\r\n        case \"participants\":\r\n          return (b.members?.length ?? 0) - (a.members?.length ?? 0);\r\n        default:\r\n          return 0;\r\n      }\r\n    });\r\n\r\n    return list;\r\n  }, [trips, filters, sortMode]);\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2551, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ameli/Documents/studia/projekt/ShareWay/frontend/app/dashboard/hooks/useDashboardState.ts"],"sourcesContent":["\"use client\";\r\n\r\nimport {\r\n  useLayoutEffect,\r\n  useState,\r\n  useMemo,\r\n  useCallback,\r\n} from \"react\";\r\nimport type { FilterState } from \"@/lib/types/trip\";\r\nimport type { SortMode } from \"@/app/dashboard/components/SortControl\";\r\n\r\nconst DEFAULT_FILTERS: FilterState = {\r\n  search: \"\",\r\n  status: \"ALL\",\r\n  role: \"ALL\",\r\n  dateFrom: \"\",\r\n  dateTo: \"\",\r\n  location: \"\",\r\n  minParticipants: \"\",\r\n  maxParticipants: \"\",\r\n};\r\n\r\nexport function useDashboardState() {\r\n  const [filters, setFilters] = useState<FilterState>(DEFAULT_FILTERS);\r\n  const [sortMode, setSortMode] = useState<SortMode>(\"newest\");\r\n  const [hydrated, setHydrated] = useState(false);\r\n\r\n  useLayoutEffect(() => {\r\n    const storedFilters = localStorage.getItem(\"dashboard-filters\");\r\n    const storedSort = localStorage.getItem(\"dashboard-sort\");\r\n\r\n    if (storedFilters) {\r\n      try {\r\n        const parsed = JSON.parse(storedFilters) as FilterState;\r\n        setFilters(parsed);\r\n      } catch {\r\n        setFilters(DEFAULT_FILTERS);\r\n      }\r\n    }\r\n\r\n    if (\r\n      storedSort === \"newest\" ||\r\n      storedSort === \"oldest\" ||\r\n      storedSort === \"a-z\" ||\r\n      storedSort === \"z-a\" ||\r\n      storedSort === \"participants\"\r\n    ) {\r\n      setSortMode(storedSort);\r\n    }\r\n\r\n    setHydrated(true);\r\n  }, []);\r\n\r\n  useLayoutEffect(() => {\r\n    if (!hydrated) return;\r\n    localStorage.setItem(\"dashboard-filters\", JSON.stringify(filters));\r\n    localStorage.setItem(\"dashboard-sort\", sortMode);\r\n  }, [filters, sortMode, hydrated]);\r\n\r\n  const resetFilters = useCallback(() => setFilters(DEFAULT_FILTERS), []);\r\n\r\n  const advancedFilters = useMemo(\r\n    () => ({\r\n      dateFrom: filters.dateFrom,\r\n      dateTo: filters.dateTo,\r\n      minParticipants: filters.minParticipants,\r\n      maxParticipants: filters.maxParticipants,\r\n    }),\r\n    [filters]\r\n  );\r\n\r\n  const hasAdvancedFilters = useMemo(\r\n    () => Object.values(advancedFilters).some((v) => v !== \"\"),\r\n    [advancedFilters]\r\n  );\r\n\r\n  return {\r\n    filters,\r\n    setFilters,\r\n    sortMode,\r\n    setSortMode,\r\n    resetFilters,\r\n    hydrated,\r\n    advancedFilters,\r\n    hasAdvancedFilters,\r\n  };\r\n}\r\n"],"names":[],"mappings":";;;;AAEA;;AAFA;;AAWA,MAAM,kBAA+B;IACnC,QAAQ;IACR,QAAQ;IACR,MAAM;IACN,UAAU;IACV,QAAQ;IACR,UAAU;IACV,iBAAiB;IACjB,iBAAiB;AACnB;AAEO,SAAS;;IACd,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,yKAAQ,EAAc;IACpD,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,yKAAQ,EAAW;IACnD,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,yKAAQ,EAAC;IAEzC,IAAA,gLAAe;6CAAC;YACd,MAAM,gBAAgB,aAAa,OAAO,CAAC;YAC3C,MAAM,aAAa,aAAa,OAAO,CAAC;YAExC,IAAI,eAAe;gBACjB,IAAI;oBACF,MAAM,SAAS,KAAK,KAAK,CAAC;oBAC1B,WAAW;gBACb,EAAE,OAAM;oBACN,WAAW;gBACb;YACF;YAEA,IACE,eAAe,YACf,eAAe,YACf,eAAe,SACf,eAAe,SACf,eAAe,gBACf;gBACA,YAAY;YACd;YAEA,YAAY;QACd;4CAAG,EAAE;IAEL,IAAA,gLAAe;6CAAC;YACd,IAAI,CAAC,UAAU;YACf,aAAa,OAAO,CAAC,qBAAqB,KAAK,SAAS,CAAC;YACzD,aAAa,OAAO,CAAC,kBAAkB;QACzC;4CAAG;QAAC;QAAS;QAAU;KAAS;IAEhC,MAAM,eAAe,IAAA,4KAAW;uDAAC,IAAM,WAAW;sDAAkB,EAAE;IAEtE,MAAM,kBAAkB,IAAA,wKAAO;sDAC7B,IAAM,CAAC;gBACL,UAAU,QAAQ,QAAQ;gBAC1B,QAAQ,QAAQ,MAAM;gBACtB,iBAAiB,QAAQ,eAAe;gBACxC,iBAAiB,QAAQ,eAAe;YAC1C,CAAC;qDACD;QAAC;KAAQ;IAGX,MAAM,qBAAqB,IAAA,wKAAO;yDAChC,IAAM,OAAO,MAAM,CAAC,iBAAiB,IAAI;iEAAC,CAAC,IAAM,MAAM;;wDACvD;QAAC;KAAgB;IAGnB,OAAO;QACL;QACA;QACA;QACA;QACA;QACA;QACA;QACA;IACF;AACF;GAhEgB"}},
    {"offset": {"line": 2642, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ameli/Documents/studia/projekt/ShareWay/frontend/app/dashboard/DashboardPageClient.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useEffect, useMemo, useState } from \"react\";\r\nimport { useRouter } from \"next/navigation\";\r\nimport { AnimatePresence, motion } from \"framer-motion\";\r\nimport DashboardFiltersSidebar from \"@/app/dashboard/components/filters/DashboardFiltersSidebar\";\r\nimport TripCard from \"@/app/dashboard/components/TripCard\";\r\nimport { useTrips } from \"@/app/dashboard/hooks/useTrips\";\r\nimport { useSidebar } from \"@/app/dashboard/hooks/useSidebar\";\r\nimport { useFilteredTrips } from \"@/app/dashboard/hooks/useFilteredTrips\";\r\nimport { useDashboardState } from \"@/app/dashboard/hooks/useDashboardState\";\r\nimport { cn, normalizeSearchText } from \"@/lib/utils\";\r\nimport { SlidersHorizontal, SearchX, Loader2 } from \"lucide-react\";\r\nimport { Input } from \"@/app/components/ui/input\";\r\nimport { Button } from \"@/app/components/ui/button\";\r\nimport type { Trip } from \"@/lib/types/trip\";\r\n\r\nconst t = {\r\n  dashboard: {\r\n    filters: {\r\n      sidebarTitle: \"Filtry\",\r\n      sidebarSubtitle: \"Zawężaj listę podróży\",\r\n      searchLabel: \"Wyszukiwanie\",\r\n      quickFiltersGroupLabel: \"Widok podróży\",\r\n      reset: \"Resetuj\",\r\n      clearAll: \"Wyczyść wszystkie\",\r\n      activeFiltersLabel: \"Aktywne filtry\",\r\n      advanced: \"Zaawansowane\",\r\n      buttonLabel: \"Filtry\",\r\n      from: \"Od\",\r\n      to: \"Do\",\r\n      location: \"Lokalizacja\",\r\n      locationPlaceholder: \"np. Chorwacja\",\r\n      participantsCount: \"Liczba uczestników\",\r\n      min: \"Min.\",\r\n      max: \"Maks.\",\r\n      dateRange: \"Zakres dat\",\r\n    },\r\n  },\r\n};\r\n\r\nexport default function DashboardPageClient({\r\n  initialSidebarOpen,\r\n}: {\r\n  initialSidebarOpen: boolean;\r\n}) {\r\n  const router = useRouter();\r\n  const {\r\n    filters,\r\n    setFilters,\r\n    sortMode,\r\n    setSortMode,\r\n    resetFilters,\r\n    advancedFilters,\r\n    hasAdvancedFilters,\r\n  } = useDashboardState();\r\n\r\n  const { isSidebarOpen, setIsSidebarOpen, isMobile, sidebarWidth } =\r\n    useSidebar(initialSidebarOpen);\r\n\r\n  const {\r\n    trips,\r\n    loading: tripsLoading,\r\n    error: tripsError,\r\n    reload: reloadTrips,\r\n  } = useTrips();\r\n\r\n  const filteredTrips = useFilteredTrips(trips, filters, sortMode);\r\n  const searchActive = filters.search.trim().length > 0;\r\n  const filtersActive =\r\n    filters.status !== \"ALL\" ||\r\n    filters.role !== \"ALL\" ||\r\n    filters.dateFrom ||\r\n    filters.dateTo ||\r\n    filters.minParticipants ||\r\n    filters.maxParticipants;\r\n  const [joinOpen, setJoinOpen] = useState(false);\r\n  const [joinCode, setJoinCode] = useState(\"\");\r\n  const [createOpen, setCreateOpen] = useState(false);\r\n  const [createForm, setCreateForm] = useState({\r\n    name: \"\",\r\n    destination: \"\",\r\n    startDate: \"\",\r\n    endDate: \"\",\r\n    description: \"\",\r\n  });\r\n  const [createImage, setCreateImage] = useState<string | null>(null);\r\n  const [createImageLoading, setCreateImageLoading] = useState(false);\r\n  const searchOptions = useMemo(() => {\r\n    const seen = new Map<string, string>();\r\n\r\n    trips.forEach((trip) => {\r\n      [trip.name, trip.destination, trip.description ?? \"\"].forEach((value) => {\r\n        const normalized = normalizeSearchText(value);\r\n        if (normalized && !seen.has(normalized)) {\r\n          seen.set(normalized, value);\r\n        }\r\n\r\n        value\r\n          .split(\",\")\r\n          .map((part) => part.trim())\r\n          .forEach((part) => {\r\n            const normalizedPart = normalizeSearchText(part);\r\n            if (normalizedPart && !seen.has(normalizedPart)) {\r\n              seen.set(normalizedPart, part);\r\n            }\r\n          });\r\n      });\r\n    });\r\n\r\n    return Array.from(seen.values());\r\n  }, [trips]);\r\n\r\n  const getAccentPresetFromText = (text: string) => {\r\n    const lower = normalizeSearchText(text);\r\n    if (/beach|sea|ocean|coast|island|tropical|morze|plaza/.test(lower)) {\r\n      return \"beach\";\r\n    }\r\n    if (/mountain|alps|hiking|peak|ski|gory|tatry|zakopane/.test(lower)) {\r\n      return \"mountains\";\r\n    }\r\n    if (\r\n      /city|urban|downtown|metro|miasto|barcelona|paris|tokio|japonia|japan/.test(\r\n        lower\r\n      )\r\n    ) {\r\n      return \"city\";\r\n    }\r\n    if (/desert|sahara|dune|pustyn/.test(lower)) return \"desert\";\r\n    if (/tropic|island|bali|hawai|palma/.test(lower)) return \"tropical\";\r\n    if (/winter|snow|ski|zima|lodow|iceland/.test(lower)) return \"winter\";\r\n    if (/lake|jezior|mazury|fjord/.test(lower)) return \"lake\";\r\n    if (/village|countryside|farm|wies|wiejski/.test(lower))\r\n      return \"countryside\";\r\n    if (/camp|adventure|forest|oboz|biwak/.test(lower)) return \"adventure\";\r\n    return \"neutral\";\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (!createOpen) return;\r\n    const destination = createForm.destination.trim();\r\n    if (!destination) {\r\n      setCreateImage(null);\r\n      setCreateImageLoading(false);\r\n      return;\r\n    }\r\n\r\n    const controller = new AbortController();\r\n    const norm = normalizeSearchText(destination);\r\n    const preset = getAccentPresetFromText(destination);\r\n\r\n    const polishToEnglish: Record<string, string> = {\r\n      japonia: \"Japan\",\r\n      tokio: \"Tokyo\",\r\n      hiszpania: \"Spain\",\r\n      chorwacja: \"Croatia\",\r\n      wlochy: \"Italy\",\r\n      włochy: \"Italy\",\r\n      francja: \"France\",\r\n      grecja: \"Greece\",\r\n      niemcy: \"Germany\",\r\n      szwajcaria: \"Switzerland\",\r\n      czechy: \"Czech Republic\",\r\n      praga: \"Prague\",\r\n      barcelona: \"Barcelona Spain\",\r\n      paryz: \"Paris France\",\r\n      paryż: \"Paris France\",\r\n      bali: \"Bali Indonesia\",\r\n      islandia: \"Iceland\",\r\n      norwegia: \"Norway\",\r\n      mazury: \"Masurian lakes Poland\",\r\n    };\r\n\r\n    const englishHint = Object.entries(polishToEnglish).find(([pl]) =>\r\n      norm.includes(normalizeSearchText(pl))\r\n    )?.[1];\r\n\r\n    const [cityRaw, ...rest] = destination.split(\",\").map((p) => p.trim());\r\n    const countryRaw = rest.join(\" \").trim();\r\n    const normCity = normalizeSearchText(cityRaw || \"\");\r\n    const normCountry = normalizeSearchText(countryRaw || \"\");\r\n\r\n    const englishCityHint = Object.entries(polishToEnglish).find(([pl]) =>\r\n      normCity.includes(normalizeSearchText(pl))\r\n    )?.[1];\r\n    const englishCountryHint = Object.entries(polishToEnglish).find(([pl]) =>\r\n      normCountry.includes(normalizeSearchText(pl))\r\n    )?.[1];\r\n\r\n    const queries: string[] = [];\r\n    if (englishCityHint && englishCountryHint) {\r\n      queries.push(`${englishCityHint} ${englishCountryHint}`);\r\n      queries.push(`${englishCountryHint} ${englishCityHint}`);\r\n    }\r\n    if (englishCityHint && countryRaw)\r\n      queries.push(`${englishCityHint} ${countryRaw}`);\r\n    if (cityRaw && englishCountryHint)\r\n      queries.push(`${cityRaw} ${englishCountryHint}`);\r\n    if (englishCountryHint && cityRaw)\r\n      queries.push(`${englishCountryHint} ${cityRaw}`);\r\n    if (countryRaw && englishCityHint)\r\n      queries.push(`${countryRaw} ${englishCityHint}`);\r\n    if (englishHint) queries.push(englishHint);\r\n    if (englishCityHint) queries.push(englishCityHint);\r\n    if (englishCountryHint) queries.push(englishCountryHint);\r\n    if (cityRaw && countryRaw) queries.push(`${cityRaw} ${countryRaw}`);\r\n    if (countryRaw && cityRaw) queries.push(`${countryRaw} ${cityRaw}`);\r\n    queries.push(destination);\r\n    if (norm) queries.push(norm);\r\n\r\n    const uniqueQueries = Array.from(new Set(queries.filter(Boolean)));\r\n\r\n    const load = async () => {\r\n      setCreateImageLoading(true);\r\n      for (const q of uniqueQueries) {\r\n        if (controller.signal.aborted) break;\r\n        const params = new URLSearchParams({ q, preset, stable: \"1\" });\r\n        try {\r\n          const res = await fetch(\r\n            `/api/destination-image?${params.toString()}`,\r\n            {\r\n              signal: controller.signal,\r\n            }\r\n          );\r\n          if (!res.ok) continue;\r\n          const data = (await res.json()) as { url?: string };\r\n          if (data?.url) {\r\n            setCreateImage(data.url);\r\n            break;\r\n          }\r\n        } catch (err) {\r\n          const error = err as { name?: string };\r\n          if (error?.name === \"AbortError\") break;\r\n        }\r\n      }\r\n      if (!controller.signal.aborted) {\r\n        setCreateImageLoading(false);\r\n      }\r\n    };\r\n\r\n    load();\r\n    return () => controller.abort();\r\n  }, [createForm.destination, createOpen]);\r\n\r\n  const navGutter = 16;\r\n  const navMargin = `calc((100vw - min(100vw, 1280px))/2 + ${navGutter}px)`;\r\n  const leftPad = isMobile\r\n    ? `${navGutter}px`\r\n    : `calc(${sidebarWidth}px + ${navGutter + 48}px)`;\r\n\r\n  const handleOpenTrip = (trip: Trip) => {\r\n    const targetId = trip.groupId ?? trip.id;\r\n    router.push(`/dashboard/${targetId}`);\r\n  };\r\n\r\n  return (\r\n    <div className=\"relative min-h-screen flex bg-background text-foreground\">\r\n      {!isMobile && (\r\n        <DashboardFiltersSidebar\r\n          t={t}\r\n          filters={filters}\r\n          advancedFilters={advancedFilters}\r\n          hasAdvancedFilters={hasAdvancedFilters}\r\n          sortMode={sortMode}\r\n          onSortChange={setSortMode}\r\n          searchOptions={searchOptions}\r\n          onSearchChange={(v) =>\r\n            setFilters((prev) => ({\r\n              ...prev,\r\n              search: v,\r\n            }))\r\n          }\r\n          onQuickFilterChange={(k, v) =>\r\n            setFilters((prev) => ({\r\n              ...prev,\r\n              [k]: v,\r\n            }))\r\n          }\r\n          onAdvancedFilterChange={(k, v) =>\r\n            setFilters((prev) => ({\r\n              ...prev,\r\n              [k]: v,\r\n            }))\r\n          }\r\n          onReset={resetFilters}\r\n          collapsed={!isSidebarOpen}\r\n          setCollapsed={(collapsed) => setIsSidebarOpen(!collapsed)}\r\n          mobileOpen={false}\r\n          setMobileOpen={setIsSidebarOpen}\r\n        />\r\n      )}\r\n\r\n      {isMobile && (\r\n        <DashboardFiltersSidebar\r\n          t={t}\r\n          filters={filters}\r\n          advancedFilters={advancedFilters}\r\n          hasAdvancedFilters={hasAdvancedFilters}\r\n          sortMode={sortMode}\r\n          onSortChange={setSortMode}\r\n          searchOptions={searchOptions}\r\n          onSearchChange={(v) =>\r\n            setFilters((prev) => ({\r\n              ...prev,\r\n              search: v,\r\n            }))\r\n          }\r\n          onQuickFilterChange={(k, v) =>\r\n            setFilters((prev) => ({\r\n              ...prev,\r\n              [k]: v,\r\n            }))\r\n          }\r\n          onAdvancedFilterChange={(k, v) =>\r\n            setFilters((prev) => ({\r\n              ...prev,\r\n              [k]: v,\r\n            }))\r\n          }\r\n          onReset={resetFilters}\r\n          collapsed={false}\r\n          setCollapsed={() => {}}\r\n          mobileOpen={isSidebarOpen}\r\n          setMobileOpen={setIsSidebarOpen}\r\n        />\r\n      )}\r\n\r\n      <main\r\n        className={cn(\r\n          \"relative flex-1 pt-10 md:pt-14 pb-24 transition-all duration-300\"\r\n        )}\r\n      >\r\n        <div\r\n          className=\"relative w-full space-y-6\"\r\n          style={{\r\n            paddingInlineStart: leftPad,\r\n            paddingInlineEnd: navMargin,\r\n          }}\r\n        >\r\n          {isMobile && !isSidebarOpen && (\r\n            <div className=\"md:hidden sticky top-12 z-30 flex justify-end\">\r\n              <button\r\n                onClick={() => setIsSidebarOpen(true)}\r\n                className=\"inline-flex items-center gap-2 rounded-full border border-border bg-background/95 px-4 py-2 text-sm font-medium shadow-sm active:scale-95 transition\"\r\n              >\r\n                <SlidersHorizontal className=\"h-4 w-4\" />\r\n                Filtry\r\n              </button>\r\n            </div>\r\n          )}\r\n\r\n          {tripsLoading ? (\r\n            <div className=\"flex flex-col items-center justify-center gap-3 py-12 text-center min-h-[40vh]\">\r\n              <Loader2 className=\"h-6 w-6 animate-spin text-muted-foreground\" />\r\n              <p className=\"text-sm text-muted-foreground\">\r\n                Ładuję Twoje podróże...\r\n              </p>\r\n            </div>\r\n          ) : tripsError ? (\r\n            <div className=\"flex flex-col items-center justify-center gap-3 py-12 text-center min-h-[40vh]\">\r\n              <SearchX className=\"h-7 w-7 text-muted-foreground\" />\r\n              <div className=\"space-y-1\">\r\n                <p className=\"text-lg font-semibold\">Nie udało się pobrać podróży</p>\r\n                <p className=\"text-sm text-muted-foreground\">\r\n                  {tripsError}\r\n                </p>\r\n              </div>\r\n              <Button\r\n                variant=\"outline\"\r\n                onClick={reloadTrips}\r\n                className=\"mt-2\"\r\n              >\r\n                Spróbuj ponownie\r\n              </Button>\r\n            </div>\r\n          ) : filteredTrips.length === 0 ? (\r\n            <div className=\"flex flex-col items-center justify-center gap-3 py-12 text-center min-h-[60vh]\">\r\n              <SearchX className=\"h-7 w-7 text-muted-foreground\" />\r\n              <div className=\"space-y-1\">\r\n                <p className=\"text-lg font-semibold\">Brak wyników</p>\r\n                <p className=\"text-sm text-muted-foreground\">\r\n                  {filtersActive || searchActive\r\n                    ? \"Spróbuj zmienić kryteria wyszukiwania lub filtry.\"\r\n                    : \"Nie znaleźliśmy żadnych podróży do wyświetlenia.\"}\r\n                </p>\r\n              </div>\r\n            </div>\r\n          ) : (\r\n            <div className=\"grid gap-6 sm:gap-8 grid-cols-1 md:grid-cols-2 lg:grid-cols-3\">\r\n              {filteredTrips.map((trip, index) => (\r\n                <TripCard\r\n                  key={trip.id}\r\n                  trip={trip}\r\n                  index={index}\r\n                  onOpen={handleOpenTrip}\r\n                />\r\n              ))}\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        <AnimatePresence>\r\n          {createOpen && (\r\n            <motion.div\r\n              key=\"create-overlay\"\r\n              initial={{ opacity: 0 }}\r\n              animate={{ opacity: 1 }}\r\n              exit={{ opacity: 0 }}\r\n              transition={{ duration: 0.18 }}\r\n              className=\"absolute inset-0 z-50 flex items-center justify-center\"\r\n            >\r\n              <div\r\n                className=\"absolute inset-0 bg-black/70 backdrop-blur-sm\"\r\n                onClick={() => setCreateOpen(false)}\r\n              />\r\n              <motion.div\r\n                initial={{ opacity: 0, y: 14, scale: 0.98 }}\r\n                animate={{ opacity: 1, y: 0, scale: 1 }}\r\n                exit={{ opacity: 0, y: 14, scale: 0.98 }}\r\n                transition={{ duration: 0.22 }}\r\n                className=\"relative w-[min(960px,calc(100%-32px))] rounded-3xl border border-border/70 bg-background/95 backdrop-blur-xl p-6 md:p-7 shadow-lg\"\r\n              >\r\n                <div className=\"flex items-start justify-between gap-3\">\r\n                  <div className=\"space-y-1.5\">\r\n                    <p className=\"text-xl font-semibold leading-tight\">\r\n                      Nowa podróż\r\n                    </p>\r\n                    <p className=\"text-sm text-muted-foreground leading-snug\">\r\n                      Uzupełnij szczegóły, a podgląd karty wypełni się\r\n                      automatycznie.\r\n                    </p>\r\n                  </div>\r\n                  <button\r\n                    className=\"text-lg text-muted-foreground hover:text-foreground\"\r\n                    onClick={() => setCreateOpen(false)}\r\n                    aria-label=\"Zamknij\"\r\n                  >\r\n                    ×\r\n                  </button>\r\n                </div>\r\n\r\n                <div className=\"mt-6 grid gap-6 md:grid-cols-[1.1fr_0.9fr]\">\r\n                  <div className=\"space-y-5\">\r\n                    <div className=\"space-y-6\">\r\n                      <div className=\"space-y-5\">\r\n                        <label className=\"text-sm font-semibold text-foreground block\">\r\n                          Nazwa podróży\r\n                        </label>\r\n                        <Input\r\n                          value={createForm.name}\r\n                          onChange={(e) =>\r\n                            setCreateForm((prev) => ({\r\n                              ...prev,\r\n                              name: e.target.value,\r\n                            }))\r\n                          }\r\n                          placeholder=\"NP. Wyprawa w Alpy\"\r\n                          className=\"h-11 rounded-xl border border-border/70 bg-card/80 focus-visible:border-primary focus-visible:ring-0 focus-visible:ring-offset-0 focus-visible:outline-none\"\r\n                        />\r\n                      </div>\r\n\r\n                      <div className=\"space-y-6\">\r\n                        <label className=\"text-sm font-semibold text-foreground block\">\r\n                          Destynacja\r\n                        </label>\r\n                        <Input\r\n                          value={createForm.destination}\r\n                          onChange={(e) =>\r\n                            setCreateForm((prev) => ({\r\n                              ...prev,\r\n                              destination: e.target.value,\r\n                            }))\r\n                          }\r\n                          placeholder=\"NP. Zermatt, Szwajcaria\"\r\n                          className=\"h-11 rounded-xl border border-border/70 bg-card/80 focus-visible:border-primary focus-visible:ring-0 focus-visible:ring-offset-0 focus-visible:outline-none\"\r\n                        />\r\n                      </div>\r\n\r\n                      <div className=\"grid gap-4 md:grid-cols-2\">\r\n                        <div className=\"space-y-5\">\r\n                          <label className=\"text-sm font-semibold text-foreground block\">\r\n                            Data startu\r\n                          </label>\r\n                          <Input\r\n                            type=\"date\"\r\n                            value={createForm.startDate}\r\n                            onChange={(e) =>\r\n                              setCreateForm((prev) => ({\r\n                                ...prev,\r\n                                startDate: e.target.value,\r\n                              }))\r\n                            }\r\n                            className=\"h-11 rounded-xl border border-border/70 bg-card/80 focus-visible:border-primary focus-visible:ring-0 focus-visible:ring-offset-0 focus-visible:outline-none\"\r\n                          />\r\n                        </div>\r\n                        <div className=\"space-y-5\">\r\n                          <label className=\"text-sm font-semibold text-foreground block\">\r\n                            Data zakończenia\r\n                          </label>\r\n                          <Input\r\n                            type=\"date\"\r\n                            value={createForm.endDate}\r\n                            onChange={(e) =>\r\n                              setCreateForm((prev) => ({\r\n                                ...prev,\r\n                                endDate: e.target.value,\r\n                              }))\r\n                            }\r\n                            className=\"h-11 rounded-xl border border-border/70 bg-card/80 focus-visible:border-primary focus-visible:ring-0 focus-visible:ring-offset-0 focus-visible:outline-none\"\r\n                          />\r\n                        </div>\r\n                      </div>\r\n\r\n                      <div className=\"space-y-5\">\r\n                        <label className=\"text-sm font-semibold text-foreground block\">\r\n                          Opis\r\n                        </label>\r\n                        <Input\r\n                          value={createForm.description}\r\n                          onChange={(e) =>\r\n                            setCreateForm((prev) => ({\r\n                              ...prev,\r\n                              description: e.target.value,\r\n                            }))\r\n                          }\r\n                          placeholder=\"Krótki opis podróży\"\r\n                          className=\"h-11 rounded-xl border border-border/70 bg-card/80 focus-visible:border-primary focus-visible:ring-0 focus-visible:ring-offset-0 focus-visible:outline-none\"\r\n                        />\r\n                      </div>\r\n                    </div>\r\n\r\n                    <Button\r\n                      className=\"w-full h-12 rounded-2xl text-base font-semibold bg-primary text-primary-foreground hover:brightness-95 active:scale-[0.99] transition\"\r\n                      onClick={() => {\r\n                        console.log(\"Create trip\", createForm, createImage);\r\n                        setCreateOpen(false);\r\n                      }}\r\n                      disabled={\r\n                        !createForm.name.trim() ||\r\n                        !createForm.destination.trim()\r\n                      }\r\n                    >\r\n                      Utwórz podróż\r\n                    </Button>\r\n                  </div>\r\n\r\n                  <div className=\"space-y-3\">\r\n                    <p className=\"text-sm font-semibold text-foreground\">\r\n                      Podgląd karty\r\n                    </p>\r\n                    <div className=\"rounded-2xl border border-border/60 bg-card/80 p-3\">\r\n                      <div className=\"rounded-[18px] border border-border/60 overflow-hidden bg-gradient-to-br from-background via-muted/40 to-background shadow-sm\">\r\n                        <div\r\n                          className=\"relative h-40\"\r\n                          style={{\r\n                            backgroundImage: createImage\r\n                              ? `url(${createImage})`\r\n                              : undefined,\r\n                            backgroundSize: \"cover\",\r\n                            backgroundPosition: \"center\",\r\n                          }}\r\n                        >\r\n                          <div className=\"absolute inset-0 bg-gradient-to-br from-background/70 via-background/10 to-background/70\" />\r\n                          {createImageLoading && (\r\n                            <div className=\"absolute inset-0 bg-background/60 flex items-center justify-center text-xs text-muted-foreground\">\r\n                              Ładowanie zdjęcia...\r\n                            </div>\r\n                          )}\r\n                        </div>\r\n\r\n                        <div className=\"p-4 space-y-2\">\r\n                          <div className=\"flex items-center justify-between text-xs uppercase tracking-[0.08em] text-muted-foreground\">\r\n                            <span>\r\n                              {createForm.destination || \"Destynacja\"}\r\n                            </span>\r\n                            <span>\r\n                              {createForm.startDate && createForm.endDate\r\n                                ? `${createForm.startDate} → ${createForm.endDate}`\r\n                                : \"Terminy\"}\r\n                            </span>\r\n                          </div>\r\n                          <p className=\"text-lg font-semibold truncate\">\r\n                            {createForm.name || \"Twoja nowa podróż\"}\r\n                          </p>\r\n                          <p className=\"text-sm text-muted-foreground line-clamp-2\">\r\n                            {createForm.description ||\r\n                              \"Dodaj opis, aby ekipa wiedziała, co planujesz.\"}\r\n                          </p>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </motion.div>\r\n            </motion.div>\r\n          )}\r\n        </AnimatePresence>\r\n\r\n        <AnimatePresence>\r\n          {joinOpen && (\r\n            <motion.div\r\n              key=\"join-overlay\"\r\n              initial={{ opacity: 0 }}\r\n              animate={{ opacity: 1 }}\r\n              exit={{ opacity: 0 }}\r\n              transition={{ duration: 0.18 }}\r\n              className=\"absolute inset-0 z-40 flex items-center justify-center\"\r\n            >\r\n              <div\r\n                className=\"absolute inset-0 bg-black/70 backdrop-blur-sm\"\r\n                onClick={() => setJoinOpen(false)}\r\n              />\r\n              <motion.div\r\n                initial={{ opacity: 0, y: 12, scale: 0.98 }}\r\n                animate={{ opacity: 1, y: 0, scale: 1 }}\r\n                exit={{ opacity: 0, y: 12, scale: 0.98 }}\r\n                transition={{ duration: 0.2 }}\r\n                className=\"relative w-[min(440px,calc(100%-32px))] rounded-3xl border border-border/70 bg-background/95 backdrop-blur-xl p-6 shadow-lg\"\r\n              >\r\n                <div className=\"flex items-start justify-between gap-3\">\r\n                  <div className=\"space-y-1.5\">\r\n                    <p className=\"text-xl font-semibold leading-tight\">\r\n                      Dołącz do podróży\r\n                    </p>\r\n                    <p className=\"text-sm text-muted-foreground leading-snug\">\r\n                      Wpisz kod zaproszenia, aby dołączyć do istniejącej\r\n                      podróży.\r\n                    </p>\r\n                  </div>\r\n                  <button\r\n                    className=\"text-lg text-muted-foreground hover:text-foreground\"\r\n                    onClick={() => setJoinOpen(false)}\r\n                    aria-label=\"Zamknij\"\r\n                  >\r\n                    ×\r\n                  </button>\r\n                </div>\r\n\r\n                <div className=\"mt-5 space-y-6\">\r\n                  <label className=\"text-sm font-semibold text-foreground block\">\r\n                    Kod zaproszenia\r\n                  </label>\r\n                  <Input\r\n                    value={joinCode}\r\n                    onChange={(e) => setJoinCode(e.target.value.toUpperCase())}\r\n                    placeholder=\"NP. TRIP-2025-ABC\"\r\n                    className=\"uppercase tracking-[0.08em] h-12 rounded-xl border border-border/70 bg-card/80 focus-visible:border-primary focus-visible:ring-0 focus-visible:ring-offset-0 focus-visible:outline-none\"\r\n                    autoFocus\r\n                  />\r\n                </div>\r\n\r\n                <Button\r\n                  className=\"mt-6 w-full h-12 rounded-2xl text-base font-semibold bg-primary text-primary-foreground hover:brightness-95 active:scale-[0.99] transition\"\r\n                  onClick={() => {\r\n                    console.log(\"Join with code\", joinCode);\r\n                    setJoinOpen(false);\r\n                  }}\r\n                  disabled={!joinCode.trim()}\r\n                >\r\n                  Dołącz\r\n                </Button>\r\n              </motion.div>\r\n            </motion.div>\r\n          )}\r\n        </AnimatePresence>\r\n      </main>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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"}}]
}