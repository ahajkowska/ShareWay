{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ameli/Documents/studia/projekt/ShareWay/frontend/app/dashboard/%5BgroupId%5D/voting/translations.ts"],"sourcesContent":["export const votingTranslations = {\r\n  pl: {\r\n    voting: \"G≈Çosowania\",\r\n    createPoll: \"Utw√≥rz g≈Çosowanie\",\r\n    pollTitle: \"Tytu≈Ç g≈Çosowania\",\r\n    description: \"Opis\",\r\n    optional: \"opcjonalnie\",\r\n    pollType: \"Typ g≈Çosowania\",\r\n    singleChoice: \"Pojedynczy wyb√≥r\",\r\n    multipleChoice: \"Wielokrotny wyb√≥r\",\r\n    options: \"Opcje\",\r\n    addOption: \"Dodaj opcjƒô\",\r\n    removeOption: \"Usu≈Ñ opcjƒô\",\r\n    optionName: \"Nazwa opcji\",\r\n    optionPlaceholder: \"Wpisz opcjƒô...\",\r\n    allowAddingOptions: \"Pozw√≥l dodawaƒá opcje\",\r\n    allowMultipleVotes: \"Pozw√≥l na wielokrotne g≈Çosy\",\r\n    showResultsBeforeVoting: \"Poka≈º wyniki przed g≈Çosowaniem\",\r\n    endDate: \"Data zako≈Ñczenia\",\r\n    endTime: \"Czas zako≈Ñczenia\",\r\n    pollTitlePlaceholder: \"np. Gdzie pojedziemy?\",\r\n    descriptionPlaceholder: \"Dodaj opis g≈Çosowania...\",\r\n    deadline: \"Termin zako≈Ñczenia\",\r\n    minOptions: \"min. 2 opcje\",\r\n    option: \"Opcja\",\r\n    titleRequired: \"Wpisz tytu≈Ç g≈Çosowania\",\r\n    minOptionsRequired: \"Dodaj co najmniej 2 opcje\",\r\n    create: \"Utw√≥rz\",\r\n    cancel: \"Anuluj\",\r\n    creating: \"Tworzenie...\",\r\n    viewDetails: \"Poka≈º szczeg√≥≈Çy\",\r\n    voteButton: \"G≈Çosuj\",\r\n    deleteConfirm: \"Na pewno chcesz usunƒÖƒá to g≈Çosowanie?\",\r\n    deleteError: \"B≈ÇƒÖd podczas usuwania g≈Çosowania\",\r\n    createError: \"B≈ÇƒÖd podczas tworzenia g≈Çosowania\",\r\n    voteError: \"B≈ÇƒÖd podczas g≈Çosowania\",\r\n    addOptionError: \"B≈ÇƒÖd podczas dodawania opcji\",\r\n    participant: \"uczestnik\",\r\n    participants: \"uczestnicy\",\r\n    vote: \"g≈Ços\",\r\n    votes: \"g≈Ços√≥w\",\r\n    leading: \"Lider\",\r\n    endsOn: \"Ko≈Ñczy siƒô\",\r\n    locale: \"pl-PL\",\r\n    backToGroup: \"Powr√≥t do wyboru modu≈Ç√≥w\",\r\n    subtitle: \"G≈Çosowania dla grupy\",\r\n    noPolls: \"Brak g≈Çosowa≈Ñ\",\r\n    createFirstPoll: \"Stw√≥rz pierwsze g≈Çosowanie, aby rozpoczƒÖƒá\",\r\n    activePolls: \"Aktywne g≈Çosowania\",\r\n    closedPolls: \"Zamkniƒôte g≈Çosowania\",\r\n    allOptions: \"Wszystkie opcje\",\r\n    winner: \"Zwyciƒôzca\",\r\n    peopleVoted: \"osoby g≈Çosowa≈Çy\",\r\n    totalVotesCast: \"≈ÅƒÖczna liczba g≈Ços√≥w\",\r\n    status: \"Status\",\r\n    active: \"Aktywne\",\r\n    closed: \"Zamkniƒôte\",\r\n    until: \"Do\",\r\n    createdBy: \"Utworzone przez\",\r\n    creationDate: \"Data utworzenia\",\r\n    pollInfo: \"Informacje o g≈Çosowaniu\",\r\n    yes: \"Tak\",\r\n    no: \"Nie\",\r\n    whoVoted: \"Kto g≈Çosowa≈Ç\",\r\n    additionalInfo: \"Dodatkowe informacje...\",\r\n    add: \"Dodaj\",\r\n    adding: \"Dodawanie...\",\r\n  },\r\n  en: {\r\n    voting: \"Voting\",\r\n    createPoll: \"Create Poll\",\r\n    pollTitle: \"Poll Title\",\r\n    description: \"Description\",\r\n    optional: \"optional\",\r\n    pollType: \"Poll Type\",\r\n    singleChoice: \"Single Choice\",\r\n    multipleChoice: \"Multiple Choice\",\r\n    options: \"Options\",\r\n    addOption: \"Add Option\",\r\n    removeOption: \"Remove Option\",\r\n    optionName: \"Option Name\",\r\n    optionPlaceholder: \"Enter option...\",\r\n    allowAddingOptions: \"Allow adding options\",\r\n    allowMultipleVotes: \"Allow multiple votes\",\r\n    showResultsBeforeVoting: \"Show results before voting\",\r\n    endDate: \"End Date\",\r\n    endTime: \"End Time\",\r\n    pollTitlePlaceholder: \"e.g. Where should we go?\",\r\n    descriptionPlaceholder: \"Add poll description...\",\r\n    deadline: \"Deadline\",\r\n    minOptions: \"min. 2 options\",\r\n    option: \"Option\",\r\n    titleRequired: \"Enter poll title\",\r\n    minOptionsRequired: \"Add at least 2 options\",\r\n    create: \"Create\",\r\n    cancel: \"Cancel\",\r\n    creating: \"Creating...\",\r\n    viewDetails: \"View Details\",\r\n    voteButton: \"Vote\",\r\n    deleteConfirm: \"Are you sure you want to delete this poll?\",\r\n    deleteError: \"Error deleting poll\",\r\n    createError: \"Error creating poll\",\r\n    voteError: \"Error voting\",\r\n    addOptionError: \"Error adding option\",\r\n    participant: \"participant\",\r\n    participants: \"participants\",\r\n    vote: \"vote\",\r\n    votes: \"votes\",\r\n    leading: \"Leading\",\r\n    endsOn: \"Ends on\",\r\n    locale: \"en-US\",\r\n    backToGroup: \"Back to module selection\",\r\n    subtitle: \"Voting for group\",\r\n    noPolls: \"No polls\",\r\n    createFirstPoll: \"Create your first poll to get started\",\r\n    activePolls: \"Active Polls\",\r\n    closedPolls: \"Closed Polls\",\r\n    allOptions: \"All Options\",\r\n    winner: \"Winner\",\r\n    peopleVoted: \"people voted\",\r\n    totalVotesCast: \"Total votes cast\",\r\n    status: \"Status\",\r\n    active: \"Active\",\r\n    closed: \"Closed\",\r\n    until: \"Until\",\r\n    createdBy: \"Created by\",\r\n    creationDate: \"Creation Date\",\r\n    pollInfo: \"Poll Information\",\r\n    yes: \"Yes\",\r\n    no: \"No\",\r\n    whoVoted: \"Who voted\",\r\n    additionalInfo: \"Additional info...\",\r\n    add: \"Add\",\r\n    adding: \"Adding...\",\r\n  },\r\n};\r\n\r\nexport type VotingLang = keyof typeof votingTranslations;\r\n\r\nexport function getVotingTranslations(lang: VotingLang = 'pl') {\r\n  return votingTranslations[lang];\r\n}"],"names":[],"mappings":";;;;;;AAAO,MAAM,qBAAqB;IAChC,IAAI;QACF,QAAQ;QACR,YAAY;QACZ,WAAW;QACX,aAAa;QACb,UAAU;QACV,UAAU;QACV,cAAc;QACd,gBAAgB;QAChB,SAAS;QACT,WAAW;QACX,cAAc;QACd,YAAY;QACZ,mBAAmB;QACnB,oBAAoB;QACpB,oBAAoB;QACpB,yBAAyB;QACzB,SAAS;QACT,SAAS;QACT,sBAAsB;QACtB,wBAAwB;QACxB,UAAU;QACV,YAAY;QACZ,QAAQ;QACR,eAAe;QACf,oBAAoB;QACpB,QAAQ;QACR,QAAQ;QACR,UAAU;QACV,aAAa;QACb,YAAY;QACZ,eAAe;QACf,aAAa;QACb,aAAa;QACb,WAAW;QACX,gBAAgB;QAChB,aAAa;QACb,cAAc;QACd,MAAM;QACN,OAAO;QACP,SAAS;QACT,QAAQ;QACR,QAAQ;QACR,aAAa;QACb,UAAU;QACV,SAAS;QACT,iBAAiB;QACjB,aAAa;QACb,aAAa;QACb,YAAY;QACZ,QAAQ;QACR,aAAa;QACb,gBAAgB;QAChB,QAAQ;QACR,QAAQ;QACR,QAAQ;QACR,OAAO;QACP,WAAW;QACX,cAAc;QACd,UAAU;QACV,KAAK;QACL,IAAI;QACJ,UAAU;QACV,gBAAgB;QAChB,KAAK;QACL,QAAQ;IACV;IACA,IAAI;QACF,QAAQ;QACR,YAAY;QACZ,WAAW;QACX,aAAa;QACb,UAAU;QACV,UAAU;QACV,cAAc;QACd,gBAAgB;QAChB,SAAS;QACT,WAAW;QACX,cAAc;QACd,YAAY;QACZ,mBAAmB;QACnB,oBAAoB;QACpB,oBAAoB;QACpB,yBAAyB;QACzB,SAAS;QACT,SAAS;QACT,sBAAsB;QACtB,wBAAwB;QACxB,UAAU;QACV,YAAY;QACZ,QAAQ;QACR,eAAe;QACf,oBAAoB;QACpB,QAAQ;QACR,QAAQ;QACR,UAAU;QACV,aAAa;QACb,YAAY;QACZ,eAAe;QACf,aAAa;QACb,aAAa;QACb,WAAW;QACX,gBAAgB;QAChB,aAAa;QACb,cAAc;QACd,MAAM;QACN,OAAO;QACP,SAAS;QACT,QAAQ;QACR,QAAQ;QACR,aAAa;QACb,UAAU;QACV,SAAS;QACT,iBAAiB;QACjB,aAAa;QACb,aAAa;QACb,YAAY;QACZ,QAAQ;QACR,aAAa;QACb,gBAAgB;QAChB,QAAQ;QACR,QAAQ;QACR,QAAQ;QACR,OAAO;QACP,WAAW;QACX,cAAc;QACd,UAAU;QACV,KAAK;QACL,IAAI;QACJ,UAAU;QACV,gBAAgB;QAChB,KAAK;QACL,QAAQ;IACV;AACF;AAIO,SAAS,sBAAsB,OAAmB,IAAI;IAC3D,OAAO,kBAAkB,CAAC,KAAK;AACjC"}},
    {"offset": {"line": 156, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ameli/Documents/studia/projekt/ShareWay/frontend/app/components/ui/card.tsx"],"sourcesContent":["import * as React from \"react\";\r\nimport { cn } from \"@/lib/utils\";\r\n\r\nexport function Card({\r\n  className,\r\n  ...props\r\n}: React.HTMLAttributes<HTMLDivElement>) {\r\n  return (\r\n    <div\r\n      className={cn(\r\n        \"rounded-xl border bg-card text-card-foreground shadow-sm\",\r\n        className\r\n      )}\r\n      {...props}\r\n    />\r\n  );\r\n}\r\nexport function CardHeader({\r\n  className,\r\n  ...props\r\n}: React.HTMLAttributes<HTMLDivElement>) {\r\n  return (\r\n    <div\r\n      className={cn(\"flex flex-col space-y-1.5 p-6\", className)}\r\n      {...props}\r\n    />\r\n  );\r\n}\r\nexport function CardTitle({\r\n  className,\r\n  ...props\r\n}: React.HTMLAttributes<HTMLHeadingElement>) {\r\n  return (\r\n    <h3\r\n      className={cn(\r\n        \"text-2xl font-semibold leading-none tracking-tight\",\r\n        className\r\n      )}\r\n      {...props}\r\n    />\r\n  );\r\n}\r\n\r\nexport function CardContent({\r\n  className,\r\n  ...props\r\n}: React.HTMLAttributes<HTMLDivElement>) {\r\n  return <div className={cn(\"p-6 pt-0\", className)} {...props} />;\r\n}\r\n\r\nexport function CardDescription({\r\n  className,\r\n  ...props\r\n}: React.HTMLAttributes<HTMLParagraphElement>) {\r\n  return (\r\n    <p className={cn(\"text-sm text-muted-foreground\", className)} {...props} />\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;;;;;;;;;AACA;;;AAEO,SAAS,KAAK,EACnB,SAAS,EACT,GAAG,OACkC;IACrC,qBACE,6LAAC;QACC,WAAW,IAAA,qHAAE,EACX,4DACA;QAED,GAAG,KAAK;;;;;;AAGf;KAbgB;AAcT,SAAS,WAAW,EACzB,SAAS,EACT,GAAG,OACkC;IACrC,qBACE,6LAAC;QACC,WAAW,IAAA,qHAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGf;MAVgB;AAWT,SAAS,UAAU,EACxB,SAAS,EACT,GAAG,OACsC;IACzC,qBACE,6LAAC;QACC,WAAW,IAAA,qHAAE,EACX,sDACA;QAED,GAAG,KAAK;;;;;;AAGf;MAbgB;AAeT,SAAS,YAAY,EAC1B,SAAS,EACT,GAAG,OACkC;IACrC,qBAAO,6LAAC;QAAI,WAAW,IAAA,qHAAE,EAAC,YAAY;QAAa,GAAG,KAAK;;;;;;AAC7D;MALgB;AAOT,SAAS,gBAAgB,EAC9B,SAAS,EACT,GAAG,OACwC;IAC3C,qBACE,6LAAC;QAAE,WAAW,IAAA,qHAAE,EAAC,iCAAiC;QAAa,GAAG,KAAK;;;;;;AAE3E;MAPgB"}},
    {"offset": {"line": 240, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ameli/Documents/studia/projekt/ShareWay/frontend/app/components/ui/progress.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport * as React from \"react\"\r\nimport * as ProgressPrimitive from \"@radix-ui/react-progress\"\r\n\r\nimport { cn } from \"@/lib/utils\"\r\n\r\nconst Progress = React.forwardRef<\r\n  React.ComponentRef<typeof ProgressPrimitive.Root>,\r\n  React.ComponentPropsWithoutRef<typeof ProgressPrimitive.Root>\r\n>(({ className, value, ...props }, ref) => (\r\n  <ProgressPrimitive.Root\r\n    ref={ref}\r\n    className={cn(\r\n      \"relative h-2 w-full overflow-hidden rounded-full bg-primary/20\",\r\n      className\r\n    )}\r\n    {...props}\r\n  >\r\n    <ProgressPrimitive.Indicator\r\n      className=\"h-full w-full flex-1 bg-primary transition-all\"\r\n      style={{ transform: `translateX(-${100 - (value || 0)}%)` }}\r\n    />\r\n  </ProgressPrimitive.Root>\r\n))\r\nProgress.displayName = ProgressPrimitive.Root.displayName\r\n\r\nexport { Progress }"],"names":[],"mappings":";;;;;AAEA;AACA;AAEA;AALA;;;;;AAOA,MAAM,yBAAW,2KAAgB,MAG/B,CAAC,EAAE,SAAS,EAAE,KAAK,EAAE,GAAG,OAAO,EAAE,oBACjC,6LAAC,+KAAsB;QACrB,KAAK;QACL,WAAW,IAAA,qHAAE,EACX,kEACA;QAED,GAAG,KAAK;kBAET,cAAA,6LAAC,oLAA2B;YAC1B,WAAU;YACV,OAAO;gBAAE,WAAW,CAAC,YAAY,EAAE,MAAM,CAAC,SAAS,CAAC,EAAE,EAAE,CAAC;YAAC;;;;;;;;;;;;AAIhE,SAAS,WAAW,GAAG,+KAAsB,CAAC,WAAW"}},
    {"offset": {"line": 285, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ameli/Documents/studia/projekt/ShareWay/frontend/app/dashboard/%5BgroupId%5D/voting/components/VotingCard.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { motion } from \"framer-motion\";\r\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/app/components/ui/card\";\r\nimport { Button } from \"@/app/components/ui/button\";\r\nimport { Progress } from \"@/app/components/ui/progress\";\r\nimport { Calendar, Users, TrendingUp, Trash2 } from \"lucide-react\";\r\nimport { useI18n } from \"@/app/context/LanguageContext\";\r\nimport { getVotingTranslations } from \"../translations\";\r\nimport type { Voting } from \"../types\";\r\n\r\ninterface VotingCardProps {\r\n  voting: Voting;\r\n  groupId: string;\r\n  index: number;\r\n  onVote: (votingId: string, optionId: string) => Promise<void>;\r\n  onDelete: (votingId: string) => Promise<void>;\r\n  onViewDetails: (voting: Voting) => void;\r\n}\r\n\r\nexport default function VotingCard({\r\n  voting,\r\n  groupId,\r\n  index,\r\n  onVote,\r\n  onDelete,\r\n  onViewDetails,\r\n}: VotingCardProps) {\r\n  const { lang } = useI18n();\r\n  const t = getVotingTranslations(lang);\r\n  const totalVotes = voting.options.reduce((sum, opt) => sum + opt.votes, 0);\r\n  const uniqueVoters = new Set(voting.options.flatMap(opt => opt.voters));\r\n  const sortedOptions = [...voting.options].sort((a, b) => b.votes - a.votes);\r\n  const topOption = sortedOptions[0];\r\n\r\n  return (\r\n    <motion.div\r\n      initial={{ opacity: 0, y: 20 }}\r\n      animate={{ opacity: 1, y: 0 }}\r\n      transition={{ delay: index * 0.1 }}\r\n    >\r\n      <Card className=\"h-full hover:shadow-lg transition-all\">\r\n        <CardHeader>\r\n          <div className=\"flex justify-between items-start\">\r\n            <div className=\"flex-1\">\r\n              <CardTitle className=\"text-xl mb-2\">{voting.title}</CardTitle>\r\n              {voting.description && (\r\n                <p className=\"text-sm text-muted-foreground line-clamp-2\">\r\n                  {voting.description}\r\n                </p>\r\n              )}\r\n            </div>\r\n            <Button\r\n              variant=\"ghost\"\r\n              size=\"icon\"\r\n              onClick={() => onDelete(voting.id)}\r\n              className=\"text-destructive hover:text-destructive\"\r\n            >\r\n              <Trash2 className=\"h-4 w-4\" />\r\n            </Button>\r\n          </div>\r\n        </CardHeader>\r\n\r\n        <CardContent className=\"space-y-4\">\r\n          {/* Statystyki */}\r\n          <div className=\"grid grid-cols-2 gap-4\">\r\n            <div className=\"flex items-center gap-2 text-sm\">\r\n              <Users className=\"h-4 w-4 text-muted-foreground\" />\r\n              <span>\r\n                {uniqueVoters.size} {uniqueVoters.size === 1 \r\n                  ? t.participant \r\n                  : t.participants}\r\n              </span>\r\n            </div>\r\n            <div className=\"flex items-center gap-2 text-sm\">\r\n              <TrendingUp className=\"h-4 w-4 text-muted-foreground\" />\r\n              <span>\r\n                {totalVotes} {totalVotes === 1 \r\n                  ? t.vote \r\n                  : t.votes}\r\n              </span>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Top opcja */}\r\n          {topOption && topOption.votes > 0 && (\r\n            <div className=\"p-3 bg-primary/5 rounded-lg border border-primary/20\">\r\n              <p className=\"text-xs text-muted-foreground mb-1\">{t.leading}:</p>\r\n              <p className=\"font-semibold\">{topOption.text}</p>\r\n              <div className=\"flex items-center gap-2 mt-2\">\r\n                <Progress \r\n                  value={totalVotes > 0 ? (topOption.votes / totalVotes) * 100 : 0} \r\n                  className=\"flex-1\"\r\n                />\r\n                <span className=\"text-xs font-medium\">\r\n                  {topOption.votes}\r\n                </span>\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          {/* Przyciski akcji */}\r\n          <div className=\"flex gap-2 pt-2\">\r\n            <Button\r\n              variant=\"outline\"\r\n              size=\"sm\"\r\n              onClick={() => onViewDetails(voting)}\r\n              className=\"flex-1\"\r\n            >\r\n              {t.viewDetails}\r\n            </Button>\r\n          </div>\r\n\r\n          {/* Data zako≈Ñczenia */}\r\n          {voting.endsAt && (\r\n            <div className=\"flex items-center gap-2 text-xs text-muted-foreground pt-2 border-t\">\r\n              <Calendar className=\"h-3 w-3\" />\r\n              <span>\r\n                {t.endsOn}: {new Date(voting.endsAt).toLocaleDateString(t.locale)}\r\n              </span>\r\n            </div>\r\n          )}\r\n        </CardContent>\r\n      </Card>\r\n    </motion.div>\r\n  );\r\n}"],"names":[],"mappings":"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"}},
    {"offset": {"line": 589, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ameli/Documents/studia/projekt/ShareWay/frontend/app/dashboard/%5BgroupId%5D/voting/components/VotingList.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { Card, CardContent } from \"@/app/components/ui/card\";\r\nimport { useI18n } from \"@/app/context/LanguageContext\";\r\nimport { getVotingTranslations } from \"../translations\";\r\nimport type { Voting } from \"../types\";\r\nimport VotingCard from \"./VotingCard\";\r\n\r\ninterface VotingListProps {\r\n  votings: Voting[];\r\n  loading: boolean;\r\n  groupId: string;\r\n  onVote: (votingId: string, optionId: string) => Promise<void>;\r\n  onAddOption: (votingId: string, optionText: string, description?: string) => Promise<void>;\r\n  onDelete: (votingId: string) => Promise<void>;\r\n  onViewDetails: (voting: Voting) => void;\r\n}\r\n\r\nexport default function VotingList({ \r\n  votings, \r\n  loading, \r\n  groupId,\r\n  onVote,\r\n  onAddOption,\r\n  onDelete,\r\n  onViewDetails\r\n}: VotingListProps) {\r\n  const { lang } = useI18n();\r\n  const t = getVotingTranslations(lang);\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"space-y-3\">\r\n        {[1, 2, 3].map(n => (\r\n          <Card key={n}>\r\n            <CardContent className=\"pt-6\">\r\n              <div className=\"h-64 bg-muted rounded-lg animate-pulse\" />\r\n            </CardContent>\r\n          </Card>\r\n        ))}\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (votings.length === 0) {\r\n    return (\r\n      <Card>\r\n        <CardContent className=\"pt-12 pb-12 text-center\">\r\n          <p className=\"text-lg text-muted-foreground mb-2\">{t.noPolls}</p>\r\n          <p className=\"text-sm text-muted-foreground\">{t.createFirstPoll}</p>\r\n        </CardContent>\r\n      </Card>\r\n    );\r\n  }\r\n\r\n  // Sortuj: aktywne najpierw, potem po dacie utworzenia\r\n  const sortedVotings = [...votings].sort((a, b) => {\r\n    if (a.status !== b.status) {\r\n      return a.status === \"open\" ? -1 : 1;\r\n    }\r\n    return new Date(b.createdAt).getTime() - new Date(a.createdAt).getTime();\r\n  });\r\n\r\n  const activeVotings = sortedVotings.filter(v => v.status === \"open\");\r\n  const closedVotings = sortedVotings.filter(v => v.status === \"closed\");\r\n\r\n  return (\r\n    <div className=\"space-y-8\">\r\n      {/* Aktywne g≈Çosowania */}\r\n      {activeVotings.length > 0 && (\r\n        <div>\r\n          <h2 className=\"text-2xl font-bold mb-4 flex items-center gap-2\">\r\n            <div className=\"w-3 h-3 bg-green-500 rounded-full animate-pulse\" />\r\n            {t.activePolls} ({activeVotings.length})\r\n          </h2>\r\n          <div className=\"grid md:grid-cols-2 lg:grid-cols-3 gap-6\">\r\n            {activeVotings.map((voting, index) => (\r\n              <VotingCard\r\n                key={voting.id}\r\n                voting={voting}\r\n                groupId={groupId}\r\n                index={index}\r\n                onVote={onVote}\r\n                onDelete={onDelete}\r\n                onViewDetails={onViewDetails}\r\n              />\r\n            ))}\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Zako≈Ñczone g≈Çosowania */}\r\n      {closedVotings.length > 0 && (\r\n        <div>\r\n          <h2 className=\"text-2xl font-bold mb-4 text-muted-foreground\">\r\n            {t.closedPolls} ({closedVotings.length})\r\n          </h2>\r\n          <div className=\"grid md:grid-cols-2 lg:grid-cols-3 gap-6\">\r\n            {closedVotings.map((voting, index) => (\r\n              <VotingCard\r\n                key={voting.id}\r\n                voting={voting}\r\n                groupId={groupId}\r\n                index={index}\r\n                onVote={onVote}\r\n                onDelete={onDelete}\r\n                onViewDetails={onViewDetails}\r\n              />\r\n            ))}\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAEA;;;AANA;;;;;AAkBe,SAAS,WAAW,EACjC,OAAO,EACP,OAAO,EACP,OAAO,EACP,MAAM,EACN,WAAW,EACX,QAAQ,EACR,aAAa,EACG;;IAChB,MAAM,EAAE,IAAI,EAAE,GAAG,IAAA,gJAAO;IACxB,MAAM,IAAI,IAAA,qLAAqB,EAAC;IAEhC,IAAI,SAAS;QACX,qBACE,6LAAC;YAAI,WAAU;sBACZ;gBAAC;gBAAG;gBAAG;aAAE,CAAC,GAAG,CAAC,CAAA,kBACb,6LAAC,2IAAI;8BACH,cAAA,6LAAC,kJAAW;wBAAC,WAAU;kCACrB,cAAA,6LAAC;4BAAI,WAAU;;;;;;;;;;;mBAFR;;;;;;;;;;IAQnB;IAEA,IAAI,QAAQ,MAAM,KAAK,GAAG;QACxB,qBACE,6LAAC,2IAAI;sBACH,cAAA,6LAAC,kJAAW;gBAAC,WAAU;;kCACrB,6LAAC;wBAAE,WAAU;kCAAsC,EAAE,OAAO;;;;;;kCAC5D,6LAAC;wBAAE,WAAU;kCAAiC,EAAE,eAAe;;;;;;;;;;;;;;;;;IAIvE;IAEA,sDAAsD;IACtD,MAAM,gBAAgB;WAAI;KAAQ,CAAC,IAAI,CAAC,CAAC,GAAG;QAC1C,IAAI,EAAE,MAAM,KAAK,EAAE,MAAM,EAAE;YACzB,OAAO,EAAE,MAAM,KAAK,SAAS,CAAC,IAAI;QACpC;QACA,OAAO,IAAI,KAAK,EAAE,SAAS,EAAE,OAAO,KAAK,IAAI,KAAK,EAAE,SAAS,EAAE,OAAO;IACxE;IAEA,MAAM,gBAAgB,cAAc,MAAM,CAAC,CAAA,IAAK,EAAE,MAAM,KAAK;IAC7D,MAAM,gBAAgB,cAAc,MAAM,CAAC,CAAA,IAAK,EAAE,MAAM,KAAK;IAE7D,qBACE,6LAAC;QAAI,WAAU;;YAEZ,cAAc,MAAM,GAAG,mBACtB,6LAAC;;kCACC,6LAAC;wBAAG,WAAU;;0CACZ,6LAAC;gCAAI,WAAU;;;;;;4BACd,EAAE,WAAW;4BAAC;4BAAG,cAAc,MAAM;4BAAC;;;;;;;kCAEzC,6LAAC;wBAAI,WAAU;kCACZ,cAAc,GAAG,CAAC,CAAC,QAAQ,sBAC1B,6LAAC,oLAAU;gCAET,QAAQ;gCACR,SAAS;gCACT,OAAO;gCACP,QAAQ;gCACR,UAAU;gCACV,eAAe;+BANV,OAAO,EAAE;;;;;;;;;;;;;;;;YAcvB,cAAc,MAAM,GAAG,mBACtB,6LAAC;;kCACC,6LAAC;wBAAG,WAAU;;4BACX,EAAE,WAAW;4BAAC;4BAAG,cAAc,MAAM;4BAAC;;;;;;;kCAEzC,6LAAC;wBAAI,WAAU;kCACZ,cAAc,GAAG,CAAC,CAAC,QAAQ,sBAC1B,6LAAC,oLAAU;gCAET,QAAQ;gCACR,SAAS;gCACT,OAAO;gCACP,QAAQ;gCACR,UAAU;gCACV,eAAe;+BANV,OAAO,EAAE;;;;;;;;;;;;;;;;;;;;;;AAc9B;GAhGwB;;QASL,gJAAO;;;KATF"}},
    {"offset": {"line": 798, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ameli/Documents/studia/projekt/ShareWay/frontend/app/dashboard/%5BgroupId%5D/voting/components/CreateVotingDialog.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useState } from \"react\";\r\nimport { motion, AnimatePresence } from \"framer-motion\";\r\nimport { X, Plus, Trash2, Calendar } from \"lucide-react\";\r\nimport { Button } from \"@/app/components/ui/button\";\r\nimport { useI18n } from \"@/app/context/LanguageContext\";\r\nimport { getVotingTranslations } from \"../translations\";\r\nimport type { VotingFormData } from \"../types\";\r\n\r\ninterface CreateVotingDialogProps {\r\n  open: boolean;\r\n  onOpenChange: (open: boolean) => void;\r\n  onSubmit: (data: VotingFormData) => Promise<void>;\r\n}\r\n\r\nexport default function CreateVotingDialog({\r\n  open,\r\n  onOpenChange,\r\n  onSubmit,\r\n}: CreateVotingDialogProps) {\r\n  const { lang } = useI18n();\r\n  const t = getVotingTranslations(lang);\r\n  const [formData, setFormData] = useState<VotingFormData>({\r\n    title: \"\",\r\n    description: \"\",\r\n    endsAt: undefined,\r\n    initialOptions: [\"\", \"\"],\r\n  });\r\n  const [submitting, setSubmitting] = useState(false);\r\n\r\n  const handleSubmit = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    \r\n    // Walidacja\r\n    if (!formData.title.trim()) {\r\n      alert(t.titleRequired);\r\n      return;\r\n    }\r\n\r\n    const validOptions = formData.initialOptions.filter(opt => opt.trim());\r\n    if (validOptions.length < 2) {\r\n      alert(t.minOptionsRequired);\r\n      return;\r\n    }\r\n\r\n    try {\r\n      setSubmitting(true);\r\n      await onSubmit({\r\n        ...formData,\r\n        initialOptions: validOptions,\r\n      });\r\n      \r\n      // Reset form\r\n      setFormData({\r\n        title: \"\",\r\n        description: \"\",\r\n        endsAt: undefined,\r\n        initialOptions: [\"\", \"\"],\r\n      });\r\n    } catch (error) {\r\n      console.error(\"Error creating voting:\", error);\r\n      alert(t.createError);\r\n    } finally {\r\n      setSubmitting(false);\r\n    }\r\n  };\r\n\r\n  const addOption = () => {\r\n    setFormData(prev => ({\r\n      ...prev,\r\n      initialOptions: [...prev.initialOptions, \"\"],\r\n    }));\r\n  };\r\n\r\n  const removeOption = (index: number) => {\r\n    if (formData.initialOptions.length <= 2) return;\r\n    setFormData(prev => ({\r\n      ...prev,\r\n      initialOptions: prev.initialOptions.filter((_, i) => i !== index),\r\n    }));\r\n  };\r\n\r\n  const updateOption = (index: number, value: string) => {\r\n    setFormData(prev => ({\r\n      ...prev,\r\n      initialOptions: prev.initialOptions.map((opt, i) => i === index ? value : opt),\r\n    }));\r\n  };\r\n\r\n  if (!open) return null;\r\n\r\n  return (\r\n    <AnimatePresence>\r\n      <div className=\"fixed inset-0 z-50 flex items-center justify-center p-4\">\r\n        {/* Backdrop */}\r\n        <motion.div\r\n          initial={{ opacity: 0 }}\r\n          animate={{ opacity: 1 }}\r\n          exit={{ opacity: 0 }}\r\n          onClick={() => onOpenChange(false)}\r\n          className=\"absolute inset-0 bg-black/50 backdrop-blur-sm\"\r\n        />\r\n\r\n        {/* Dialog */}\r\n        <motion.div\r\n          initial={{ opacity: 0, scale: 0.95, y: 20 }}\r\n          animate={{ opacity: 1, scale: 1, y: 0 }}\r\n          exit={{ opacity: 0, scale: 0.95, y: 20 }}\r\n          className=\"relative bg-background rounded-2xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-hidden\"\r\n        >\r\n          {/* Header */}\r\n          <div className=\"flex items-center justify-between p-6 border-b\">\r\n            <h2 className=\"text-2xl font-bold\">{t.createPoll}</h2>\r\n            <button\r\n              onClick={() => onOpenChange(false)}\r\n              className=\"p-2 hover:bg-muted rounded-lg transition-colors\"\r\n            >\r\n              <X className=\"w-5 h-5\" />\r\n            </button>\r\n          </div>\r\n\r\n          {/* Content */}\r\n          <form onSubmit={handleSubmit} className=\"overflow-y-auto max-h-[calc(90vh-140px)]\">\r\n            <div className=\"p-6 space-y-6\">\r\n              \r\n              {/* Title */}\r\n              <div>\r\n                <label className=\"block text-sm font-semibold mb-2\">\r\n                  {t.pollTitle} *\r\n                </label>\r\n                <input\r\n                  type=\"text\"\r\n                  value={formData.title}\r\n                  onChange={(e) => setFormData(prev => ({ ...prev, title: e.target.value }))}\r\n                  placeholder={t.pollTitlePlaceholder}\r\n                  className=\"w-full px-4 py-3 rounded-xl border border-input bg-background focus:outline-none focus:ring-2 focus:ring-ring\"\r\n                  maxLength={200}\r\n                />\r\n              </div>\r\n\r\n              {/* Description */}\r\n              <div>\r\n                <label className=\"block text-sm font-semibold mb-2\">\r\n                  {t.description} ({t.optional})\r\n                </label>\r\n                <textarea\r\n                  value={formData.description}\r\n                  onChange={(e) => setFormData(prev => ({ ...prev, description: e.target.value }))}\r\n                  placeholder={t.descriptionPlaceholder}\r\n                  rows={3}\r\n                  className=\"w-full px-4 py-3 rounded-xl border border-input bg-background focus:outline-none focus:ring-2 focus:ring-ring resize-none\"\r\n                  maxLength={500}\r\n                />\r\n              </div>\r\n\r\n              {/* End date */}\r\n              <div>\r\n                <label className=\"block text-sm font-semibold mb-2 flex items-center gap-2\">\r\n                  <Calendar className=\"w-4 h-4\" />\r\n                  {t.deadline} ({t.optional})\r\n                </label>\r\n                <input\r\n                  type=\"datetime-local\"\r\n                  value={formData.endsAt ? new Date(formData.endsAt).toISOString().slice(0, 16) : \"\"}\r\n                  onChange={(e) => setFormData(prev => ({\r\n                    ...prev,\r\n                    endsAt: e.target.value ? new Date(e.target.value) : undefined,\r\n                  }))}\r\n                  className=\"w-full px-4 py-3 rounded-xl border border-input bg-background focus:outline-none focus:ring-2 focus:ring-ring\"\r\n                />\r\n              </div>\r\n\r\n              {/* Options */}\r\n              <div>\r\n                <label className=\"block text-sm font-semibold mb-3\">\r\n                  {t.options} ({t.minOptions}) *\r\n                </label>\r\n                <div className=\"space-y-3\">\r\n                  {formData.initialOptions.map((option, index) => (\r\n                    <div key={index} className=\"flex gap-2\">\r\n                      <input\r\n                        type=\"text\"\r\n                        value={option}\r\n                        onChange={(e) => updateOption(index, e.target.value)}\r\n                        placeholder={`${t.option} ${index + 1}`}\r\n                        className=\"flex-1 px-4 py-3 rounded-xl border border-input bg-background focus:outline-none focus:ring-2 focus:ring-ring\"\r\n                        maxLength={200}\r\n                      />\r\n                      {formData.initialOptions.length > 2 && (\r\n                        <Button\r\n                          type=\"button\"\r\n                          variant=\"outline\"\r\n                          size=\"icon\"\r\n                          onClick={() => removeOption(index)}\r\n                          className=\"flex-shrink-0\"\r\n                        >\r\n                          <Trash2 className=\"w-4 h-4\" />\r\n                        </Button>\r\n                      )}\r\n                    </div>\r\n                  ))}\r\n                  \r\n                  <Button\r\n                    type=\"button\"\r\n                    variant=\"outline\"\r\n                    onClick={addOption}\r\n                    className=\"w-full gap-2\"\r\n                  >\r\n                    <Plus className=\"w-4 h-4\" />\r\n                    {t.addOption}\r\n                  </Button>\r\n                </div>\r\n              </div>\r\n\r\n            </div>\r\n\r\n            {/* Footer */}\r\n            <div className=\"flex items-center justify-end gap-3 p-6 border-t bg-muted/30\">\r\n              <Button\r\n                type=\"button\"\r\n                variant=\"outline\"\r\n                onClick={() => onOpenChange(false)}\r\n                disabled={submitting}\r\n              >\r\n                {t.cancel}\r\n              </Button>\r\n              <Button type=\"submit\" disabled={submitting}>\r\n                {submitting ? t.creating : t.create}\r\n              </Button>\r\n            </div>\r\n          </form>\r\n\r\n        </motion.div>\r\n      </div>\r\n    </AnimatePresence>\r\n  );\r\n}"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1246, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ameli/Documents/studia/projekt/ShareWay/frontend/app/dashboard/%5BgroupId%5D/voting/components/VotingDetailsDialog.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useState } from \"react\";\r\nimport { X, TrendingUp, Users, Calendar, Plus } from \"lucide-react\";\r\nimport { motion, AnimatePresence } from \"framer-motion\";\r\nimport { Button } from \"@/app/components/ui/button\";\r\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/app/components/ui/card\";\r\nimport { Progress } from \"@/app/components/ui/progress\";\r\nimport { Input } from \"@/app/components/ui/input\";\r\nimport { Label } from \"@/app/components/ui/label\";\r\nimport { Textarea } from \"@/app/components/ui/textarea\";\r\nimport { useI18n } from \"@/app/context/LanguageContext\";\r\nimport { getVotingTranslations } from \"../translations\";\r\nimport type { Voting } from \"../types\";\r\n\r\ninterface VotingDetailsDialogProps {\r\n  voting: Voting | null;\r\n  open: boolean;\r\n  onClose: () => void;\r\n  onVote: (votingId: string, optionId: string) => Promise<void>;\r\n  onAddOption: (votingId: string, optionText: string, description?: string) => Promise<void>;\r\n}\r\n\r\nexport default function VotingDetailsDialog({ \r\n  voting, \r\n  open, \r\n  onClose,\r\n  onVote,\r\n  onAddOption \r\n}: VotingDetailsDialogProps) {\r\n  const { lang } = useI18n();\r\n  const t = getVotingTranslations(lang);\r\n  const [showAddOption, setShowAddOption] = useState(false);\r\n  const [newOptionText, setNewOptionText] = useState(\"\");\r\n  const [newOptionDescription, setNewOptionDescription] = useState(\"\");\r\n  const [submitting, setSubmitting] = useState(false);\r\n\r\n  if (!voting || !open) return null;\r\n\r\n  const totalVotes = voting.options.reduce((sum, opt) => sum + opt.votes, 0);\r\n  const uniqueVoters = new Set(voting.options.flatMap(opt => opt.voters));\r\n  \r\n  const sortedOptions = [...voting.options].sort((a, b) => b.votes - a.votes);\r\n  const mostPopular = sortedOptions[0];\r\n\r\n  const handleAddOption = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    if (!newOptionText.trim()) return;\r\n\r\n    try {\r\n      setSubmitting(true);\r\n      await onAddOption(voting.id, newOptionText.trim(), newOptionDescription.trim() || undefined);\r\n      setNewOptionText(\"\");\r\n      setNewOptionDescription(\"\");\r\n      setShowAddOption(false);\r\n    } catch (error) {\r\n      console.error(\"Error adding option:\", error);\r\n    } finally {\r\n      setSubmitting(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <AnimatePresence>\r\n      {open && (\r\n        <div className=\"fixed inset-0 z-50 flex items-center justify-center p-4\">\r\n          <motion.div\r\n            initial={{ opacity: 0 }}\r\n            animate={{ opacity: 1 }}\r\n            exit={{ opacity: 0 }}\r\n            onClick={onClose}\r\n            className=\"absolute inset-0 bg-black/50 backdrop-blur-sm\"\r\n          />\r\n\r\n          <motion.div\r\n            initial={{ opacity: 0, scale: 0.95, y: 20 }}\r\n            animate={{ opacity: 1, scale: 1, y: 0 }}\r\n            exit={{ opacity: 0, scale: 0.95, y: 20 }}\r\n            onClick={(e) => e.stopPropagation()}\r\n            className=\"relative bg-background rounded-2xl shadow-2xl w-full max-w-3xl max-h-[90vh] overflow-y-auto border\"\r\n          >\r\n            {/* Header */}\r\n            <div className=\"sticky top-0 bg-background border-b p-6 flex items-center justify-between z-10\">\r\n              <div>\r\n                <h2 className=\"text-2xl font-bold\">{voting.title}</h2>\r\n                {voting.description && (\r\n                  <p className=\"text-sm text-muted-foreground mt-1\">{voting.description}</p>\r\n                )}\r\n              </div>\r\n              <button\r\n                onClick={onClose}\r\n                className=\"p-2 hover:bg-muted rounded-lg transition-colors\"\r\n              >\r\n                <X className=\"w-5 h-5\" />\r\n              </button>\r\n            </div>\r\n\r\n            <div className=\"p-6 space-y-6\">\r\n              {/* Statystyki og√≥lne */}\r\n              <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\r\n                <Card>\r\n                  <CardHeader className=\"pb-3\">\r\n                    <CardTitle className=\"text-sm font-medium flex items-center gap-2\">\r\n                      <Users className=\"w-4 h-4\" />\r\n                      {t.participants}\r\n                    </CardTitle>\r\n                  </CardHeader>\r\n                  <CardContent>\r\n                    <p className=\"text-3xl font-bold\">{uniqueVoters.size}</p>\r\n                    <p className=\"text-xs text-muted-foreground\">\r\n                      {t.peopleVoted}\r\n                    </p>\r\n                  </CardContent>\r\n                </Card>\r\n\r\n                <Card>\r\n                  <CardHeader className=\"pb-3\">\r\n                    <CardTitle className=\"text-sm font-medium flex items-center gap-2\">\r\n                      <TrendingUp className=\"w-4 h-4\" />\r\n                      {t.votes}\r\n                    </CardTitle>\r\n                  </CardHeader>\r\n                  <CardContent>\r\n                    <p className=\"text-3xl font-bold\">{totalVotes}</p>\r\n                    <p className=\"text-xs text-muted-foreground\">\r\n                      {t.totalVotesCast}\r\n                    </p>\r\n                  </CardContent>\r\n                </Card>\r\n\r\n                <Card>\r\n                  <CardHeader className=\"pb-3\">\r\n                    <CardTitle className=\"text-sm font-medium flex items-center gap-2\">\r\n                      <Calendar className=\"w-4 h-4\" />\r\n                      {t.status}\r\n                    </CardTitle>\r\n                  </CardHeader>\r\n                  <CardContent>\r\n                    <p className=\"text-lg font-semibold text-green-600\">\r\n                      {voting.status === \"open\" ? t.active : t.closed}\r\n                    </p>\r\n                    {voting.endsAt && (\r\n                      <p className=\"text-xs text-muted-foreground\">\r\n                        {t.until} {new Date(voting.endsAt).toLocaleDateString(t.locale)}\r\n                      </p>\r\n                    )}\r\n                  </CardContent>\r\n                </Card>\r\n              </div>\r\n\r\n              {/* Najlepsze wyniki */}\r\n              {mostPopular && mostPopular.votes > 0 && (\r\n                <Card className=\"border-primary/50 bg-primary/5\">\r\n                  <CardHeader>\r\n                    <CardTitle className=\"flex items-center gap-2\">\r\n                      üèÜ {t.winner}\r\n                    </CardTitle>\r\n                  </CardHeader>\r\n                  <CardContent>\r\n                    <p className=\"text-xl font-bold\">{mostPopular.text}</p>\r\n                    {mostPopular.description && (\r\n                      <p className=\"text-sm text-muted-foreground\">{mostPopular.description}</p>\r\n                    )}\r\n                    <p className=\"text-sm mt-2\">\r\n                      <strong>{mostPopular.votes}</strong> {t.votes}\r\n                      ({totalVotes > 0 ? ((mostPopular.votes / totalVotes) * 100).toFixed(0) : 0}%)\r\n                    </p>\r\n                  </CardContent>\r\n                </Card>\r\n              )}\r\n\r\n              {/* Ranking wszystkich opcji */}\r\n              <Card>\r\n                <CardHeader>\r\n                  <CardTitle>{t.allOptions}</CardTitle>\r\n                </CardHeader>\r\n                <CardContent className=\"space-y-4\">\r\n                  {/* Lista opcji */}\r\n                  {sortedOptions.map((option, index) => {\r\n                    const percentage = totalVotes > 0 ? (option.votes / totalVotes) * 100 : 0;\r\n                    \r\n                    return (\r\n                      <div key={option.id} className=\"space-y-2 p-4 border rounded-lg hover:bg-muted/30 transition-colors\">\r\n                        <div className=\"flex justify-between items-start\">\r\n                          <div className=\"flex-1\">\r\n                            <div className=\"flex items-center gap-2\">\r\n                              <span className=\"text-2xl font-bold text-muted-foreground\">\r\n                                #{index + 1}\r\n                              </span>\r\n                              <div>\r\n                                <p className=\"font-semibold\">{option.text}</p>\r\n                                {option.description && (\r\n                                  <p className=\"text-xs text-muted-foreground\">{option.description}</p>\r\n                                )}\r\n                              </div>\r\n                            </div>\r\n                          </div>\r\n                          <div className=\"text-right flex flex-col items-end gap-2\">\r\n                            <div>\r\n                              <p className=\"text-lg font-bold\">{option.votes}</p>\r\n                              <p className=\"text-xs text-muted-foreground\">{percentage.toFixed(1)}%</p>\r\n                            </div>\r\n                            <Button\r\n                              size=\"sm\"\r\n                              onClick={() => onVote(voting.id, option.id)}\r\n                            >\r\n                              {t.voteButton}\r\n                            </Button>\r\n                          </div>\r\n                        </div>\r\n                        <Progress value={percentage} className=\"h-3\" />\r\n                        \r\n                        {/* Lista g≈ÇosujƒÖcych */}\r\n                        {option.voters.length > 0 && (\r\n                          <details className=\"text-sm\">\r\n                            <summary className=\"cursor-pointer text-muted-foreground hover:text-foreground\">\r\n                              {t.whoVoted} ({option.voters.length})\r\n                            </summary>\r\n                            <ul className=\"mt-2 space-y-1 pl-4\">\r\n                              {option.voters.map((voterId, idx) => (\r\n                                <li key={`${option.id}-${idx}`} className=\"text-xs\">\r\n                                  ‚Ä¢ {voterId}\r\n                                </li>\r\n                              ))}\r\n                            </ul>\r\n                          </details>\r\n                        )}\r\n                      </div>\r\n                    );\r\n                  })}\r\n                </CardContent>\r\n              </Card>\r\n\r\n              {/* Informacje dodatkowe */}\r\n              <Card>\r\n                <CardHeader>\r\n                  <CardTitle className=\"text-sm\">\r\n                    {t.pollInfo}\r\n                  </CardTitle>\r\n                </CardHeader>\r\n                <CardContent className=\"space-y-2 text-sm\">\r\n                  <p>{t.creationDate}: <strong>{new Date(voting.createdAt).toLocaleDateString(t.locale)}</strong></p>\r\n                </CardContent>\r\n              </Card>\r\n            </div>\r\n          </motion.div>\r\n        </div>\r\n      )}\r\n    </AnimatePresence>\r\n  );\r\n}"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1925, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ameli/Documents/studia/projekt/ShareWay/frontend/app/components/Navbar.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useEffect, useState } from \"react\";\r\nimport Link from \"next/link\";\r\nimport { motion, AnimatePresence } from \"framer-motion\";\r\nimport { Menu, X } from \"lucide-react\";\r\nimport Logo from \"./Logo\";\r\nimport { Button } from \"./ui/button\";\r\nimport { ThemeToggle } from \"./ThemeToggle\";\r\nimport { useI18n } from \"@/app/context/LanguageContext\";\r\nimport LanguageToggle from \"./LanguageToggle\";\r\n\r\nexport default function Navbar() {\r\n  const [open, setOpen] = useState(false);\r\n  const { t, lang } = useI18n();\r\n\r\n  useEffect(() => {\r\n    const onKey = (e: KeyboardEvent) => {\r\n      if (e.key === \"Escape\") setOpen(false);\r\n    };\r\n    window.addEventListener(\"keydown\", onKey);\r\n    return () => window.removeEventListener(\"keydown\", onKey);\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (!open) return;\r\n    const onScroll = () => setOpen(false);\r\n    window.addEventListener(\"scroll\", onScroll, { passive: true });\r\n    return () => window.removeEventListener(\"scroll\", onScroll);\r\n  }, [open]);\r\n\r\n  const loginLabel = t?.nav?.login ?? (lang === \"pl\" ? \"Zaloguj\" : \"Log in\");\r\n  const signupLabel =\r\n    t?.nav?.signup ?? (lang === \"pl\" ? \"Rejestracja\" : \"Sign up\");\r\n\r\n  return (\r\n    <nav className=\"fixed top-0 inset-x-0 z-50 backdrop-blur-md bg-background/80 border-b border-border\">\r\n      <div className=\"container mx-auto px-4 h-16 flex items-center justify-between\">\r\n        <Link href=\"/\" className=\"flex items-center gap-3 group\">\r\n          <Logo className=\"h-8 w-8 sm:h-9 sm:w-9 transition-transform group-hover:scale-110\" />\r\n          <span className=\"text-xl sm:text-2xl font-bold bg-gradient-hero bg-clip-text text-transparent\">\r\n            {t?.brand ?? \"ShareWay\"}\r\n          </span>\r\n        </Link>\r\n\r\n        <div className=\"hidden sm:flex items-center gap-3\">\r\n          <LanguageToggle />\r\n          <ThemeToggle />\r\n\r\n          <Link href=\"/login\">\r\n            <Button\r\n              variant=\"ghost\"\r\n              className=\"h-10 px-4 text-sm rounded-full hover:-translate-y-px transition-transform\"\r\n            >\r\n              {loginLabel}\r\n            </Button>\r\n          </Link>\r\n\r\n          <Link href=\"/register\">\r\n            <Button className=\"h-10 px-5 text-sm rounded-full shadow-md hover:shadow-lg hover:scale-[1.02] active:scale-[0.98] ring-1 ring-black/5 dark:ring-white/10\">\r\n              {signupLabel}\r\n            </Button>\r\n          </Link>\r\n        </div>\r\n\r\n        <div className=\"sm:hidden flex items-center gap-2\">\r\n          <ThemeToggle />\r\n          <button\r\n            type=\"button\"\r\n            onClick={() => setOpen((p) => !p)}\r\n            aria-label={\r\n              open\r\n                ? lang === \"pl\"\r\n                  ? \"Zamknij menu\"\r\n                  : \"Close menu\"\r\n                : lang === \"pl\"\r\n                ? \"Otw√≥rz menu\"\r\n                : \"Open menu\"\r\n            }\r\n            className=\"inline-flex h-10 w-10 items-center justify-center rounded-xl border border-border bg-background/70 transition hover:bg-muted/60\"\r\n          >\r\n            {open ? <X className=\"h-5 w-5\" /> : <Menu className=\"h-5 w-5\" />}\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      <AnimatePresence>\r\n        {open && (\r\n          <motion.div\r\n            key=\"mobile-fullwidth\"\r\n            initial={{ opacity: 0, y: -10, height: 0 }}\r\n            animate={{ opacity: 1, y: 0, height: \"auto\" }}\r\n            exit={{ opacity: 0, y: -10, height: 0 }}\r\n            transition={{ duration: 0.25, ease: \"easeOut\" }}\r\n            className=\"sm:hidden fixed top-16 left-0 right-0 z-40 bg-background border-b border-border shadow-md\"\r\n          >\r\n            <nav className=\"flex flex-col divide-y divide-border\">\r\n              <Link\r\n                href=\"/register\"\r\n                onClick={() => setOpen(false)}\r\n                className=\"w-full px-6 py-4 text-lg font-medium text-foreground hover:bg-muted/60 hover:text-primary transition-colors\"\r\n              >\r\n                {signupLabel}\r\n              </Link>\r\n              <Link\r\n                href=\"/login\"\r\n                onClick={() => setOpen(false)}\r\n                className=\"w-full px-6 py-4 text-lg font-medium text-foreground hover:bg-muted/60 hover:text-primary transition-colors\"\r\n              >\r\n                {loginLabel}\r\n              </Link>\r\n\r\n              <div className=\"px-6 py-4\">\r\n                <p className=\"text-sm text-muted-foreground mb-3\">\r\n                  {lang === \"pl\" ? \"Jƒôzyk interfejsu\" : \"Interface language\"}\r\n                </p>\r\n                <LanguageToggle mode=\"menu\" />\r\n              </div>\r\n            </nav>\r\n          </motion.div>\r\n        )}\r\n      </AnimatePresence>\r\n    </nav>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;;;AAVA;;;;;;;;;;AAYe,SAAS;;IACtB,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,yKAAQ,EAAC;IACjC,MAAM,EAAE,CAAC,EAAE,IAAI,EAAE,GAAG,IAAA,gJAAO;IAE3B,IAAA,0KAAS;4BAAC;YACR,MAAM;0CAAQ,CAAC;oBACb,IAAI,EAAE,GAAG,KAAK,UAAU,QAAQ;gBAClC;;YACA,OAAO,gBAAgB,CAAC,WAAW;YACnC;oCAAO,IAAM,OAAO,mBAAmB,CAAC,WAAW;;QACrD;2BAAG,EAAE;IAEL,IAAA,0KAAS;4BAAC;YACR,IAAI,CAAC,MAAM;YACX,MAAM;6CAAW,IAAM,QAAQ;;YAC/B,OAAO,gBAAgB,CAAC,UAAU,UAAU;gBAAE,SAAS;YAAK;YAC5D;oCAAO,IAAM,OAAO,mBAAmB,CAAC,UAAU;;QACpD;2BAAG;QAAC;KAAK;IAET,MAAM,aAAa,GAAG,KAAK,SAAS,CAAC,SAAS,OAAO,YAAY,QAAQ;IACzE,MAAM,cACJ,GAAG,KAAK,UAAU,CAAC,SAAS,OAAO,gBAAgB,SAAS;IAE9D,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC;gBAAI,WAAU;;kCACb,6LAAC,0KAAI;wBAAC,MAAK;wBAAI,WAAU;;0CACvB,6LAAC,wIAAI;gCAAC,WAAU;;;;;;0CAChB,6LAAC;gCAAK,WAAU;0CACb,GAAG,SAAS;;;;;;;;;;;;kCAIjB,6LAAC;wBAAI,WAAU;;0CACb,6LAAC,kJAAc;;;;;0CACf,6LAAC,mJAAW;;;;;0CAEZ,6LAAC,0KAAI;gCAAC,MAAK;0CACT,cAAA,6LAAC,+IAAM;oCACL,SAAQ;oCACR,WAAU;8CAET;;;;;;;;;;;0CAIL,6LAAC,0KAAI;gCAAC,MAAK;0CACT,cAAA,6LAAC,+IAAM;oCAAC,WAAU;8CACf;;;;;;;;;;;;;;;;;kCAKP,6LAAC;wBAAI,WAAU;;0CACb,6LAAC,mJAAW;;;;;0CACZ,6LAAC;gCACC,MAAK;gCACL,SAAS,IAAM,QAAQ,CAAC,IAAM,CAAC;gCAC/B,cACE,OACI,SAAS,OACP,iBACA,eACF,SAAS,OACT,gBACA;gCAEN,WAAU;0CAET,qBAAO,6LAAC,oMAAC;oCAAC,WAAU;;;;;yDAAe,6LAAC,6MAAI;oCAAC,WAAU;;;;;;;;;;;;;;;;;;;;;;;0BAK1D,6LAAC,+MAAe;0BACb,sBACC,6LAAC,uMAAM,CAAC,GAAG;oBAET,SAAS;wBAAE,SAAS;wBAAG,GAAG,CAAC;wBAAI,QAAQ;oBAAE;oBACzC,SAAS;wBAAE,SAAS;wBAAG,GAAG;wBAAG,QAAQ;oBAAO;oBAC5C,MAAM;wBAAE,SAAS;wBAAG,GAAG,CAAC;wBAAI,QAAQ;oBAAE;oBACtC,YAAY;wBAAE,UAAU;wBAAM,MAAM;oBAAU;oBAC9C,WAAU;8BAEV,cAAA,6LAAC;wBAAI,WAAU;;0CACb,6LAAC,0KAAI;gCACH,MAAK;gCACL,SAAS,IAAM,QAAQ;gCACvB,WAAU;0CAET;;;;;;0CAEH,6LAAC,0KAAI;gCACH,MAAK;gCACL,SAAS,IAAM,QAAQ;gCACvB,WAAU;0CAET;;;;;;0CAGH,6LAAC;gCAAI,WAAU;;kDACb,6LAAC;wCAAE,WAAU;kDACV,SAAS,OAAO,qBAAqB;;;;;;kDAExC,6LAAC,kJAAc;wCAAC,MAAK;;;;;;;;;;;;;;;;;;mBA3BrB;;;;;;;;;;;;;;;;AAmChB;GAhHwB;;QAEF,gJAAO;;;KAFL"}},
    {"offset": {"line": 2219, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ameli/Documents/studia/projekt/ShareWay/frontend/app/dashboard/%5BgroupId%5D/voting/page.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useState, useEffect } from \"react\";\r\nimport { useParams, useRouter } from \"next/navigation\";\r\nimport { motion } from \"framer-motion\";\r\nimport { Plus, Vote as VoteIcon, ArrowLeft } from \"lucide-react\";\r\nimport { Button } from \"@/app/components/ui/button\";\r\nimport { useI18n } from \"@/app/context/LanguageContext\";\r\nimport { getVotingTranslations } from \"./translations\";\r\nimport { fetchAuth, apiUrl } from \"@/lib/api\";\r\nimport VotingList from \"./components/VotingList\";\r\nimport CreateVotingDialog from \"./components/CreateVotingDialog\";\r\nimport VotingDetailsDialog from \"./components/VotingDetailsDialog\";\r\nimport Navbar from \"@/app/components/Navbar\";\r\nimport type { Voting, VotingFormData } from \"./types\";\r\n\r\nexport default function GroupVotingPage() {\r\n    const { lang } = useI18n();\r\n    const t = getVotingTranslations(lang);\r\n    const params = useParams();\r\n    const router = useRouter();\r\n    const groupId = params.groupId as string;\r\n    \r\n    const [votings, setVotings] = useState<Voting[]>([]);\r\n    const [isCreateDialogOpen, setIsCreateDialogOpen] = useState(false);\r\n    const [loading, setLoading] = useState(true);\r\n    const [groupName, setGroupName] = useState(\"\");\r\n\r\n    const [selectedVoting, setSelectedVoting] = useState<Voting | null>(null);\r\n    const [isDetailsOpen, setIsDetailsOpen] = useState(false);\r\n\r\n    useEffect(() => {\r\n        if (groupId) {\r\n            fetchGroupInfo();\r\n            fetchVotings();\r\n        }\r\n    }, [groupId]);\r\n\r\n    const fetchGroupInfo = async () => {\r\n        try {\r\n            // TODO: Fetch group details\r\n            // const response = await fetch(`/api/groups/${groupId}`);\r\n            // const data = await response.json();\r\n            // setGroupName(data.name);\r\n            setGroupName(\"Wyprawa do Grecji\"); // Mock\r\n        } catch (error) {\r\n            console.error(\"Error fetching group info:\", error);\r\n        }\r\n    };\r\n\r\n    const fetchVotings = async () => {\r\n        try {\r\n            setLoading(true);\r\n            \r\n            // MOCK DATA - usu≈Ñ gdy backend bƒôdzie gotowy\r\n            await new Promise(resolve => setTimeout(resolve, 800));\r\n            \r\n            const mockVotings: Voting[] = [\r\n                {\r\n                    id: \"vote-1\",\r\n                    title: \"Gdzie nocowaƒá w Atenach?\",\r\n                    description: \"Wybierz preferowanƒÖ dzielnicƒô do pobytu\",\r\n                    createdBy: \"user-1\",\r\n                    createdAt: new Date(\"2024-12-10\"),\r\n                    endsAt: new Date(\"2024-12-20\"),\r\n                    status: \"open\",\r\n                    options: [\r\n                        {\r\n                            id: \"opt-1\",\r\n                            text: \"Plaka (centrum historyczne)\",\r\n                            description: \"Blisko zabytk√≥w, turystyczne\",\r\n                            votes: 3,\r\n                            voters: [\"user-1\", \"user-2\", \"user-4\"],\r\n                        },\r\n                        {\r\n                            id: \"opt-2\",\r\n                            text: \"Kolonaki (nowoczesny)\",\r\n                            description: \"Modne lokale, dobre restauracje\",\r\n                            votes: 2,\r\n                            voters: [\"user-3\"],\r\n                        },\r\n                        {\r\n                            id: \"opt-3\",\r\n                            text: \"Monastiraki (bohemski)\",\r\n                            description: \"Bazary, atmosfera, bardziej autentyczne\",\r\n                            votes: 1,\r\n                            voters: [\"user-5\"],\r\n                        },\r\n                    ],\r\n                    totalVoters: 6,\r\n                    userVote: \"opt-1\",\r\n                },\r\n                {\r\n                    id: \"vote-2\",\r\n                    title: \"Ile dni powinni≈õmy spƒôdziƒá w Grecji?\",\r\n                    description: \"G≈Çosuj na preferowanƒÖ d≈Çugo≈õƒá wyjazdu\",\r\n                    createdBy: \"user-2\",\r\n                    createdAt: new Date(\"2024-12-08\"),\r\n                    endsAt: new Date(\"2024-12-18\"),\r\n                    status: \"open\",\r\n                    options: [\r\n                        {\r\n                            id: \"opt-4\",\r\n                            text: \"5 dni\",\r\n                            description: \"\",\r\n                            votes: 1,\r\n                            voters: [\"user-1\"],\r\n                        },\r\n                        {\r\n                            id: \"opt-5\",\r\n                            text: \"7 dni\",\r\n                            description: \"\",\r\n                            votes: 4,\r\n                            voters: [\"user-2\", \"user-3\", \"user-4\", \"user-5\"],\r\n                        },\r\n                        {\r\n                            id: \"opt-6\",\r\n                            text: \"10 dni\",\r\n                            description: \"\",\r\n                            votes: 2,\r\n                            voters: [\"user-6\", \"user-7\"],\r\n                        },\r\n                    ],\r\n                    totalVoters: 7,\r\n                    userVote: \"opt-5\",\r\n                },\r\n                {\r\n                    id: \"vote-3\",\r\n                    title: \"Jaki jest Tw√≥j bud≈ºet na ca≈ÇƒÖ podr√≥≈º?\",\r\n                    description: \"Pom√≥≈º nam zaplanowaƒá wydatki\",\r\n                    createdBy: \"user-3\",\r\n                    createdAt: new Date(\"2024-12-09\"),\r\n                    endsAt: new Date(\"2024-12-22\"),\r\n                    status: \"open\",\r\n                    options: [\r\n                        {\r\n                            id: \"opt-7\",\r\n                            text: \"1000 - 1500 PLN\",\r\n                            description: \"Bud≈ºet oszczƒôdny\",\r\n                            votes: 2,\r\n                            voters: [\"user-1\", \"user-3\"],\r\n                        },\r\n                        {\r\n                            id: \"opt-8\",\r\n                            text: \"1500 - 2500 PLN\",\r\n                            description: \"Bud≈ºet ≈õredni\",\r\n                            votes: 3,\r\n                            voters: [\"user-2\", \"user-4\", \"user-5\"],\r\n                        },\r\n                        {\r\n                            id: \"opt-9\",\r\n                            text: \"2500+ PLN\",\r\n                            description: \"Bud≈ºet wy≈ºszy, wiƒôcej komfortu\",\r\n                            votes: 1,\r\n                            voters: [\"user-6\"],\r\n                        },\r\n                    ],\r\n                    totalVoters: 6,\r\n                    userVote: null,\r\n                },\r\n                {\r\n                    id: \"vote-4\",\r\n                    title: \"Jakie atrakcje chcesz odwiedziƒá?\",\r\n                    description: \"Zaznacz wszystkie interesujƒÖce Ciƒô miejsca\",\r\n                    createdBy: \"user-4\",\r\n                    createdAt: new Date(\"2024-12-05\"),\r\n                    endsAt: new Date(\"2024-12-25\"),\r\n                    status: \"open\",\r\n                    options: [\r\n                        {\r\n                            id: \"opt-10\",\r\n                            text: \"Akropol i Partenon\",\r\n                            description: \"Najs≈Çawniejszy zabytek\",\r\n                            votes: 6,\r\n                            voters: [\"user-1\", \"user-2\", \"user-3\", \"user-4\", \"user-5\", \"user-6\"],\r\n                        },\r\n                        {\r\n                            id: \"opt-11\",\r\n                            text: \"Santorini\",\r\n                            description: \"Wyspa z zachodami s≈Ço≈Ñca\",\r\n                            votes: 4,\r\n                            voters: [\"user-1\", \"user-2\", \"user-4\", \"user-5\"],\r\n                        },\r\n                        {\r\n                            id: \"opt-12\",\r\n                            text: \"Delphi\",\r\n                            description: \"Staro≈ºytne ruiny\",\r\n                            votes: 2,\r\n                            voters: [\"user-3\", \"user-6\"],\r\n                        },\r\n                        {\r\n                            id: \"opt-13\",\r\n                            text: \"Pla≈ºe\",\r\n                            description: \"Relaks nad Morzem Egejskim\",\r\n                            votes: 5,\r\n                            voters: [\"user-1\", \"user-2\", \"user-3\", \"user-4\", \"user-6\"],\r\n                        },\r\n                    ],\r\n                    totalVoters: 6,\r\n                    userVote: \"opt-10\",\r\n                },\r\n                {\r\n                    id: \"vote-5\",\r\n                    title: \"Kiedy najlepiej wyjechaƒá?\",\r\n                    description: \"G≈Çosuj na preferowany miesiƒÖc\",\r\n                    createdBy: \"user-5\",\r\n                    createdAt: new Date(\"2024-12-01\"),\r\n                    endsAt: new Date(\"2024-12-15\"),\r\n                    status: \"closed\",\r\n                    options: [\r\n                        {\r\n                            id: \"opt-14\",\r\n                            text: \"Czerwiec\",\r\n                            description: \"\",\r\n                            votes: 3,\r\n                            voters: [\"user-1\", \"user-3\", \"user-5\"],\r\n                        },\r\n                        {\r\n                            id: \"opt-15\",\r\n                            text: \"Lipiec\",\r\n                            description: \"\",\r\n                            votes: 4,\r\n                            voters: [\"user-2\", \"user-4\", \"user-6\", \"user-7\"],\r\n                        },\r\n                        {\r\n                            id: \"opt-16\",\r\n                            text: \"Sierpie≈Ñ\",\r\n                            description: \"\",\r\n                            votes: 2,\r\n                            voters: [\"user-1\", \"user-2\"],\r\n                        },\r\n                    ],\r\n                    totalVoters: 9,\r\n                    userVote: \"opt-14\",\r\n                },\r\n            ];\r\n            \r\n            setVotings(mockVotings);\r\n            \r\n            // PRAWDZIWE API - odkomentuj gdy backend dzia≈Ça\r\n            // const data = await fetchAuth<Voting[]>(apiUrl(`/api/trips/${groupId}/votes`), {});\r\n            // setVotings(data);\r\n        } catch (error) {\r\n            console.error(\"Error fetching votings:\", error);\r\n            setVotings([]);\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    const handleCreateVoting = async (data: VotingFormData) => {\r\n        try {\r\n            const payload = {\r\n                title: data.title,\r\n                description: data.description,\r\n                endsAt: data.endsAt?.toISOString(),\r\n                options: data.initialOptions.map(text => ({ text })),\r\n            };\r\n\r\n            // MOCK - tylko od≈õwie≈º\r\n            console.log(\"Creating voting:\", payload);\r\n            await new Promise(resolve => setTimeout(resolve, 500));\r\n            await fetchVotings();\r\n            setIsCreateDialogOpen(false);\r\n\r\n            // PRAWDZIWE API\r\n            // await fetchAuth(apiUrl(`/api/trips/${groupId}/votes`), {\r\n            //     method: 'POST',\r\n            //     body: JSON.stringify(payload),\r\n            // });\r\n            // await fetchVotings();\r\n            // setIsCreateDialogOpen(false);\r\n        } catch (error) {\r\n            console.error(\"Error creating voting:\", error);\r\n            alert(t.createError);\r\n        }\r\n    };\r\n\r\n    const handleVote = async (votingId: string, optionId: string) => {\r\n        try {\r\n            // MOCK\r\n            console.log(`Voting for option ${optionId} in voting ${votingId}`);\r\n            setVotings(prevVotings =>\r\n                prevVotings.map(v =>\r\n                    v.id === votingId\r\n                        ? {\r\n                            ...v,\r\n                            userVote: optionId,\r\n                            options: v.options.map(o =>\r\n                                o.id === optionId\r\n                                    ? { ...o, votes: o.votes + 1, voters: [...o.voters, \"current-user\"] }\r\n                                    : o\r\n                            ),\r\n                        }\r\n                        : v\r\n                )\r\n            );\r\n\r\n            // PRAWDZIWE API\r\n            // await fetchAuth(apiUrl(`/api/votes/${votingId}/cast`), {\r\n            //     method: 'POST',\r\n            //     body: JSON.stringify({ optionIds: [optionId] }),\r\n            // });\r\n            // await fetchVotings();\r\n        } catch (error) {\r\n            console.error(\"Error voting:\", error);\r\n            alert(t.voteError);\r\n        }\r\n    };\r\n\r\n    const handleAddOption = async (votingId: string, optionText: string, description?: string) => {\r\n        try {\r\n            // MOCK\r\n            console.log(`Adding option \"${optionText}\" to voting ${votingId}`);\r\n            await new Promise(resolve => setTimeout(resolve, 300));\r\n            await fetchVotings();\r\n\r\n            // PRAWDZIWE API\r\n            // await fetchAuth(apiUrl(`/api/votes/${votingId}/options`), {\r\n            //     method: 'POST',\r\n            //     body: JSON.stringify({ text: optionText, description }),\r\n            // });\r\n            // await fetchVotings();\r\n        } catch (error) {\r\n            console.error(\"Error adding option:\", error);\r\n            alert(t.addOptionError);\r\n        }\r\n    };\r\n\r\n    const handleDeleteVoting = async (votingId: string) => {\r\n        try {\r\n            if (!confirm(t.deleteConfirm)) return;\r\n\r\n            // MOCK\r\n            console.log(`Deleting voting ${votingId}`);\r\n            setVotings(votings.filter(v => v.id !== votingId));\r\n\r\n            // PRAWDZIWE API\r\n            // await fetchAuth(apiUrl(`/api/votes/${votingId}`), {\r\n            //     method: 'DELETE',\r\n            // });\r\n            // setVotings(votings.filter(v => v.id !== votingId));\r\n        } catch (error) {\r\n            console.error(\"Error deleting voting:\", error);\r\n            alert(t.deleteError);\r\n        }\r\n    };\r\n\r\n    const handleViewDetails = (voting: Voting) => {\r\n        setSelectedVoting(voting);\r\n        setIsDetailsOpen(true);\r\n    };\r\n\r\n    return (\r\n        <>\r\n            <Navbar />\r\n            <main className=\"min-h-screen pt-24 pb-16 bg-gradient-soft\">\r\n                <div className=\"container mx-auto px-4\">\r\n                    {/* Back button */}\r\n                    <Button\r\n                        variant=\"ghost\"\r\n                        onClick={() => router.push(`/dashboard/${groupId}`)}\r\n                        className=\"mb-6 gap-2\"\r\n                    >\r\n                        <ArrowLeft className=\"w-4 h-4\" />\r\n                        {t.backToGroup}\r\n                    </Button>\r\n\r\n                    <motion.div\r\n                        initial={{ opacity: 0, y: 20 }}\r\n                        animate={{ opacity: 1, y: 0 }}\r\n                        transition={{ duration: 0.6 }}\r\n                        className=\"mb-12\"\r\n                    >\r\n                        <div className=\"flex items-center justify-between mb-6\">\r\n                            <div>\r\n                                <h1 className=\"text-4xl sm:text-5xl font-extrabold mb-2 flex items-center gap-3\">\r\n                                    <VoteIcon className=\"w-10 h-10 text-primary\" />\r\n                                    {t.voting}\r\n                                </h1>\r\n                                <p className=\"text-xl text-muted-foreground\">\r\n                                    {t.subtitle}: <strong>{groupName}</strong>\r\n                                </p>\r\n                            </div>\r\n                            \r\n                            <Button\r\n                                size=\"lg\"\r\n                                onClick={() => setIsCreateDialogOpen(true)}\r\n                                className=\"gap-2\"\r\n                            >\r\n                                <Plus className=\"w-5 h-5\" />\r\n                                {t.createPoll}\r\n                            </Button>\r\n                        </div>\r\n                    </motion.div>\r\n\r\n                    <VotingList \r\n                        votings={votings} \r\n                        loading={loading} \r\n                        groupId={groupId}\r\n                        onVote={handleVote}\r\n                        onAddOption={handleAddOption}\r\n                        onDelete={handleDeleteVoting}\r\n                        onViewDetails={handleViewDetails}\r\n                    />\r\n                </div>\r\n\r\n                <CreateVotingDialog\r\n                    open={isCreateDialogOpen}\r\n                    onOpenChange={setIsCreateDialogOpen}\r\n                    onSubmit={handleCreateVoting}\r\n                />\r\n\r\n                <VotingDetailsDialog\r\n                    voting={selectedVoting}\r\n                    open={isDetailsOpen}\r\n                    onClose={() => setIsDetailsOpen(false)}\r\n                    onVote={handleVote}\r\n                    onAddOption={handleAddOption}\r\n                />\r\n            </main>\r\n        </>\r\n    );\r\n}\r\n"],"names":[],"mappings":"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"}}]
}