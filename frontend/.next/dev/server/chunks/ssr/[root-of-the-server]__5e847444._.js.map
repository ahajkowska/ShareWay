{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 22, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ameli/Documents/studia/projekt/ShareWay/frontend/lib/utils.ts"],"sourcesContent":["export function cn(...classes: Array<string | undefined | false | null>) {\r\n  return classes.filter(Boolean).join(\" \");\r\n}\r\n"],"names":[],"mappings":";;;;AAAO,SAAS,GAAG,GAAG,OAAiD;IACrE,OAAO,QAAQ,MAAM,CAAC,SAAS,IAAI,CAAC;AACtC","debugId":null}},
    {"offset": {"line": 33, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ameli/Documents/studia/projekt/ShareWay/frontend/app/components/ui/button.tsx"],"sourcesContent":["\"use client\";\r\nimport * as React from \"react\";\r\nimport { Slot } from \"@radix-ui/react-slot\";\r\nimport { cva, type VariantProps } from \"class-variance-authority\";\r\nimport { cn } from \"@/lib/utils\";\r\n\r\nconst buttonVariants = cva(\r\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-xl text-sm font-semibold ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\r\n  {\r\n    variants: {\r\n      variant: {\r\n        default:\r\n          \"bg-primary text-primary-foreground hover:bg-primary/90 shadow-md\",\r\n        destructive:\r\n          \"bg-destructive text-destructive-foreground hover:bg-destructive/90 shadow-md\",\r\n        outline:\r\n          \"border-2 border-primary/30 bg-background text-foreground hover:bg-primary-soft hover:border-primary\",\r\n        secondary:\r\n          \"bg-secondary text-secondary-foreground hover:bg-secondary/90 shadow-md\",\r\n        ghost: \"hover:bg-muted/80\",\r\n        link: \"text-primary underline-offset-4 hover:underline\",\r\n      },\r\n      size: {\r\n        default: \"h-10 px-5 py-2\",\r\n        sm: \"h-9 rounded-lg px-4\",\r\n        lg: \"h-12 rounded-xl px-8 text-base\",\r\n        icon: \"h-10 w-10\",\r\n      },\r\n    },\r\n    defaultVariants: { variant: \"default\", size: \"default\" },\r\n  }\r\n);\r\n\r\nexport interface ButtonProps\r\n  extends React.ButtonHTMLAttributes<HTMLButtonElement>,\r\n    VariantProps<typeof buttonVariants> {\r\n  asChild?: boolean;\r\n}\r\n\r\nconst Button = React.forwardRef<HTMLButtonElement, ButtonProps>(\r\n  ({ className, variant, size, asChild = false, ...props }, ref) => {\r\n    const Comp = asChild ? Slot : \"button\";\r\n    return (\r\n      <Comp\r\n        className={cn(buttonVariants({ variant, size, className }))}\r\n        ref={ref}\r\n        {...props}\r\n      />\r\n    );\r\n  }\r\n);\r\nButton.displayName = \"Button\";\r\nexport { Button, buttonVariants };\r\n"],"names":[],"mappings":";;;;;;;AACA;AACA;AACA;AACA;AAJA;;;;;;AAMA,MAAM,iBAAiB,IAAA,uKAAG,EACxB,2VACA;IACE,UAAU;QACR,SAAS;YACP,SACE;YACF,aACE;YACF,SACE;YACF,WACE;YACF,OAAO;YACP,MAAM;QACR;QACA,MAAM;YACJ,SAAS;YACT,IAAI;YACJ,IAAI;YACJ,MAAM;QACR;IACF;IACA,iBAAiB;QAAE,SAAS;QAAW,MAAM;IAAU;AACzD;AASF,MAAM,uBAAS,mNAAgB,CAC7B,CAAC,EAAE,SAAS,EAAE,OAAO,EAAE,IAAI,EAAE,UAAU,KAAK,EAAE,GAAG,OAAO,EAAE;IACxD,MAAM,OAAO,UAAU,wKAAI,GAAG;IAC9B,qBACE,8OAAC;QACC,WAAW,IAAA,kHAAE,EAAC,eAAe;YAAE;YAAS;YAAM;QAAU;QACxD,KAAK;QACJ,GAAG,KAAK;;;;;;AAGf;AAEF,OAAO,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 94, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ameli/Documents/studia/projekt/ShareWay/frontend/app/groups/%5BgroupId%5D/voting/translations.ts"],"sourcesContent":["export const votingTranslations = {\r\n  pl: {\r\n    voting: \"Głosowania\",\r\n    createPoll: \"Utwórz głosowanie\",\r\n    pollTitle: \"Tytuł głosowania\",\r\n    description: \"Opis\",\r\n    optional: \"opcjonalnie\",\r\n    pollType: \"Typ głosowania\",\r\n    singleChoice: \"Pojedynczy wybór\",\r\n    multipleChoice: \"Wielokrotny wybór\",\r\n    options: \"Opcje\",\r\n    addOption: \"Dodaj opcję\",\r\n    option: \"Opcja\",\r\n    deadline: \"Termin zakończenia\",\r\n    allowNewOptions: \"Pozwól użytkownikom dodawać nowe opcje\",\r\n    allowAddingOptions: \"Pozwól dodawać opcje\",\r\n    anonymousVoting: \"Anonimowe głosowanie\",\r\n    cancel: \"Anuluj\",\r\n    create: \"Utwórz\",\r\n    creating: \"Tworzenie...\",\r\n    noPolls: \"Brak głosowań\",\r\n    addFirstPoll: \"Utwórz pierwsze głosowanie klikając przycisk powyżej\",\r\n    active: \"Aktywne\",\r\n    closed: \"Zakończone\",\r\n    votes: \"głosów\",\r\n    vote: \"głos\",\r\n    voted: \"Zagłosowano\",\r\n    notVoted: \"Nie zagłosowano\",\r\n    closePoll: \"Zamknij głosowanie\",\r\n    reopenPoll: \"Otwórz ponownie\",\r\n    edit: \"Edytuj\",\r\n    delete: \"Usuń\",\r\n    viewResults: \"Zobacz wyniki\",\r\n    hideResults: \"Ukryj wyniki\",\r\n    viewDetails: \"Zobacz szczegóły\",\r\n    yourVote: \"Twój głos\",\r\n    changeVote: \"Zmień głos\",\r\n    submitVote: \"Oddaj głos\",\r\n    votedBy: \"Zagłosowali:\",\r\n    noVotes: \"Brak głosów\",\r\n    closesIn: \"Zamknięcie za\",\r\n    closedOn: \"Zamknięto\",\r\n    multipleChoiceInfo: \"Możesz wybrać wiele opcji\",\r\n    singleChoiceInfo: \"Możesz wybrać tylko jedną opcję\",\r\n    backToGroup: \"Powrót do grupy\",\r\n    subtitle: \"Podejmujcie decyzje wspólnie w grupie\",\r\n    createError: \"Nie udało się utworzyć głosowania. Spróbuj ponownie.\",\r\n    voteError: \"Nie udało się oddać głosu. Spróbuj ponownie.\",\r\n    addOptionError: \"Nie udało się dodać opcji. Spróbuj ponownie.\",\r\n    deleteConfirm: \"Czy na pewno chcesz usunąć to głosowanie?\",\r\n    deleteError: \"Nie udało się usunąć głosowania. Spróbuj ponownie.\",\r\n    titleRequired: \"Tytuł jest wymagany\",\r\n    minOptionsRequired: \"Dodaj przynajmniej 2 opcje\",\r\n    pollTitlePlaceholder: \"np. Która wyspa odwiedzamy najpierw?\",\r\n    descriptionPlaceholder: \"Dodaj dodatkowe informacje...\",\r\n    minOptions: \"min. 2\",\r\n    settings: \"Ustawienia\",\r\n    allowNewOptionsDesc: \"Uczestnicy będą mogli proponować własne opcje\",\r\n    allowMultipleVotes: \"Pozwól na wiele głosów\",\r\n    showResultsBeforeVoting: \"Pokazuj wyniki przed głosowaniem\",\r\n    showResultsBeforeVotingDesc: \"Uczestnicy zobaczą aktualne wyniki przed oddaniem głosu\",\r\n    participant: \"uczestnik\",\r\n    participants: \"uczestników\",\r\n    leading: \"Prowadzi\",\r\n    endsOn: \"Kończy się\",\r\n    locale: \"pl-PL\",\r\n    peopleVoted: \"osób zagłosowało\",\r\n    totalVotesCast: \"łącznie oddanych głosów\",\r\n    status: \"Status\",\r\n    until: \"do\",\r\n    winner: \"Zwycięzca\",\r\n    allOptions: \"Wszystkie opcje\",\r\n    optionName: \"Nazwa opcji\",\r\n    optionPlaceholder: \"np. Mykonos\",\r\n    additionalInfo: \"Dodatkowe informacje...\",\r\n    adding: \"Dodawanie...\",\r\n    add: \"Dodaj\",\r\n    voteButton: \"Głosuj\",\r\n    whoVoted: \"Kto głosował?\",\r\n    pollInfo: \"Informacje o głosowaniu\",\r\n    createdBy: \"Utworzone przez\",\r\n    creationDate: \"Data utworzenia\",\r\n    yes: \"Tak\",\r\n    no: \"Nie\",\r\n    loadingPolls: \"Ładowanie głosowań...\",\r\n    activePolls: \"Aktywne głosowania\",\r\n    closedPolls: \"Zakończone głosowania\",\r\n  },\r\n  en: {\r\n    voting: \"Voting\",\r\n    createPoll: \"Create Poll\",\r\n    pollTitle: \"Poll Title\",\r\n    description: \"Description\",\r\n    optional: \"optional\",\r\n    pollType: \"Poll Type\",\r\n    singleChoice: \"Single Choice\",\r\n    multipleChoice: \"Multiple Choice\",\r\n    options: \"Options\",\r\n    addOption: \"Add Option\",\r\n    option: \"Option\",\r\n    deadline: \"Deadline\",\r\n    allowNewOptions: \"Allow users to add new options\",\r\n    allowAddingOptions: \"Allow adding options\",\r\n    anonymousVoting: \"Anonymous Voting\",\r\n    cancel: \"Cancel\",\r\n    create: \"Create\",\r\n    creating: \"Creating...\",\r\n    noPolls: \"No Polls\",\r\n    addFirstPoll: \"Create your first poll by clicking the button above\",\r\n    active: \"Active\",\r\n    closed: \"Closed\",\r\n    votes: \"votes\",\r\n    vote: \"vote\",\r\n    voted: \"Voted\",\r\n    notVoted: \"Not Voted\",\r\n    closePoll: \"Close Poll\",\r\n    reopenPoll: \"Reopen\",\r\n    edit: \"Edit\",\r\n    delete: \"Delete\",\r\n    viewResults: \"View Results\",\r\n    hideResults: \"Hide Results\",\r\n    viewDetails: \"View Details\",\r\n    yourVote: \"Your Vote\",\r\n    changeVote: \"Change Vote\",\r\n    submitVote: \"Submit Vote\",\r\n    votedBy: \"Voted by:\",\r\n    noVotes: \"No Votes\",\r\n    closesIn: \"Closes in\",\r\n    closedOn: \"Closed on\",\r\n    multipleChoiceInfo: \"You can select multiple options\",\r\n    singleChoiceInfo: \"You can select only one option\",\r\n    backToGroup: \"Back to group\",\r\n    subtitle: \"Make decisions together in the group\",\r\n    createError: \"Failed to create poll. Please try again.\",\r\n    voteError: \"Failed to submit vote. Please try again.\",\r\n    addOptionError: \"Failed to add option. Please try again.\",\r\n    deleteConfirm: \"Are you sure you want to delete this poll?\",\r\n    deleteError: \"Failed to delete poll. Please try again.\",\r\n    titleRequired: \"Title is required\",\r\n    minOptionsRequired: \"Add at least 2 options\",\r\n    pollTitlePlaceholder: \"e.g. Which island do we visit first?\",\r\n    descriptionPlaceholder: \"Add additional information...\",\r\n    minOptions: \"min. 2\",\r\n    settings: \"Settings\",\r\n    allowNewOptionsDesc: \"Participants will be able to propose their own options\",\r\n    allowMultipleVotes: \"Allow multiple votes\",\r\n    showResultsBeforeVoting: \"Show results before voting\",\r\n    showResultsBeforeVotingDesc: \"Participants will see current results before voting\",\r\n    participant: \"participant\",\r\n    participants: \"participants\",\r\n    leading: \"Leading\",\r\n    endsOn: \"Ends on\",\r\n    locale: \"en-US\",\r\n    peopleVoted: \"people voted\",\r\n    totalVotesCast: \"total votes cast\",\r\n    status: \"Status\",\r\n    until: \"until\",\r\n    winner: \"Winner\",\r\n    allOptions: \"All Options\",\r\n    optionName: \"Option Name\",\r\n    optionPlaceholder: \"e.g. Mykonos\",\r\n    additionalInfo: \"Additional information...\",\r\n    adding: \"Adding...\",\r\n    add: \"Add\",\r\n    voteButton: \"Vote\",\r\n    whoVoted: \"Who voted?\",\r\n    pollInfo: \"Poll Information\",\r\n    createdBy: \"Created by\",\r\n    creationDate: \"Creation date\",\r\n    yes: \"Yes\",\r\n    no: \"No\",\r\n    loadingPolls: \"Loading polls...\",\r\n    activePolls: \"Active Polls\",\r\n    closedPolls: \"Closed Polls\",\r\n  },\r\n};\r\n\r\nexport type VotingLang = keyof typeof votingTranslations;\r\n\r\nexport function getVotingTranslations(lang: VotingLang = 'pl') {\r\n  return votingTranslations[lang];\r\n}"],"names":[],"mappings":";;;;;;AAAO,MAAM,qBAAqB;IAChC,IAAI;QACF,QAAQ;QACR,YAAY;QACZ,WAAW;QACX,aAAa;QACb,UAAU;QACV,UAAU;QACV,cAAc;QACd,gBAAgB;QAChB,SAAS;QACT,WAAW;QACX,QAAQ;QACR,UAAU;QACV,iBAAiB;QACjB,oBAAoB;QACpB,iBAAiB;QACjB,QAAQ;QACR,QAAQ;QACR,UAAU;QACV,SAAS;QACT,cAAc;QACd,QAAQ;QACR,QAAQ;QACR,OAAO;QACP,MAAM;QACN,OAAO;QACP,UAAU;QACV,WAAW;QACX,YAAY;QACZ,MAAM;QACN,QAAQ;QACR,aAAa;QACb,aAAa;QACb,aAAa;QACb,UAAU;QACV,YAAY;QACZ,YAAY;QACZ,SAAS;QACT,SAAS;QACT,UAAU;QACV,UAAU;QACV,oBAAoB;QACpB,kBAAkB;QAClB,aAAa;QACb,UAAU;QACV,aAAa;QACb,WAAW;QACX,gBAAgB;QAChB,eAAe;QACf,aAAa;QACb,eAAe;QACf,oBAAoB;QACpB,sBAAsB;QACtB,wBAAwB;QACxB,YAAY;QACZ,UAAU;QACV,qBAAqB;QACrB,oBAAoB;QACpB,yBAAyB;QACzB,6BAA6B;QAC7B,aAAa;QACb,cAAc;QACd,SAAS;QACT,QAAQ;QACR,QAAQ;QACR,aAAa;QACb,gBAAgB;QAChB,QAAQ;QACR,OAAO;QACP,QAAQ;QACR,YAAY;QACZ,YAAY;QACZ,mBAAmB;QACnB,gBAAgB;QAChB,QAAQ;QACR,KAAK;QACL,YAAY;QACZ,UAAU;QACV,UAAU;QACV,WAAW;QACX,cAAc;QACd,KAAK;QACL,IAAI;QACJ,cAAc;QACd,aAAa;QACb,aAAa;IACf;IACA,IAAI;QACF,QAAQ;QACR,YAAY;QACZ,WAAW;QACX,aAAa;QACb,UAAU;QACV,UAAU;QACV,cAAc;QACd,gBAAgB;QAChB,SAAS;QACT,WAAW;QACX,QAAQ;QACR,UAAU;QACV,iBAAiB;QACjB,oBAAoB;QACpB,iBAAiB;QACjB,QAAQ;QACR,QAAQ;QACR,UAAU;QACV,SAAS;QACT,cAAc;QACd,QAAQ;QACR,QAAQ;QACR,OAAO;QACP,MAAM;QACN,OAAO;QACP,UAAU;QACV,WAAW;QACX,YAAY;QACZ,MAAM;QACN,QAAQ;QACR,aAAa;QACb,aAAa;QACb,aAAa;QACb,UAAU;QACV,YAAY;QACZ,YAAY;QACZ,SAAS;QACT,SAAS;QACT,UAAU;QACV,UAAU;QACV,oBAAoB;QACpB,kBAAkB;QAClB,aAAa;QACb,UAAU;QACV,aAAa;QACb,WAAW;QACX,gBAAgB;QAChB,eAAe;QACf,aAAa;QACb,eAAe;QACf,oBAAoB;QACpB,sBAAsB;QACtB,wBAAwB;QACxB,YAAY;QACZ,UAAU;QACV,qBAAqB;QACrB,oBAAoB;QACpB,yBAAyB;QACzB,6BAA6B;QAC7B,aAAa;QACb,cAAc;QACd,SAAS;QACT,QAAQ;QACR,QAAQ;QACR,aAAa;QACb,gBAAgB;QAChB,QAAQ;QACR,OAAO;QACP,QAAQ;QACR,YAAY;QACZ,YAAY;QACZ,mBAAmB;QACnB,gBAAgB;QAChB,QAAQ;QACR,KAAK;QACL,YAAY;QACZ,UAAU;QACV,UAAU;QACV,WAAW;QACX,cAAc;QACd,KAAK;QACL,IAAI;QACJ,cAAc;QACd,aAAa;QACb,aAAa;IACf;AACF;AAIO,SAAS,sBAAsB,OAAmB,IAAI;IAC3D,OAAO,kBAAkB,CAAC,KAAK;AACjC","debugId":null}},
    {"offset": {"line": 283, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ameli/Documents/studia/projekt/ShareWay/frontend/lib/api.ts"],"sourcesContent":["/**\r\n * API helper functions with Double-Token Authentication\r\n */\r\n\r\n/**\r\n * Custom error class for authentication errors\r\n */\r\nexport class AuthError extends Error {\r\n    constructor(message: string, public status: number) {\r\n        super(message);\r\n        this.name = \"AuthError\";\r\n    }\r\n}\r\n\r\n/**\r\n * Auth constants - configure these based on your backend\r\n */\r\nconst AUTH_CONSTANTS = {\r\n  AUTH_URL: process.env.NEXT_PUBLIC_API_URL || 'http://localhost:4000',\r\n  REFRESH_ACCESS_TOKEN_ENDPOINT: 'auth/refresh',\r\n};\r\n\r\n/**\r\n * API base URL from environment\r\n */\r\nexport const API_BASE_URL = process.env.NEXT_PUBLIC_API_URL || 'http://localhost:4000';\r\n\r\n/**\r\n * Build full API URL\r\n */\r\nexport function apiUrl(path: string): string {\r\n    // Ensure path starts with /\r\n    if (!path.startsWith('/')) {\r\n        path = `/${path}`;\r\n    }\r\n    return `${API_BASE_URL}${path}`;\r\n}\r\n\r\n/**\r\n * Update request options with credentials and headers\r\n */\r\nconst updateOptions = (options: RequestInit): RequestInit => {\r\n    const update = { ...options };\r\n    update.credentials = \"include\"; // CRITICAL: Ensures Cookies are sent\r\n\r\n    const existingHeaders = (update.headers || {}) as Record<string, string>;\r\n\r\n    if (!(update.body instanceof FormData)) {\r\n        update.headers = {\r\n            \"Content-Type\": \"application/json\",\r\n            ...existingHeaders, // Preserves custom headers (e.g. trace-id)\r\n        };\r\n    }\r\n    return update;\r\n};\r\n\r\n/**\r\n * Authenticated fetch wrapper with automatic token refresh\r\n * Handles Double-Token Auth flow:\r\n * - Access token in httpOnly cookie\r\n * - Refresh token in httpOnly cookie\r\n * - Automatically refreshes on 401 and retries\r\n */\r\nexport async function fetchAuth<T>(\r\n    fetchUrl: string,\r\n    requestOptions: RequestInit = {},\r\n    retryCount: number = 0\r\n): Promise<T> {\r\n    let response: Response;\r\n    const finalOptions = updateOptions(requestOptions);\r\n\r\n    try {\r\n        response = await fetch(fetchUrl, finalOptions);\r\n    } catch (e) {\r\n        const message = e instanceof Error ? e.message : `Unknown error: ${String(e)}`;\r\n        throw new Error(`Network request failed: ${message}`);\r\n    }\r\n\r\n    // Intercept 401 and try to Refresh Token\r\n    if (!response.ok && response.status === 401) {\r\n        if (retryCount === 0) {\r\n            try {\r\n                const refreshResponse = await fetch(\r\n                    `${AUTH_CONSTANTS.AUTH_URL}/${AUTH_CONSTANTS.REFRESH_ACCESS_TOKEN_ENDPOINT}`,\r\n                    {\r\n                        method: \"POST\",\r\n                        credentials: \"include\",\r\n                    }\r\n                );\r\n\r\n                if (!refreshResponse.ok) {\r\n                    throw new AuthError(\"Session expired\", 401);\r\n                }\r\n                // Retry original request with new cookies\r\n                return fetchAuth<T>(fetchUrl, requestOptions, retryCount + 1);\r\n            } catch (error) {\r\n                throw error;\r\n            }\r\n        }\r\n    }\r\n\r\n    const text = await response.text();\r\n    const hasBody = text.trim().length > 0;\r\n    let json: unknown = null;\r\n\r\n    if (hasBody) {\r\n        try {\r\n            json = JSON.parse(text);\r\n        } catch {\r\n            json = text;\r\n        }\r\n    }\r\n\r\n    if (!response.ok) {\r\n        let errorMessage = `HTTP Error: ${response.status}`;\r\n        if (json && typeof json === \"object\") {\r\n            const obj = json as Record<string, unknown>;\r\n            errorMessage = (obj.message as string) || (obj.error as string) || errorMessage;\r\n        }\r\n        throw new AuthError(errorMessage, response.status);\r\n    }\r\n\r\n    if (!hasBody) return null as T;\r\n\r\n    return json as T;\r\n}\r\n\r\n// ============================================\r\n// TYPE IMPORTS\r\n// ============================================\r\n\r\nimport type { ExpenseDto, BalanceGraphDto } from \"@/app/groups/[groupId]/costs/types\";\r\n\r\n// ============================================\r\n// VOTING API\r\n// ============================================\r\n\r\n/**\r\n * Fetch all votings for a trip\r\n */\r\nexport async function fetchVotings(tripId: string) {\r\n    return fetchAuth(apiUrl(`/trips/${tripId}/votes`), {\r\n        method: \"GET\",\r\n    });\r\n}\r\n\r\n/**\r\n * Create a new voting\r\n */\r\nexport async function createVoting(tripId: string, data: any) {\r\n    return fetchAuth(apiUrl(`/trips/${tripId}/votes`), {\r\n        method: \"POST\",\r\n        body: JSON.stringify(data),\r\n    });\r\n}\r\n\r\n/**\r\n * Cast vote(s) on a voting\r\n */\r\nexport async function castVote(voteId: string, optionIds: string[]) {\r\n    return fetchAuth(apiUrl(`/votes/${voteId}/cast`), {\r\n        method: \"POST\",\r\n        body: JSON.stringify({ optionIds }),\r\n    });\r\n}\r\n\r\n/**\r\n * Delete a voting\r\n */\r\nexport async function deleteVoting(voteId: string) {\r\n    return fetchAuth(apiUrl(`/votes/${voteId}`), {\r\n        method: \"DELETE\",\r\n    });\r\n}\r\n\r\n/**\r\n * Add option to existing voting\r\n */\r\nexport async function addVotingOption(voteId: string, text: string, description?: string) {\r\n    return fetchAuth(apiUrl(`/votes/${voteId}/options`), {\r\n        method: \"POST\",\r\n        body: JSON.stringify({ text, description }),\r\n    });\r\n}\r\n\r\n// ============================================\r\n// CHECKLIST API\r\n// ============================================\r\n\r\n/**\r\n * Fetch checklist for a trip\r\n */\r\nexport async function fetchChecklist(tripId: string) {\r\n    return fetchAuth(apiUrl(`/trips/${tripId}/checklist`), {\r\n        method: \"GET\",\r\n    });\r\n}\r\n\r\n/**\r\n * Add item to checklist\r\n */\r\nexport async function addChecklistItem(tripId: string, text: string) {\r\n    return fetchAuth(apiUrl(`/trips/${tripId}/checklist`), {\r\n        method: \"POST\",\r\n        body: JSON.stringify({ text }),\r\n    });\r\n}\r\n\r\n/**\r\n * Toggle checklist item status\r\n */\r\nexport async function toggleChecklistItemStatus(itemId: string, isChecked: boolean) {\r\n    return fetchAuth(apiUrl(`/checklist/${itemId}/status`), {\r\n        method: \"PATCH\",\r\n        body: JSON.stringify({ isChecked }),\r\n    });\r\n}\r\n\r\n/**\r\n * Delete checklist item\r\n */\r\nexport async function deleteChecklistItem(itemId: string) {\r\n    return fetchAuth(apiUrl(`/checklist/${itemId}`), {\r\n        method: \"DELETE\",\r\n    });\r\n}\r\n\r\n// ============================================\r\n// COSTS/EXPENSES API\r\n// ============================================\r\n\r\n/**\r\n * Fetch all expenses for a trip\r\n */\r\nexport async function fetchExpenses(tripId: string): Promise<ExpenseDto[]> {\r\n    return fetchAuth<ExpenseDto[]>(apiUrl(`/trips/${tripId}/expenses`), {\r\n        method: \"GET\",\r\n    });\r\n}\r\n\r\n/**\r\n * Create a new expense\r\n */\r\nexport async function createExpense(tripId: string, payload: any): Promise<ExpenseDto> {\r\n    return fetchAuth<ExpenseDto>(apiUrl(`/trips/${tripId}/expenses`), {\r\n        method: \"POST\",\r\n        body: JSON.stringify(payload),\r\n    });\r\n}\r\n\r\n/**\r\n * Delete an expense\r\n */\r\nexport async function deleteExpense(expenseId: string): Promise<void> {\r\n    return fetchAuth<void>(apiUrl(`/expenses/${expenseId}`), {\r\n        method: \"DELETE\",\r\n    });\r\n}\r\n\r\n/**\r\n * Fetch balance/settlement graph for a trip\r\n */\r\nexport async function fetchBalanceGraph(tripId: string): Promise<BalanceGraphDto> {\r\n    return fetchAuth<BalanceGraphDto>(apiUrl(`/trips/${tripId}/balance`), {\r\n        method: \"GET\",\r\n    });\r\n}\r\n\r\n// ============================================\r\n// PLAN API (Days + Activities)\r\n// ============================================\r\n\r\n/**\r\n * Fetch plan (days + activities) for a trip\r\n */\r\nexport async function fetchPlan(tripId: string) {\r\n    return fetchAuth(apiUrl(`/trips/${tripId}/plan`), {\r\n        method: \"GET\",\r\n    });\r\n}\r\n\r\n/**\r\n * Create a new day\r\n */\r\nexport async function createDay(tripId: string, payload: { date: string }) {\r\n    return fetchAuth(apiUrl(`/trips/${tripId}/days`), {\r\n        method: \"POST\",\r\n        body: JSON.stringify(payload),\r\n    });\r\n}\r\n\r\n/**\r\n * Create a new activity\r\n */\r\nexport async function createActivity(dayId: string, payload: any) {\r\n    return fetchAuth(apiUrl(`/days/${dayId}/activities`), {\r\n        method: \"POST\",\r\n        body: JSON.stringify(payload),\r\n    });\r\n}\r\n\r\n/**\r\n * Update an activity\r\n */\r\nexport async function updateActivity(activityId: string, payload: any) {\r\n    return fetchAuth(apiUrl(`/activities/${activityId}`), {\r\n        method: \"PATCH\",\r\n        body: JSON.stringify(payload),\r\n    });\r\n}\r\n\r\n/**\r\n * Delete an activity\r\n */\r\nexport async function deleteActivity(activityId: string) {\r\n    return fetchAuth(apiUrl(`/activities/${activityId}`), {\r\n        method: \"DELETE\",\r\n    });\r\n}"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 530, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ameli/Documents/studia/projekt/ShareWay/frontend/app/components/ui/card.tsx"],"sourcesContent":["import * as React from \"react\";\r\nimport { cn } from \"@/lib/utils\";\r\n\r\nexport function Card({\r\n  className,\r\n  ...props\r\n}: React.HTMLAttributes<HTMLDivElement>) {\r\n  return (\r\n    <div\r\n      className={cn(\r\n        \"rounded-xl border bg-card text-card-foreground shadow-sm\",\r\n        className\r\n      )}\r\n      {...props}\r\n    />\r\n  );\r\n}\r\nexport function CardHeader({\r\n  className,\r\n  ...props\r\n}: React.HTMLAttributes<HTMLDivElement>) {\r\n  return (\r\n    <div\r\n      className={cn(\"flex flex-col space-y-1.5 p-6\", className)}\r\n      {...props}\r\n    />\r\n  );\r\n}\r\nexport function CardTitle({\r\n  className,\r\n  ...props\r\n}: React.HTMLAttributes<HTMLHeadingElement>) {\r\n  return (\r\n    <h3\r\n      className={cn(\r\n        \"text-2xl font-semibold leading-none tracking-tight\",\r\n        className\r\n      )}\r\n      {...props}\r\n    />\r\n  );\r\n}\r\n\r\nexport function CardContent({\r\n  className,\r\n  ...props\r\n}: React.HTMLAttributes<HTMLDivElement>) {\r\n  return <div className={cn(\"p-6 pt-0\", className)} {...props} />;\r\n}\r\n\r\nexport function CardDescription({\r\n  className,\r\n  ...props\r\n}: React.HTMLAttributes<HTMLParagraphElement>) {\r\n  return (\r\n    <p className={cn(\"text-sm text-muted-foreground\", className)} {...props} />\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;;;;;;;;;AACA;;;AAEO,SAAS,KAAK,EACnB,SAAS,EACT,GAAG,OACkC;IACrC,qBACE,8OAAC;QACC,WAAW,IAAA,kHAAE,EACX,4DACA;QAED,GAAG,KAAK;;;;;;AAGf;AACO,SAAS,WAAW,EACzB,SAAS,EACT,GAAG,OACkC;IACrC,qBACE,8OAAC;QACC,WAAW,IAAA,kHAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGf;AACO,SAAS,UAAU,EACxB,SAAS,EACT,GAAG,OACsC;IACzC,qBACE,8OAAC;QACC,WAAW,IAAA,kHAAE,EACX,sDACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEO,SAAS,YAAY,EAC1B,SAAS,EACT,GAAG,OACkC;IACrC,qBAAO,8OAAC;QAAI,WAAW,IAAA,kHAAE,EAAC,YAAY;QAAa,GAAG,KAAK;;;;;;AAC7D;AAEO,SAAS,gBAAgB,EAC9B,SAAS,EACT,GAAG,OACwC;IAC3C,qBACE,8OAAC;QAAE,WAAW,IAAA,kHAAE,EAAC,iCAAiC;QAAa,GAAG,KAAK;;;;;;AAE3E","debugId":null}},
    {"offset": {"line": 600, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ameli/Documents/studia/projekt/ShareWay/frontend/app/components/ui/progress.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport * as React from \"react\"\r\nimport * as ProgressPrimitive from \"@radix-ui/react-progress\"\r\n\r\nimport { cn } from \"@/lib/utils\"\r\n\r\nconst Progress = React.forwardRef<\r\n  React.ComponentRef<typeof ProgressPrimitive.Root>,\r\n  React.ComponentPropsWithoutRef<typeof ProgressPrimitive.Root>\r\n>(({ className, value, ...props }, ref) => (\r\n  <ProgressPrimitive.Root\r\n    ref={ref}\r\n    className={cn(\r\n      \"relative h-2 w-full overflow-hidden rounded-full bg-primary/20\",\r\n      className\r\n    )}\r\n    {...props}\r\n  >\r\n    <ProgressPrimitive.Indicator\r\n      className=\"h-full w-full flex-1 bg-primary transition-all\"\r\n      style={{ transform: `translateX(-${100 - (value || 0)}%)` }}\r\n    />\r\n  </ProgressPrimitive.Root>\r\n))\r\nProgress.displayName = ProgressPrimitive.Root.displayName\r\n\r\nexport { Progress }"],"names":[],"mappings":";;;;;AAEA;AACA;AAEA;AALA;;;;;AAOA,MAAM,yBAAW,mNAAgB,CAG/B,CAAC,EAAE,SAAS,EAAE,KAAK,EAAE,GAAG,OAAO,EAAE,oBACjC,8OAAC,4KAAsB;QACrB,KAAK;QACL,WAAW,IAAA,kHAAE,EACX,kEACA;QAED,GAAG,KAAK;kBAET,cAAA,8OAAC,iLAA2B;YAC1B,WAAU;YACV,OAAO;gBAAE,WAAW,CAAC,YAAY,EAAE,MAAM,CAAC,SAAS,CAAC,EAAE,EAAE,CAAC;YAAC;;;;;;;;;;;AAIhE,SAAS,WAAW,GAAG,4KAAsB,CAAC,WAAW","debugId":null}},
    {"offset": {"line": 638, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ameli/Documents/studia/projekt/ShareWay/frontend/app/groups/%5BgroupId%5D/voting/components/VotingCard.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { motion } from \"framer-motion\";\r\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/app/components/ui/card\";\r\nimport { Button } from \"@/app/components/ui/button\";\r\nimport { Progress } from \"@/app/components/ui/progress\";\r\nimport { Calendar, Users, TrendingUp, Trash2 } from \"lucide-react\";\r\nimport { useI18n } from \"@/app/context/LanguageContext\";\r\nimport { getVotingTranslations } from \"../translations\";\r\nimport type { Voting } from \"../types\";\r\n\r\ninterface VotingCardProps {\r\n  voting: Voting;\r\n  groupId: string;\r\n  index: number;\r\n  onVote: (votingId: string, optionId: string) => Promise<void>;\r\n  onDelete: (votingId: string) => Promise<void>;\r\n  onViewDetails: (voting: Voting) => void;\r\n}\r\n\r\nexport default function VotingCard({\r\n  voting,\r\n  groupId,\r\n  index,\r\n  onVote,\r\n  onDelete,\r\n  onViewDetails,\r\n}: VotingCardProps) {\r\n  const { lang } = useI18n();\r\n  const t = getVotingTranslations(lang);\r\n  const totalVotes = voting.options.reduce((sum, opt) => sum + opt.votes.length, 0);\r\n  const uniqueVoters = new Set(voting.options.flatMap(opt => opt.votes.map(v => v.userId)));\r\n  const sortedOptions = [...voting.options].sort((a, b) => b.votes.length - a.votes.length);\r\n  const topOption = sortedOptions[0];\r\n\r\n  return (\r\n    <motion.div\r\n      initial={{ opacity: 0, y: 20 }}\r\n      animate={{ opacity: 1, y: 0 }}\r\n      transition={{ delay: index * 0.1 }}\r\n    >\r\n      <Card className=\"h-full hover:shadow-lg transition-all\">\r\n        <CardHeader>\r\n          <div className=\"flex justify-between items-start\">\r\n            <div className=\"flex-1\">\r\n              <CardTitle className=\"text-xl mb-2\">{voting.title}</CardTitle>\r\n              {voting.description && (\r\n                <p className=\"text-sm text-muted-foreground line-clamp-2\">\r\n                  {voting.description}\r\n                </p>\r\n              )}\r\n            </div>\r\n            <Button\r\n              variant=\"ghost\"\r\n              size=\"icon\"\r\n              onClick={() => onDelete(voting.id)}\r\n              className=\"text-destructive hover:text-destructive\"\r\n            >\r\n              <Trash2 className=\"h-4 w-4\" />\r\n            </Button>\r\n          </div>\r\n        </CardHeader>\r\n\r\n        <CardContent className=\"space-y-4\">\r\n          {/* Statystyki */}\r\n          <div className=\"grid grid-cols-2 gap-4\">\r\n            <div className=\"flex items-center gap-2 text-sm\">\r\n              <Users className=\"h-4 w-4 text-muted-foreground\" />\r\n              <span>\r\n                {uniqueVoters.size} {uniqueVoters.size === 1 \r\n                  ? t.participant \r\n                  : t.participants}\r\n              </span>\r\n            </div>\r\n            <div className=\"flex items-center gap-2 text-sm\">\r\n              <TrendingUp className=\"h-4 w-4 text-muted-foreground\" />\r\n              <span>\r\n                {totalVotes} {totalVotes === 1 \r\n                  ? t.vote \r\n                  : t.votes}\r\n              </span>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Top opcja */}\r\n          {topOption && topOption.votes.length > 0 && (\r\n            <div className=\"p-3 bg-primary/5 rounded-lg border border-primary/20\">\r\n              <p className=\"text-xs text-muted-foreground mb-1\">{t.leading}:</p>\r\n              <p className=\"font-semibold\">{topOption.text}</p>\r\n              <div className=\"flex items-center gap-2 mt-2\">\r\n                <Progress \r\n                  value={totalVotes > 0 ? (topOption.votes.length / totalVotes) * 100 : 0} \r\n                  className=\"flex-1\"\r\n                />\r\n                <span className=\"text-xs font-medium\">\r\n                  {topOption.votes.length}\r\n                </span>\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          {/* Przyciski akcji */}\r\n          <div className=\"flex gap-2 pt-2\">\r\n            <Button\r\n              variant=\"outline\"\r\n              size=\"sm\"\r\n              onClick={() => onViewDetails(voting)}\r\n              className=\"flex-1\"\r\n            >\r\n              {t.viewDetails}\r\n            </Button>\r\n          </div>\r\n\r\n          {/* Data zakończenia */}\r\n          {voting.endsAt && (\r\n            <div className=\"flex items-center gap-2 text-xs text-muted-foreground pt-2 border-t\">\r\n              <Calendar className=\"h-3 w-3\" />\r\n              <span>\r\n                {t.endsOn}: {new Date(voting.endsAt).toLocaleDateString(t.locale)}\r\n              </span>\r\n            </div>\r\n          )}\r\n        </CardContent>\r\n      </Card>\r\n    </motion.div>\r\n  );\r\n}"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 929, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ameli/Documents/studia/projekt/ShareWay/frontend/app/groups/%5BgroupId%5D/voting/components/VotingList.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { Card, CardContent } from \"@/app/components/ui/card\";\r\nimport { useI18n } from \"@/app/context/LanguageContext\";\r\nimport { getVotingTranslations } from \"../translations\";\r\nimport type { Voting } from \"../types\";\r\nimport VotingCard from \"./VotingCard\";\r\n\r\ninterface VotingListProps {\r\n  votings: Voting[];\r\n  loading: boolean;\r\n  groupId: string;\r\n  onVote: (votingId: string, optionId: string) => Promise<void>;\r\n  onAddOption: (votingId: string, optionText: string, description?: string) => Promise<void>;\r\n  onDelete: (votingId: string) => Promise<void>;\r\n  onViewDetails: (voting: Voting) => void;\r\n}\r\n\r\nexport default function VotingList({ \r\n  votings, \r\n  loading, \r\n  groupId,\r\n  onVote,\r\n  onAddOption,\r\n  onDelete,\r\n  onViewDetails\r\n}: VotingListProps) {\r\n  const { lang } = useI18n();\r\n  const t = getVotingTranslations(lang);\r\n\r\n  if (loading) {\r\n    return (\r\n      <Card>\r\n        <CardContent className=\"pt-6\">\r\n          <p className=\"text-center text-muted-foreground\">\r\n            {t.loadingPolls}\r\n          </p>\r\n        </CardContent>\r\n      </Card>\r\n    );\r\n  }\r\n\r\n  if (votings.length === 0) {\r\n    return (\r\n      <Card>\r\n        <CardContent className=\"pt-6\">\r\n          <p className=\"text-center text-muted-foreground\">\r\n            {t.noPolls}\r\n          </p>\r\n        </CardContent>\r\n      </Card>\r\n    );\r\n  }\r\n\r\n  // Sortuj: aktywne najpierw, potem po dacie utworzenia\r\n  const sortedVotings = [...votings].sort((a, b) => {\r\n    if (a.isActive !== b.isActive) {\r\n      return a.isActive ? -1 : 1;\r\n    }\r\n    return new Date(b.createdAt).getTime() - new Date(a.createdAt).getTime();\r\n  });\r\n\r\n  const activeVotings = sortedVotings.filter(v => v.isActive);\r\n  const closedVotings = sortedVotings.filter(v => !v.isActive);\r\n\r\n  return (\r\n    <div className=\"space-y-8\">\r\n      {/* Aktywne głosowania */}\r\n      {activeVotings.length > 0 && (\r\n        <div>\r\n          <h2 className=\"text-2xl font-bold mb-4 flex items-center gap-2\">\r\n            <div className=\"w-3 h-3 bg-green-500 rounded-full animate-pulse\" />\r\n            {t.activePolls} ({activeVotings.length})\r\n          </h2>\r\n          <div className=\"grid md:grid-cols-2 lg:grid-cols-3 gap-6\">\r\n            {activeVotings.map((voting, index) => (\r\n              <VotingCard\r\n                key={voting.id}\r\n                voting={voting}\r\n                groupId={groupId}\r\n                index={index}\r\n                onVote={onVote}\r\n                onDelete={onDelete}\r\n                onViewDetails={onViewDetails}\r\n              />\r\n            ))}\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Zakończone głosowania */}\r\n      {closedVotings.length > 0 && (\r\n        <div>\r\n          <h2 className=\"text-2xl font-bold mb-4 text-muted-foreground\">\r\n            {t.closedPolls} ({closedVotings.length})\r\n          </h2>\r\n          <div className=\"grid md:grid-cols-2 lg:grid-cols-3 gap-6\">\r\n            {closedVotings.map((voting, index) => (\r\n              <VotingCard\r\n                key={voting.id}\r\n                voting={voting}\r\n                groupId={groupId}\r\n                index={index}\r\n                onVote={onVote}\r\n                onDelete={onDelete}\r\n                onViewDetails={onViewDetails}\r\n              />\r\n            ))}\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAEA;AANA;;;;;;AAkBe,SAAS,WAAW,EACjC,OAAO,EACP,OAAO,EACP,OAAO,EACP,MAAM,EACN,WAAW,EACX,QAAQ,EACR,aAAa,EACG;IAChB,MAAM,EAAE,IAAI,EAAE,GAAG,IAAA,6IAAO;IACxB,MAAM,IAAI,IAAA,+KAAqB,EAAC;IAEhC,IAAI,SAAS;QACX,qBACE,8OAAC,wIAAI;sBACH,cAAA,8OAAC,+IAAW;gBAAC,WAAU;0BACrB,cAAA,8OAAC;oBAAE,WAAU;8BACV,EAAE,YAAY;;;;;;;;;;;;;;;;IAKzB;IAEA,IAAI,QAAQ,MAAM,KAAK,GAAG;QACxB,qBACE,8OAAC,wIAAI;sBACH,cAAA,8OAAC,+IAAW;gBAAC,WAAU;0BACrB,cAAA,8OAAC;oBAAE,WAAU;8BACV,EAAE,OAAO;;;;;;;;;;;;;;;;IAKpB;IAEA,sDAAsD;IACtD,MAAM,gBAAgB;WAAI;KAAQ,CAAC,IAAI,CAAC,CAAC,GAAG;QAC1C,IAAI,EAAE,QAAQ,KAAK,EAAE,QAAQ,EAAE;YAC7B,OAAO,EAAE,QAAQ,GAAG,CAAC,IAAI;QAC3B;QACA,OAAO,IAAI,KAAK,EAAE,SAAS,EAAE,OAAO,KAAK,IAAI,KAAK,EAAE,SAAS,EAAE,OAAO;IACxE;IAEA,MAAM,gBAAgB,cAAc,MAAM,CAAC,CAAA,IAAK,EAAE,QAAQ;IAC1D,MAAM,gBAAgB,cAAc,MAAM,CAAC,CAAA,IAAK,CAAC,EAAE,QAAQ;IAE3D,qBACE,8OAAC;QAAI,WAAU;;YAEZ,cAAc,MAAM,GAAG,mBACtB,8OAAC;;kCACC,8OAAC;wBAAG,WAAU;;0CACZ,8OAAC;gCAAI,WAAU;;;;;;4BACd,EAAE,WAAW;4BAAC;4BAAG,cAAc,MAAM;4BAAC;;;;;;;kCAEzC,8OAAC;wBAAI,WAAU;kCACZ,cAAc,GAAG,CAAC,CAAC,QAAQ,sBAC1B,8OAAC,8KAAU;gCAET,QAAQ;gCACR,SAAS;gCACT,OAAO;gCACP,QAAQ;gCACR,UAAU;gCACV,eAAe;+BANV,OAAO,EAAE;;;;;;;;;;;;;;;;YAcvB,cAAc,MAAM,GAAG,mBACtB,8OAAC;;kCACC,8OAAC;wBAAG,WAAU;;4BACX,EAAE,WAAW;4BAAC;4BAAG,cAAc,MAAM;4BAAC;;;;;;;kCAEzC,8OAAC;wBAAI,WAAU;kCACZ,cAAc,GAAG,CAAC,CAAC,QAAQ,sBAC1B,8OAAC,8KAAU;gCAET,QAAQ;gCACR,SAAS;gCACT,OAAO;gCACP,QAAQ;gCACR,UAAU;gCACV,eAAe;+BANV,OAAO,EAAE;;;;;;;;;;;;;;;;;;;;;;AAc9B","debugId":null}},
    {"offset": {"line": 1105, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ameli/Documents/studia/projekt/ShareWay/frontend/app/groups/%5BgroupId%5D/voting/components/CreateVotingDialog.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useState } from \"react\";\r\nimport { motion, AnimatePresence } from \"framer-motion\";\r\nimport { X, Plus, Trash2, Calendar } from \"lucide-react\";\r\nimport { Button } from \"@/app/components/ui/button\";\r\nimport { useI18n } from \"@/app/context/LanguageContext\";\r\nimport { getVotingTranslations } from \"../translations\";\r\nimport type { VotingFormData } from \"../types\";\r\n\r\ninterface CreateVotingDialogProps {\r\n  open: boolean;\r\n  onOpenChange: (open: boolean) => void;\r\n  onSubmit: (data: VotingFormData) => Promise<void>;\r\n}\r\n\r\nexport default function CreateVotingDialog({\r\n  open,\r\n  onOpenChange,\r\n  onSubmit,\r\n}: CreateVotingDialogProps) {\r\n  const { lang } = useI18n();\r\n  const t = getVotingTranslations(lang);\r\n  const [formData, setFormData] = useState<VotingFormData>({\r\n    title: \"\",\r\n    description: \"\",\r\n    allowAddingOptions: true,\r\n    allowMultipleVotes: false,\r\n    showResultsBeforeVoting: false,\r\n    endsAt: undefined,\r\n    initialOptions: [\"\", \"\"],\r\n  });\r\n  const [submitting, setSubmitting] = useState(false);\r\n\r\n  const handleSubmit = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    \r\n    // Walidacja\r\n    if (!formData.title.trim()) {\r\n      alert(t.titleRequired);\r\n      return;\r\n    }\r\n\r\n    const validOptions = formData.initialOptions.filter(opt => opt.trim());\r\n    if (validOptions.length < 2) {\r\n      alert(t.minOptionsRequired);\r\n      return;\r\n    }\r\n\r\n    try {\r\n      setSubmitting(true);\r\n      await onSubmit({\r\n        ...formData,\r\n        initialOptions: validOptions,\r\n      });\r\n      \r\n      // Reset form\r\n      setFormData({\r\n        title: \"\",\r\n        description: \"\",\r\n        allowAddingOptions: true,\r\n        allowMultipleVotes: false,\r\n        showResultsBeforeVoting: false,\r\n        endsAt: undefined,\r\n        initialOptions: [\"\", \"\"],\r\n      });\r\n    } catch (error) {\r\n      console.error(\"Error creating voting:\", error);\r\n      alert(t.createError);\r\n    } finally {\r\n      setSubmitting(false);\r\n    }\r\n  };\r\n\r\n  const addOption = () => {\r\n    setFormData(prev => ({\r\n      ...prev,\r\n      initialOptions: [...prev.initialOptions, \"\"],\r\n    }));\r\n  };\r\n\r\n  const removeOption = (index: number) => {\r\n    if (formData.initialOptions.length <= 2) return;\r\n    setFormData(prev => ({\r\n      ...prev,\r\n      initialOptions: prev.initialOptions.filter((_, i) => i !== index),\r\n    }));\r\n  };\r\n\r\n  const updateOption = (index: number, value: string) => {\r\n    setFormData(prev => ({\r\n      ...prev,\r\n      initialOptions: prev.initialOptions.map((opt, i) => i === index ? value : opt),\r\n    }));\r\n  };\r\n\r\n  if (!open) return null;\r\n\r\n  return (\r\n    <AnimatePresence>\r\n      <div className=\"fixed inset-0 z-50 flex items-center justify-center p-4\">\r\n        {/* Backdrop */}\r\n        <motion.div\r\n          initial={{ opacity: 0 }}\r\n          animate={{ opacity: 1 }}\r\n          exit={{ opacity: 0 }}\r\n          onClick={() => onOpenChange(false)}\r\n          className=\"absolute inset-0 bg-black/50 backdrop-blur-sm\"\r\n        />\r\n\r\n        {/* Dialog */}\r\n        <motion.div\r\n          initial={{ opacity: 0, scale: 0.95, y: 20 }}\r\n          animate={{ opacity: 1, scale: 1, y: 0 }}\r\n          exit={{ opacity: 0, scale: 0.95, y: 20 }}\r\n          className=\"relative bg-background rounded-2xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-hidden\"\r\n        >\r\n          {/* Header */}\r\n          <div className=\"flex items-center justify-between p-6 border-b\">\r\n            <h2 className=\"text-2xl font-bold\">{t.createPoll}</h2>\r\n            <button\r\n              onClick={() => onOpenChange(false)}\r\n              className=\"p-2 hover:bg-muted rounded-lg transition-colors\"\r\n            >\r\n              <X className=\"w-5 h-5\" />\r\n            </button>\r\n          </div>\r\n\r\n          {/* Content */}\r\n          <form onSubmit={handleSubmit} className=\"overflow-y-auto max-h-[calc(90vh-140px)]\">\r\n            <div className=\"p-6 space-y-6\">\r\n              \r\n              {/* Title */}\r\n              <div>\r\n                <label className=\"block text-sm font-semibold mb-2\">\r\n                  {t.pollTitle} *\r\n                </label>\r\n                <input\r\n                  type=\"text\"\r\n                  value={formData.title}\r\n                  onChange={(e) => setFormData(prev => ({ ...prev, title: e.target.value }))}\r\n                  placeholder={t.pollTitlePlaceholder}\r\n                  className=\"w-full px-4 py-3 rounded-xl border border-input bg-background focus:outline-none focus:ring-2 focus:ring-ring\"\r\n                  maxLength={200}\r\n                />\r\n              </div>\r\n\r\n              {/* Description */}\r\n              <div>\r\n                <label className=\"block text-sm font-semibold mb-2\">\r\n                  {t.description} ({t.optional})\r\n                </label>\r\n                <textarea\r\n                  value={formData.description}\r\n                  onChange={(e) => setFormData(prev => ({ ...prev, description: e.target.value }))}\r\n                  placeholder={t.descriptionPlaceholder}\r\n                  rows={3}\r\n                  className=\"w-full px-4 py-3 rounded-xl border border-input bg-background focus:outline-none focus:ring-2 focus:ring-ring resize-none\"\r\n                  maxLength={500}\r\n                />\r\n              </div>\r\n\r\n              {/* End date */}\r\n              <div>\r\n                <label className=\"block text-sm font-semibold mb-2 flex items-center gap-2\">\r\n                  <Calendar className=\"w-4 h-4\" />\r\n                  {t.deadline} ({t.optional})\r\n                </label>\r\n                <input\r\n                  type=\"datetime-local\"\r\n                  value={formData.endsAt ? new Date(formData.endsAt).toISOString().slice(0, 16) : \"\"}\r\n                  onChange={(e) => setFormData(prev => ({\r\n                    ...prev,\r\n                    endsAt: e.target.value ? new Date(e.target.value) : undefined,\r\n                  }))}\r\n                  className=\"w-full px-4 py-3 rounded-xl border border-input bg-background focus:outline-none focus:ring-2 focus:ring-ring\"\r\n                />\r\n              </div>\r\n\r\n              {/* Options */}\r\n              <div>\r\n                <label className=\"block text-sm font-semibold mb-3\">\r\n                  {t.options} ({t.minOptions}) *\r\n                </label>\r\n                <div className=\"space-y-3\">\r\n                  {formData.initialOptions.map((option, index) => (\r\n                    <div key={index} className=\"flex gap-2\">\r\n                      <input\r\n                        type=\"text\"\r\n                        value={option}\r\n                        onChange={(e) => updateOption(index, e.target.value)}\r\n                        placeholder={`${t.option} ${index + 1}`}\r\n                        className=\"flex-1 px-4 py-3 rounded-xl border border-input bg-background focus:outline-none focus:ring-2 focus:ring-ring\"\r\n                        maxLength={200}\r\n                      />\r\n                      {formData.initialOptions.length > 2 && (\r\n                        <Button\r\n                          type=\"button\"\r\n                          variant=\"outline\"\r\n                          size=\"icon\"\r\n                          onClick={() => removeOption(index)}\r\n                          className=\"flex-shrink-0\"\r\n                        >\r\n                          <Trash2 className=\"w-4 h-4\" />\r\n                        </Button>\r\n                      )}\r\n                    </div>\r\n                  ))}\r\n                  \r\n                  <Button\r\n                    type=\"button\"\r\n                    variant=\"outline\"\r\n                    onClick={addOption}\r\n                    className=\"w-full gap-2\"\r\n                  >\r\n                    <Plus className=\"w-4 h-4\" />\r\n                    {t.addOption}\r\n                  </Button>\r\n                </div>\r\n              </div>\r\n\r\n              {/* Settings */}\r\n              <div className=\"space-y-3 pt-4 border-t\">\r\n                <h3 className=\"font-semibold mb-3\">{t.settings}</h3>\r\n                \r\n                <label className=\"flex items-start gap-3 cursor-pointer group\">\r\n                  <input\r\n                    type=\"checkbox\"\r\n                    checked={formData.allowAddingOptions}\r\n                    onChange={(e) => setFormData(prev => ({\r\n                      ...prev,\r\n                      allowAddingOptions: e.target.checked,\r\n                    }))}\r\n                    className=\"mt-1 w-5 h-5 rounded border-input\"\r\n                  />\r\n                  <div>\r\n                    <div className=\"font-medium group-hover:text-primary transition-colors\">\r\n                      {t.allowNewOptions}\r\n                    </div>\r\n                    <div className=\"text-sm text-muted-foreground\">\r\n                      {t.allowNewOptionsDesc}\r\n                    </div>\r\n                  </div>\r\n                </label>\r\n\r\n                <label className=\"flex items-start gap-3 cursor-pointer group\">\r\n                  <input\r\n                    type=\"checkbox\"\r\n                    checked={formData.allowMultipleVotes}\r\n                    onChange={(e) => setFormData(prev => ({\r\n                      ...prev,\r\n                      allowMultipleVotes: e.target.checked,\r\n                    }))}\r\n                    className=\"mt-1 w-5 h-5 rounded border-input\"\r\n                  />\r\n                  <div>\r\n                    <div className=\"font-medium group-hover:text-primary transition-colors\">\r\n                      {t.allowMultipleVotes}\r\n                    </div>\r\n                    <div className=\"text-sm text-muted-foreground\">\r\n                      {t.multipleChoiceInfo}\r\n                    </div>\r\n                  </div>\r\n                </label>\r\n\r\n                <label className=\"flex items-start gap-3 cursor-pointer group\">\r\n                  <input\r\n                    type=\"checkbox\"\r\n                    checked={formData.showResultsBeforeVoting}\r\n                    onChange={(e) => setFormData(prev => ({\r\n                      ...prev,\r\n                      showResultsBeforeVoting: e.target.checked,\r\n                    }))}\r\n                    className=\"mt-1 w-5 h-5 rounded border-input\"\r\n                  />\r\n                  <div>\r\n                    <div className=\"font-medium group-hover:text-primary transition-colors\">\r\n                      {t.showResultsBeforeVoting}\r\n                    </div>\r\n                    <div className=\"text-sm text-muted-foreground\">\r\n                      {t.showResultsBeforeVotingDesc}\r\n                    </div>\r\n                  </div>\r\n                </label>\r\n              </div>\r\n\r\n            </div>\r\n\r\n            {/* Footer */}\r\n            <div className=\"flex items-center justify-end gap-3 p-6 border-t bg-muted/30\">\r\n              <Button\r\n                type=\"button\"\r\n                variant=\"outline\"\r\n                onClick={() => onOpenChange(false)}\r\n                disabled={submitting}\r\n              >\r\n                {t.cancel}\r\n              </Button>\r\n              <Button type=\"submit\" disabled={submitting}>\r\n                {submitting ? t.creating : t.create}\r\n              </Button>\r\n            </div>\r\n          </form>\r\n\r\n        </motion.div>\r\n      </div>\r\n    </AnimatePresence>\r\n  );\r\n}"],"names":[],"mappings":";;;;;AAEA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAPA;;;;;;;;AAgBe,SAAS,mBAAmB,EACzC,IAAI,EACJ,YAAY,EACZ,QAAQ,EACgB;IACxB,MAAM,EAAE,IAAI,EAAE,GAAG,IAAA,6IAAO;IACxB,MAAM,IAAI,IAAA,+KAAqB,EAAC;IAChC,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,iNAAQ,EAAiB;QACvD,OAAO;QACP,aAAa;QACb,oBAAoB;QACpB,oBAAoB;QACpB,yBAAyB;QACzB,QAAQ;QACR,gBAAgB;YAAC;YAAI;SAAG;IAC1B;IACA,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,iNAAQ,EAAC;IAE7C,MAAM,eAAe,OAAO;QAC1B,EAAE,cAAc;QAEhB,YAAY;QACZ,IAAI,CAAC,SAAS,KAAK,CAAC,IAAI,IAAI;YAC1B,MAAM,EAAE,aAAa;YACrB;QACF;QAEA,MAAM,eAAe,SAAS,cAAc,CAAC,MAAM,CAAC,CAAA,MAAO,IAAI,IAAI;QACnE,IAAI,aAAa,MAAM,GAAG,GAAG;YAC3B,MAAM,EAAE,kBAAkB;YAC1B;QACF;QAEA,IAAI;YACF,cAAc;YACd,MAAM,SAAS;gBACb,GAAG,QAAQ;gBACX,gBAAgB;YAClB;YAEA,aAAa;YACb,YAAY;gBACV,OAAO;gBACP,aAAa;gBACb,oBAAoB;gBACpB,oBAAoB;gBACpB,yBAAyB;gBACzB,QAAQ;gBACR,gBAAgB;oBAAC;oBAAI;iBAAG;YAC1B;QACF,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,0BAA0B;YACxC,MAAM,EAAE,WAAW;QACrB,SAAU;YACR,cAAc;QAChB;IACF;IAEA,MAAM,YAAY;QAChB,YAAY,CAAA,OAAQ,CAAC;gBACnB,GAAG,IAAI;gBACP,gBAAgB;uBAAI,KAAK,cAAc;oBAAE;iBAAG;YAC9C,CAAC;IACH;IAEA,MAAM,eAAe,CAAC;QACpB,IAAI,SAAS,cAAc,CAAC,MAAM,IAAI,GAAG;QACzC,YAAY,CAAA,OAAQ,CAAC;gBACnB,GAAG,IAAI;gBACP,gBAAgB,KAAK,cAAc,CAAC,MAAM,CAAC,CAAC,GAAG,IAAM,MAAM;YAC7D,CAAC;IACH;IAEA,MAAM,eAAe,CAAC,OAAe;QACnC,YAAY,CAAA,OAAQ,CAAC;gBACnB,GAAG,IAAI;gBACP,gBAAgB,KAAK,cAAc,CAAC,GAAG,CAAC,CAAC,KAAK,IAAM,MAAM,QAAQ,QAAQ;YAC5E,CAAC;IACH;IAEA,IAAI,CAAC,MAAM,OAAO;IAElB,qBACE,8OAAC,4MAAe;kBACd,cAAA,8OAAC;YAAI,WAAU;;8BAEb,8OAAC,oMAAM,CAAC,GAAG;oBACT,SAAS;wBAAE,SAAS;oBAAE;oBACtB,SAAS;wBAAE,SAAS;oBAAE;oBACtB,MAAM;wBAAE,SAAS;oBAAE;oBACnB,SAAS,IAAM,aAAa;oBAC5B,WAAU;;;;;;8BAIZ,8OAAC,oMAAM,CAAC,GAAG;oBACT,SAAS;wBAAE,SAAS;wBAAG,OAAO;wBAAM,GAAG;oBAAG;oBAC1C,SAAS;wBAAE,SAAS;wBAAG,OAAO;wBAAG,GAAG;oBAAE;oBACtC,MAAM;wBAAE,SAAS;wBAAG,OAAO;wBAAM,GAAG;oBAAG;oBACvC,WAAU;;sCAGV,8OAAC;4BAAI,WAAU;;8CACb,8OAAC;oCAAG,WAAU;8CAAsB,EAAE,UAAU;;;;;;8CAChD,8OAAC;oCACC,SAAS,IAAM,aAAa;oCAC5B,WAAU;8CAEV,cAAA,8OAAC,iMAAC;wCAAC,WAAU;;;;;;;;;;;;;;;;;sCAKjB,8OAAC;4BAAK,UAAU;4BAAc,WAAU;;8CACtC,8OAAC;oCAAI,WAAU;;sDAGb,8OAAC;;8DACC,8OAAC;oDAAM,WAAU;;wDACd,EAAE,SAAS;wDAAC;;;;;;;8DAEf,8OAAC;oDACC,MAAK;oDACL,OAAO,SAAS,KAAK;oDACrB,UAAU,CAAC,IAAM,YAAY,CAAA,OAAQ,CAAC;gEAAE,GAAG,IAAI;gEAAE,OAAO,EAAE,MAAM,CAAC,KAAK;4DAAC,CAAC;oDACxE,aAAa,EAAE,oBAAoB;oDACnC,WAAU;oDACV,WAAW;;;;;;;;;;;;sDAKf,8OAAC;;8DACC,8OAAC;oDAAM,WAAU;;wDACd,EAAE,WAAW;wDAAC;wDAAG,EAAE,QAAQ;wDAAC;;;;;;;8DAE/B,8OAAC;oDACC,OAAO,SAAS,WAAW;oDAC3B,UAAU,CAAC,IAAM,YAAY,CAAA,OAAQ,CAAC;gEAAE,GAAG,IAAI;gEAAE,aAAa,EAAE,MAAM,CAAC,KAAK;4DAAC,CAAC;oDAC9E,aAAa,EAAE,sBAAsB;oDACrC,MAAM;oDACN,WAAU;oDACV,WAAW;;;;;;;;;;;;sDAKf,8OAAC;;8DACC,8OAAC;oDAAM,WAAU;;sEACf,8OAAC,sNAAQ;4DAAC,WAAU;;;;;;wDACnB,EAAE,QAAQ;wDAAC;wDAAG,EAAE,QAAQ;wDAAC;;;;;;;8DAE5B,8OAAC;oDACC,MAAK;oDACL,OAAO,SAAS,MAAM,GAAG,IAAI,KAAK,SAAS,MAAM,EAAE,WAAW,GAAG,KAAK,CAAC,GAAG,MAAM;oDAChF,UAAU,CAAC,IAAM,YAAY,CAAA,OAAQ,CAAC;gEACpC,GAAG,IAAI;gEACP,QAAQ,EAAE,MAAM,CAAC,KAAK,GAAG,IAAI,KAAK,EAAE,MAAM,CAAC,KAAK,IAAI;4DACtD,CAAC;oDACD,WAAU;;;;;;;;;;;;sDAKd,8OAAC;;8DACC,8OAAC;oDAAM,WAAU;;wDACd,EAAE,OAAO;wDAAC;wDAAG,EAAE,UAAU;wDAAC;;;;;;;8DAE7B,8OAAC;oDAAI,WAAU;;wDACZ,SAAS,cAAc,CAAC,GAAG,CAAC,CAAC,QAAQ,sBACpC,8OAAC;gEAAgB,WAAU;;kFACzB,8OAAC;wEACC,MAAK;wEACL,OAAO;wEACP,UAAU,CAAC,IAAM,aAAa,OAAO,EAAE,MAAM,CAAC,KAAK;wEACnD,aAAa,GAAG,EAAE,MAAM,CAAC,CAAC,EAAE,QAAQ,GAAG;wEACvC,WAAU;wEACV,WAAW;;;;;;oEAEZ,SAAS,cAAc,CAAC,MAAM,GAAG,mBAChC,8OAAC,4IAAM;wEACL,MAAK;wEACL,SAAQ;wEACR,MAAK;wEACL,SAAS,IAAM,aAAa;wEAC5B,WAAU;kFAEV,cAAA,8OAAC,oNAAM;4EAAC,WAAU;;;;;;;;;;;;+DAjBd;;;;;sEAuBZ,8OAAC,4IAAM;4DACL,MAAK;4DACL,SAAQ;4DACR,SAAS;4DACT,WAAU;;8EAEV,8OAAC,0MAAI;oEAAC,WAAU;;;;;;gEACf,EAAE,SAAS;;;;;;;;;;;;;;;;;;;sDAMlB,8OAAC;4CAAI,WAAU;;8DACb,8OAAC;oDAAG,WAAU;8DAAsB,EAAE,QAAQ;;;;;;8DAE9C,8OAAC;oDAAM,WAAU;;sEACf,8OAAC;4DACC,MAAK;4DACL,SAAS,SAAS,kBAAkB;4DACpC,UAAU,CAAC,IAAM,YAAY,CAAA,OAAQ,CAAC;wEACpC,GAAG,IAAI;wEACP,oBAAoB,EAAE,MAAM,CAAC,OAAO;oEACtC,CAAC;4DACD,WAAU;;;;;;sEAEZ,8OAAC;;8EACC,8OAAC;oEAAI,WAAU;8EACZ,EAAE,eAAe;;;;;;8EAEpB,8OAAC;oEAAI,WAAU;8EACZ,EAAE,mBAAmB;;;;;;;;;;;;;;;;;;8DAK5B,8OAAC;oDAAM,WAAU;;sEACf,8OAAC;4DACC,MAAK;4DACL,SAAS,SAAS,kBAAkB;4DACpC,UAAU,CAAC,IAAM,YAAY,CAAA,OAAQ,CAAC;wEACpC,GAAG,IAAI;wEACP,oBAAoB,EAAE,MAAM,CAAC,OAAO;oEACtC,CAAC;4DACD,WAAU;;;;;;sEAEZ,8OAAC;;8EACC,8OAAC;oEAAI,WAAU;8EACZ,EAAE,kBAAkB;;;;;;8EAEvB,8OAAC;oEAAI,WAAU;8EACZ,EAAE,kBAAkB;;;;;;;;;;;;;;;;;;8DAK3B,8OAAC;oDAAM,WAAU;;sEACf,8OAAC;4DACC,MAAK;4DACL,SAAS,SAAS,uBAAuB;4DACzC,UAAU,CAAC,IAAM,YAAY,CAAA,OAAQ,CAAC;wEACpC,GAAG,IAAI;wEACP,yBAAyB,EAAE,MAAM,CAAC,OAAO;oEAC3C,CAAC;4DACD,WAAU;;;;;;sEAEZ,8OAAC;;8EACC,8OAAC;oEAAI,WAAU;8EACZ,EAAE,uBAAuB;;;;;;8EAE5B,8OAAC;oEAAI,WAAU;8EACZ,EAAE,2BAA2B;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;8CASxC,8OAAC;oCAAI,WAAU;;sDACb,8OAAC,4IAAM;4CACL,MAAK;4CACL,SAAQ;4CACR,SAAS,IAAM,aAAa;4CAC5B,UAAU;sDAET,EAAE,MAAM;;;;;;sDAEX,8OAAC,4IAAM;4CAAC,MAAK;4CAAS,UAAU;sDAC7B,aAAa,EAAE,QAAQ,GAAG,EAAE,MAAM;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AASnD","debugId":null}},
    {"offset": {"line": 1701, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ameli/Documents/studia/projekt/ShareWay/frontend/app/components/ui/input.tsx"],"sourcesContent":["import * as React from \"react\"\r\n\r\nimport { cn } from \"@/lib/utils\"\r\n\r\nexport interface InputProps\r\n  extends React.InputHTMLAttributes<HTMLInputElement> {}\r\n\r\nconst Input = React.forwardRef<HTMLInputElement, InputProps>(\r\n  ({ className, type, ...props }, ref) => {\r\n    return (\r\n      <input\r\n        type={type}\r\n        className={cn(\r\n          \"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50\",\r\n          className\r\n        )}\r\n        ref={ref}\r\n        {...props}\r\n      />\r\n    )\r\n  }\r\n)\r\nInput.displayName = \"Input\"\r\n\r\nexport { Input }"],"names":[],"mappings":";;;;;AAAA;AAEA;;;;AAKA,MAAM,sBAAQ,mNAAgB,CAC5B,CAAC,EAAE,SAAS,EAAE,IAAI,EAAE,GAAG,OAAO,EAAE;IAC9B,qBACE,8OAAC;QACC,MAAM;QACN,WAAW,IAAA,kHAAE,EACX,gWACA;QAEF,KAAK;QACJ,GAAG,KAAK;;;;;;AAGf;AAEF,MAAM,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 1729, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ameli/Documents/studia/projekt/ShareWay/frontend/app/components/ui/label.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport * as React from \"react\"\r\nimport * as LabelPrimitive from \"@radix-ui/react-label\"\r\nimport { cva, type VariantProps } from \"class-variance-authority\"\r\n\r\nimport { cn } from \"@/lib/utils\"\r\n\r\nconst labelVariants = cva(\r\n  \"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70\"\r\n)\r\n\r\nconst Label = React.forwardRef<\r\n  React.ElementRef<typeof LabelPrimitive.Root>,\r\n  React.ComponentPropsWithoutRef<typeof LabelPrimitive.Root> &\r\n    VariantProps<typeof labelVariants>\r\n>(({ className, ...props }, ref) => (\r\n  <LabelPrimitive.Root\r\n    ref={ref}\r\n    className={cn(labelVariants(), className)}\r\n    {...props}\r\n  />\r\n))\r\nLabel.displayName = LabelPrimitive.Root.displayName\r\n\r\nexport { Label }"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAEA;AANA;;;;;;AAQA,MAAM,gBAAgB,IAAA,uKAAG,EACvB;AAGF,MAAM,sBAAQ,mNAAgB,CAI5B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC,yKAAmB;QAClB,KAAK;QACL,WAAW,IAAA,kHAAE,EAAC,iBAAiB;QAC9B,GAAG,KAAK;;;;;;AAGb,MAAM,WAAW,GAAG,yKAAmB,CAAC,WAAW","debugId":null}},
    {"offset": {"line": 1760, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ameli/Documents/studia/projekt/ShareWay/frontend/app/components/ui/textarea.tsx"],"sourcesContent":["import * as React from \"react\"\r\n\r\nimport { cn } from \"@/lib/utils\"\r\n\r\nexport interface TextareaProps\r\n  extends React.TextareaHTMLAttributes<HTMLTextAreaElement> {}\r\n\r\nconst Textarea = React.forwardRef<HTMLTextAreaElement, TextareaProps>(\r\n  ({ className, ...props }, ref) => {\r\n    return (\r\n      <textarea\r\n        className={cn(\r\n          \"flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50\",\r\n          className\r\n        )}\r\n        ref={ref}\r\n        {...props}\r\n      />\r\n    )\r\n  }\r\n)\r\nTextarea.displayName = \"Textarea\"\r\n\r\nexport { Textarea }"],"names":[],"mappings":";;;;;AAAA;AAEA;;;;AAKA,MAAM,yBAAW,mNAAgB,CAC/B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE;IACxB,qBACE,8OAAC;QACC,WAAW,IAAA,kHAAE,EACX,wSACA;QAEF,KAAK;QACJ,GAAG,KAAK;;;;;;AAGf;AAEF,SAAS,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 1787, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ameli/Documents/studia/projekt/ShareWay/frontend/app/groups/%5BgroupId%5D/voting/components/VotingDetailsDialog.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useState } from \"react\";\r\nimport { X, TrendingUp, Users, Calendar, Plus } from \"lucide-react\";\r\nimport { motion, AnimatePresence } from \"framer-motion\";\r\nimport { Button } from \"@/app/components/ui/button\";\r\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/app/components/ui/card\";\r\nimport { Progress } from \"@/app/components/ui/progress\";\r\nimport { Input } from \"@/app/components/ui/input\";\r\nimport { Label } from \"@/app/components/ui/label\";\r\nimport { Textarea } from \"@/app/components/ui/textarea\";\r\nimport { useI18n } from \"@/app/context/LanguageContext\";\r\nimport { getVotingTranslations } from \"../translations\";\r\nimport type { Voting } from \"../types\";\r\n\r\ninterface VotingDetailsDialogProps {\r\n  voting: Voting | null;\r\n  open: boolean;\r\n  onClose: () => void;\r\n  onVote: (votingId: string, optionId: string) => Promise<void>;\r\n  onAddOption: (votingId: string, optionText: string, description?: string) => Promise<void>;\r\n}\r\n\r\nexport default function VotingDetailsDialog({ \r\n  voting, \r\n  open, \r\n  onClose,\r\n  onVote,\r\n  onAddOption \r\n}: VotingDetailsDialogProps) {\r\n  const { lang } = useI18n();\r\n  const t = getVotingTranslations(lang);\r\n  const [showAddOption, setShowAddOption] = useState(false);\r\n  const [newOptionText, setNewOptionText] = useState(\"\");\r\n  const [newOptionDescription, setNewOptionDescription] = useState(\"\");\r\n  const [submitting, setSubmitting] = useState(false);\r\n\r\n  if (!voting || !open) return null;\r\n\r\n  const totalVotes = voting.options.reduce((sum, opt) => sum + opt.votes.length, 0);\r\n  const uniqueVoters = new Set(voting.options.flatMap(opt => opt.votes.map(v => v.userId)));\r\n  \r\n  const sortedOptions = [...voting.options].sort((a, b) => b.votes.length - a.votes.length);\r\n  const mostPopular = sortedOptions[0];\r\n\r\n  const handleAddOption = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    if (!newOptionText.trim()) return;\r\n\r\n    try {\r\n      setSubmitting(true);\r\n      await onAddOption(voting.id, newOptionText.trim(), newOptionDescription.trim() || undefined);\r\n      setNewOptionText(\"\");\r\n      setNewOptionDescription(\"\");\r\n      setShowAddOption(false);\r\n    } catch (error) {\r\n      console.error(\"Error adding option:\", error);\r\n    } finally {\r\n      setSubmitting(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <AnimatePresence>\r\n      {open && (\r\n        <div className=\"fixed inset-0 z-50 flex items-center justify-center p-4\">\r\n          <motion.div\r\n            initial={{ opacity: 0 }}\r\n            animate={{ opacity: 1 }}\r\n            exit={{ opacity: 0 }}\r\n            onClick={onClose}\r\n            className=\"absolute inset-0 bg-black/50 backdrop-blur-sm\"\r\n          />\r\n\r\n          <motion.div\r\n            initial={{ opacity: 0, scale: 0.95, y: 20 }}\r\n            animate={{ opacity: 1, scale: 1, y: 0 }}\r\n            exit={{ opacity: 0, scale: 0.95, y: 20 }}\r\n            onClick={(e) => e.stopPropagation()}\r\n            className=\"relative bg-background rounded-2xl shadow-2xl w-full max-w-3xl max-h-[90vh] overflow-y-auto border\"\r\n          >\r\n            {/* Header */}\r\n            <div className=\"sticky top-0 bg-background border-b p-6 flex items-center justify-between z-10\">\r\n              <div>\r\n                <h2 className=\"text-2xl font-bold\">{voting.title}</h2>\r\n                {voting.description && (\r\n                  <p className=\"text-sm text-muted-foreground mt-1\">{voting.description}</p>\r\n                )}\r\n              </div>\r\n              <button\r\n                onClick={onClose}\r\n                className=\"p-2 hover:bg-muted rounded-lg transition-colors\"\r\n              >\r\n                <X className=\"w-5 h-5\" />\r\n              </button>\r\n            </div>\r\n\r\n            <div className=\"p-6 space-y-6\">\r\n              {/* Statystyki ogólne */}\r\n              <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\r\n                <Card>\r\n                  <CardHeader className=\"pb-3\">\r\n                    <CardTitle className=\"text-sm font-medium flex items-center gap-2\">\r\n                      <Users className=\"w-4 h-4\" />\r\n                      {t.participants}\r\n                    </CardTitle>\r\n                  </CardHeader>\r\n                  <CardContent>\r\n                    <p className=\"text-3xl font-bold\">{uniqueVoters.size}</p>\r\n                    <p className=\"text-xs text-muted-foreground\">\r\n                      {t.peopleVoted}\r\n                    </p>\r\n                  </CardContent>\r\n                </Card>\r\n\r\n                <Card>\r\n                  <CardHeader className=\"pb-3\">\r\n                    <CardTitle className=\"text-sm font-medium flex items-center gap-2\">\r\n                      <TrendingUp className=\"w-4 h-4\" />\r\n                      {t.votes}\r\n                    </CardTitle>\r\n                  </CardHeader>\r\n                  <CardContent>\r\n                    <p className=\"text-3xl font-bold\">{totalVotes}</p>\r\n                    <p className=\"text-xs text-muted-foreground\">\r\n                      {t.totalVotesCast}\r\n                    </p>\r\n                  </CardContent>\r\n                </Card>\r\n\r\n                <Card>\r\n                  <CardHeader className=\"pb-3\">\r\n                    <CardTitle className=\"text-sm font-medium flex items-center gap-2\">\r\n                      <Calendar className=\"w-4 h-4\" />\r\n                      {t.status}\r\n                    </CardTitle>\r\n                  </CardHeader>\r\n                  <CardContent>\r\n                    <p className=\"text-lg font-semibold text-green-600\">\r\n                      {voting.isActive ? t.active : t.closed}\r\n                    </p>\r\n                    {voting.endsAt && (\r\n                      <p className=\"text-xs text-muted-foreground\">\r\n                        {t.until} {new Date(voting.endsAt).toLocaleDateString(t.locale)}\r\n                      </p>\r\n                    )}\r\n                  </CardContent>\r\n                </Card>\r\n              </div>\r\n\r\n              {/* Najlepsze wyniki */}\r\n              {mostPopular && mostPopular.votes.length > 0 && (\r\n                <Card className=\"border-primary/50 bg-primary/5\">\r\n                  <CardHeader>\r\n                    <CardTitle className=\"flex items-center gap-2\">\r\n                      🏆 {t.winner}\r\n                    </CardTitle>\r\n                  </CardHeader>\r\n                  <CardContent>\r\n                    <p className=\"text-xl font-bold\">{mostPopular.text}</p>\r\n                    {mostPopular.description && (\r\n                      <p className=\"text-sm text-muted-foreground\">{mostPopular.description}</p>\r\n                    )}\r\n                    <p className=\"text-sm mt-2\">\r\n                      <strong>{mostPopular.votes.length}</strong> {t.votes}\r\n                      ({totalVotes > 0 ? ((mostPopular.votes.length / totalVotes) * 100).toFixed(0) : 0}%)\r\n                    </p>\r\n                  </CardContent>\r\n                </Card>\r\n              )}\r\n\r\n              {/* Ranking wszystkich opcji */}\r\n              <Card>\r\n                <CardHeader className=\"flex flex-row items-center justify-between\">\r\n                  <CardTitle>{t.allOptions}</CardTitle>\r\n                  {voting.allowAddingOptions && !showAddOption && (\r\n                    <Button\r\n                      size=\"sm\"\r\n                      variant=\"outline\"\r\n                      onClick={() => setShowAddOption(true)}\r\n                      className=\"gap-2\"\r\n                    >\r\n                      <Plus className=\"w-4 h-4\" />\r\n                      {t.addOption}\r\n                    </Button>\r\n                  )}\r\n                </CardHeader>\r\n                <CardContent className=\"space-y-4\">\r\n                  {/* Formularz dodawania opcji */}\r\n                  {voting.allowAddingOptions && showAddOption && (\r\n                    <form onSubmit={handleAddOption} className=\"p-4 bg-muted/50 rounded-lg space-y-3\">\r\n                      <div>\r\n                        <Label htmlFor=\"optionText\">\r\n                          {t.optionName} *\r\n                        </Label>\r\n                        <Input\r\n                          id=\"optionText\"\r\n                          value={newOptionText}\r\n                          onChange={(e) => setNewOptionText(e.target.value)}\r\n                          placeholder={t.optionPlaceholder}\r\n                          required\r\n                          disabled={submitting}\r\n                          autoFocus\r\n                        />\r\n                      </div>\r\n                      <div>\r\n                        <Label htmlFor=\"optionDescription\">\r\n                          {t.description} ({t.optional})\r\n                        </Label>\r\n                        <Textarea\r\n                          id=\"optionDescription\"\r\n                          value={newOptionDescription}\r\n                          onChange={(e) => setNewOptionDescription(e.target.value)}\r\n                          placeholder={t.additionalInfo}\r\n                          rows={2}\r\n                          disabled={submitting}\r\n                        />\r\n                      </div>\r\n                      <div className=\"flex gap-2\">\r\n                        <Button type=\"submit\" disabled={submitting} size=\"sm\">\r\n                          {submitting ? t.adding : t.add}\r\n                        </Button>\r\n                        <Button\r\n                          type=\"button\"\r\n                          variant=\"outline\"\r\n                          onClick={() => {\r\n                            setShowAddOption(false);\r\n                            setNewOptionText(\"\");\r\n                            setNewOptionDescription(\"\");\r\n                          }}\r\n                          disabled={submitting}\r\n                          size=\"sm\"\r\n                        >\r\n                          {t.cancel}\r\n                        </Button>\r\n                      </div>\r\n                    </form>\r\n                  )}\r\n\r\n                  {/* Lista opcji */}\r\n                  {sortedOptions.map((option, index) => {\r\n                    const percentage = totalVotes > 0 ? (option.votes.length / totalVotes) * 100 : 0;\r\n                    \r\n                    return (\r\n                      <div key={option.id} className=\"space-y-2 p-4 border rounded-lg hover:bg-muted/30 transition-colors\">\r\n                        <div className=\"flex justify-between items-start\">\r\n                          <div className=\"flex-1\">\r\n                            <div className=\"flex items-center gap-2\">\r\n                              <span className=\"text-2xl font-bold text-muted-foreground\">\r\n                                #{index + 1}\r\n                              </span>\r\n                              <div>\r\n                                <p className=\"font-semibold\">{option.text}</p>\r\n                                {option.description && (\r\n                                  <p className=\"text-xs text-muted-foreground\">{option.description}</p>\r\n                                )}\r\n                              </div>\r\n                            </div>\r\n                          </div>\r\n                          <div className=\"text-right flex flex-col items-end gap-2\">\r\n                            <div>\r\n                              <p className=\"text-lg font-bold\">{option.votes.length}</p>\r\n                              <p className=\"text-xs text-muted-foreground\">{percentage.toFixed(1)}%</p>\r\n                            </div>\r\n                            <Button\r\n                              size=\"sm\"\r\n                              onClick={() => onVote(voting.id, option.id)}\r\n                            >\r\n                              {t.voteButton}\r\n                            </Button>\r\n                          </div>\r\n                        </div>\r\n                        <Progress value={percentage} className=\"h-3\" />\r\n                        \r\n                        {/* Lista głosujących */}\r\n                        {option.votes.length > 0 && (\r\n                          <details className=\"text-sm\">\r\n                            <summary className=\"cursor-pointer text-muted-foreground hover:text-foreground\">\r\n                              {t.whoVoted} ({option.votes.length})\r\n                            </summary>\r\n                            <ul className=\"mt-2 space-y-1 pl-4\">\r\n                              {option.votes.map((vote) => (\r\n                                <li key={vote.id} className=\"text-xs\">\r\n                                  • {vote.userName} - {new Date(vote.votedAt).toLocaleDateString(t.locale)}\r\n                                </li>\r\n                              ))}\r\n                            </ul>\r\n                          </details>\r\n                        )}\r\n                      </div>\r\n                    );\r\n                  })}\r\n                </CardContent>\r\n              </Card>\r\n\r\n              {/* Informacje dodatkowe */}\r\n              <Card>\r\n                <CardHeader>\r\n                  <CardTitle className=\"text-sm\">\r\n                    {t.pollInfo}\r\n                  </CardTitle>\r\n                </CardHeader>\r\n                <CardContent className=\"space-y-2 text-sm\">\r\n                  <p>{t.createdBy}: <strong>{voting.createdByName}</strong></p>\r\n                  <p>{t.creationDate}: <strong>{new Date(voting.createdAt).toLocaleDateString(t.locale)}</strong></p>\r\n                  <p>{t.allowAddingOptions}: <strong>{voting.allowAddingOptions ? t.yes : t.no}</strong></p>\r\n                  <p>{t.allowMultipleVotes}: <strong>{voting.allowMultipleVotes ? t.yes : t.no}</strong></p>\r\n                </CardContent>\r\n              </Card>\r\n            </div>\r\n          </motion.div>\r\n        </div>\r\n      )}\r\n    </AnimatePresence>\r\n  );\r\n}"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 2650, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ameli/Documents/studia/projekt/ShareWay/frontend/app/components/Logo.tsx"],"sourcesContent":["export default function Logo({\r\n  className = \"h-8 w-8\",\r\n}: {\r\n  className?: string;\r\n}) {\r\n  return (\r\n    <svg\r\n      viewBox=\"0 0 64 64\"\r\n      className={className}\r\n      fill=\"none\"\r\n      xmlns=\"http://www.w3.org/2000/svg\"\r\n    >\r\n      <defs>\r\n        <linearGradient id=\"logoGradient\" x1=\"0%\" y1=\"0%\" x2=\"100%\" y2=\"100%\">\r\n          <stop\r\n            offset=\"0%\"\r\n            style={{ stopColor: \"hsl(180, 75%, 40%)\", stopOpacity: 1 }}\r\n          />\r\n          <stop\r\n            offset=\"50%\"\r\n            style={{ stopColor: \"hsl(25, 95%, 53%)\", stopOpacity: 1 }}\r\n          />\r\n          <stop\r\n            offset=\"100%\"\r\n            style={{ stopColor: \"hsl(220, 70%, 40%)\", stopOpacity: 1 }}\r\n          />\r\n        </linearGradient>\r\n      </defs>\r\n\r\n      <circle cx=\"32\" cy=\"32\" r=\"30\" fill=\"url(#logoGradient)\" opacity=\"0.15\" />\r\n\r\n      <path\r\n        d=\"M 32 14 Q 42 14 42 22 Q 42 28 32 30 Q 22 32 22 38 Q 22 44 32 44 Q 38 44 42 40\"\r\n        stroke=\"url(#logoGradient)\"\r\n        strokeWidth=\"4\"\r\n        strokeLinecap=\"round\"\r\n        fill=\"none\"\r\n      />\r\n\r\n      <path\r\n        d=\"M 40 15 C 40 11.7 37.3 9 34 9 C 30.7 9 28 11.7 28 15 C 28 18.5 34 26 34 26 C 34 26 40 18.5 40 15 Z\"\r\n        fill=\"url(#logoGradient)\"\r\n      />\r\n\r\n      <circle cx=\"34\" cy=\"15\" r=\"2.5\" fill=\"white\" />\r\n      <circle cx=\"18\" cy=\"32\" r=\"2\" fill=\"hsl(180, 75%, 40%)\" />\r\n      <circle cx=\"46\" cy=\"32\" r=\"2\" fill=\"hsl(220, 70%, 40%)\" />\r\n      <circle cx=\"32\" cy=\"50\" r=\"2\" fill=\"hsl(25, 95%, 53%)\" />\r\n    </svg>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;;AAAe,SAAS,KAAK,EAC3B,YAAY,SAAS,EAGtB;IACC,qBACE,8OAAC;QACC,SAAQ;QACR,WAAW;QACX,MAAK;QACL,OAAM;;0BAEN,8OAAC;0BACC,cAAA,8OAAC;oBAAe,IAAG;oBAAe,IAAG;oBAAK,IAAG;oBAAK,IAAG;oBAAO,IAAG;;sCAC7D,8OAAC;4BACC,QAAO;4BACP,OAAO;gCAAE,WAAW;gCAAsB,aAAa;4BAAE;;;;;;sCAE3D,8OAAC;4BACC,QAAO;4BACP,OAAO;gCAAE,WAAW;gCAAqB,aAAa;4BAAE;;;;;;sCAE1D,8OAAC;4BACC,QAAO;4BACP,OAAO;gCAAE,WAAW;gCAAsB,aAAa;4BAAE;;;;;;;;;;;;;;;;;0BAK/D,8OAAC;gBAAO,IAAG;gBAAK,IAAG;gBAAK,GAAE;gBAAK,MAAK;gBAAqB,SAAQ;;;;;;0BAEjE,8OAAC;gBACC,GAAE;gBACF,QAAO;gBACP,aAAY;gBACZ,eAAc;gBACd,MAAK;;;;;;0BAGP,8OAAC;gBACC,GAAE;gBACF,MAAK;;;;;;0BAGP,8OAAC;gBAAO,IAAG;gBAAK,IAAG;gBAAK,GAAE;gBAAM,MAAK;;;;;;0BACrC,8OAAC;gBAAO,IAAG;gBAAK,IAAG;gBAAK,GAAE;gBAAI,MAAK;;;;;;0BACnC,8OAAC;gBAAO,IAAG;gBAAK,IAAG;gBAAK,GAAE;gBAAI,MAAK;;;;;;0BACnC,8OAAC;gBAAO,IAAG;gBAAK,IAAG;gBAAK,GAAE;gBAAI,MAAK;;;;;;;;;;;;AAGzC","debugId":null}},
    {"offset": {"line": 2796, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ameli/Documents/studia/projekt/ShareWay/frontend/app/components/ThemeToggle.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useTheme } from \"next-themes\";\r\nimport { Sun, Moon } from \"lucide-react\";\r\n\r\nexport function ThemeToggle() {\r\n  const { setTheme } = useTheme();\r\n\r\n  const toggle = () => {\r\n    const isDark = document.documentElement.classList.contains(\"dark\");\r\n    setTheme(isDark ? \"light\" : \"dark\");\r\n  };\r\n\r\n  return (\r\n    <button\r\n      type=\"button\"\r\n      onClick={toggle}\r\n      aria-label=\"Przełącz motyw\"\r\n      className=\"relative inline-flex h-8 w-14 items-center rounded-full transition-colors\r\n                 bg-amber-200/70 shadow-inner dark:bg-primary/90 dark:shadow-none\"\r\n      style={{ WebkitTapHighlightColor: \"transparent\" }}\r\n    >\r\n      <span\r\n        className=\"absolute top-0.5 left-0.5 flex items-center justify-center h-7 w-7 rounded-full shadow-md\r\n                   transform transition-transform duration-300\r\n                   bg-white text-amber-500 dark:bg-zinc-800 dark:text-blue-100\r\n                   translate-x-0 dark:translate-x-6\"\r\n      >\r\n        <Sun className=\"h-4 w-4 inline dark:hidden\" />\r\n        <Moon className=\"h-4 w-4 hidden dark:inline\" />\r\n      </span>\r\n    </button>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAAA;AAHA;;;;AAKO,SAAS;IACd,MAAM,EAAE,QAAQ,EAAE,GAAG,IAAA,4JAAQ;IAE7B,MAAM,SAAS;QACb,MAAM,SAAS,SAAS,eAAe,CAAC,SAAS,CAAC,QAAQ,CAAC;QAC3D,SAAS,SAAS,UAAU;IAC9B;IAEA,qBACE,8OAAC;QACC,MAAK;QACL,SAAS;QACT,cAAW;QACX,WAAU;QAEV,OAAO;YAAE,yBAAyB;QAAc;kBAEhD,cAAA,8OAAC;YACC,WAAU;;8BAKV,8OAAC,uMAAG;oBAAC,WAAU;;;;;;8BACf,8OAAC,0MAAI;oBAAC,WAAU;;;;;;;;;;;;;;;;;AAIxB","debugId":null}},
    {"offset": {"line": 2855, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ameli/Documents/studia/projekt/ShareWay/frontend/app/components/LanguageToggle.tsx"],"sourcesContent":["\"use client\";\r\nimport { useEffect, useRef, useState } from \"react\";\r\nimport { motion, AnimatePresence } from \"framer-motion\";\r\nimport { Button } from \"./ui/button\";\r\nimport { useI18n } from \"@/app/context/LanguageContext\";\r\n\r\ntype LangCode = \"pl\" | \"en\";\r\n\r\ntype Props = {\r\n  mode?: \"button\" | \"menu\";\r\n  radius?: number;\r\n  spread?: number;\r\n  offsetX?: number;\r\n  size?: number;\r\n};\r\n\r\nfunction FlagPL({ size = 22 }: { size?: number }) {\r\n  return (\r\n    <svg\r\n      width={size}\r\n      height={size}\r\n      viewBox=\"0 0 512 512\"\r\n      aria-hidden\r\n      focusable=\"false\"\r\n    >\r\n      <mask id=\"m-pl\">\r\n        <circle cx=\"256\" cy=\"256\" r=\"256\" fill=\"#fff\" />\r\n      </mask>\r\n      <g mask=\"url(#m-pl)\">\r\n        <path fill=\"#eee\" d=\"M0 0h512v256H0z\" />\r\n        <path fill=\"#d80027\" d=\"M0 256h512v256H0z\" />\r\n      </g>\r\n    </svg>\r\n  );\r\n}\r\n\r\nfunction FlagGB({ size = 22 }: { size?: number }) {\r\n  return (\r\n    <svg\r\n      width={size}\r\n      height={size}\r\n      viewBox=\"0 0 512 512\"\r\n      aria-hidden\r\n      focusable=\"false\"\r\n    >\r\n      <mask id=\"m-gb\">\r\n        <circle cx=\"256\" cy=\"256\" r=\"256\" fill=\"#fff\" />\r\n      </mask>\r\n      <g mask=\"url(#m-gb)\">\r\n        <path fill=\"#012169\" d=\"M0 0h512v512H0z\" />\r\n        <path d=\"M0 0l512 512M512 0L0 512\" stroke=\"#fff\" strokeWidth=\"120\" />\r\n        <path d=\"M0 0l512 512M512 0L0 512\" stroke=\"#C8102E\" strokeWidth=\"72\" />\r\n        <path fill=\"#fff\" d=\"M216 0h80v512h-80z\" />\r\n        <path fill=\"#fff\" d=\"M0 216h512v80H0z\" />\r\n        <path fill=\"#C8102E\" d=\"M236 0h40v512h-40z\" />\r\n        <path fill=\"#C8102E\" d=\"M0 236h512v40H0z\" />\r\n      </g>\r\n    </svg>\r\n  );\r\n}\r\n\r\nfunction LangFlag({ code, size = 22 }: { code: LangCode; size?: number }) {\r\n  return code === \"pl\" ? <FlagPL size={size} /> : <FlagGB size={size} />;\r\n}\r\n\r\nexport default function LanguageToggle({\r\n  mode = \"button\",\r\n  radius = 42,\r\n  spread = 22,\r\n  offsetX = 0,\r\n  size = 40,\r\n}: Props) {\r\n  const { lang, setLang } = useI18n();\r\n  const [open, setOpen] = useState(false);\r\n  const wrapRef = useRef<HTMLDivElement | null>(null);\r\n\r\n  const options: ReadonlyArray<{ code: LangCode; aria: string }> = [\r\n    { code: \"pl\", aria: \"Zmień język na polski\" },\r\n    { code: \"en\", aria: \"Switch language to English\" },\r\n  ];\r\n\r\n  useEffect(() => {\r\n    function onDocClick(e: MouseEvent) {\r\n      if (!wrapRef.current) return;\r\n      if (!wrapRef.current.contains(e.target as Node)) setOpen(false);\r\n    }\r\n    function onKey(e: KeyboardEvent) {\r\n      if (e.key === \"Escape\") setOpen(false);\r\n    }\r\n    if (open) {\r\n      document.addEventListener(\"mousedown\", onDocClick);\r\n      document.addEventListener(\"keydown\", onKey);\r\n    }\r\n    return () => {\r\n      document.removeEventListener(\"mousedown\", onDocClick);\r\n      document.removeEventListener(\"keydown\", onKey);\r\n    };\r\n  }, [open]);\r\n\r\n  if (mode === \"menu\") {\r\n    return (\r\n      <div\r\n        className=\"w-full flex items-center justify-center gap-3\"\r\n        ref={wrapRef}\r\n      >\r\n        {options.map((o) => {\r\n          const isActive = lang === o.code;\r\n          return (\r\n            <button\r\n              key={o.code}\r\n              onClick={() => setLang(o.code)}\r\n              aria-label={o.aria}\r\n              title={o.aria}\r\n              className=\"relative flex items-center justify-center transition focus:outline-none\"\r\n              style={{ width: size, height: size, borderRadius: size / 2 }}\r\n            >\r\n              {isActive && (\r\n                <>\r\n                  <span\r\n                    className=\"absolute inset-0 rounded-full ring-2 ring-primary/50\"\r\n                    aria-hidden\r\n                  />\r\n                  <span\r\n                    className=\"absolute inset-0 rounded-full bg-primary/15 blur-md\"\r\n                    aria-hidden\r\n                  />\r\n                </>\r\n              )}\r\n              <span\r\n                className=\"absolute inset-0 rounded-full opacity-0 hover:opacity-100 bg-foreground/10 blur-sm transition\"\r\n                aria-hidden\r\n              />\r\n              <LangFlag code={o.code} size={Math.max(20, size - 16)} />\r\n            </button>\r\n          );\r\n        })}\r\n      </div>\r\n    );\r\n  }\r\n\r\n  const targets: Array<{ code: LangCode; x: number; y: number }> = [\r\n    { code: \"pl\", x: -spread + offsetX, y: radius },\r\n    { code: \"en\", x: spread + offsetX, y: radius },\r\n  ];\r\n\r\n  const buttonAria = `Change language, current: ${\r\n    lang === \"pl\" ? \"Polski\" : \"English\"\r\n  }`;\r\n\r\n  return (\r\n    <div\r\n      className=\"relative inline-flex\"\r\n      ref={wrapRef}\r\n      style={{ overflow: \"visible\" }}\r\n    >\r\n      <Button\r\n        variant=\"outline\"\r\n        size=\"icon\"\r\n        className=\"relative h-9 w-9 rounded-full border-0 shadow-sm bg-linear-to-b from-background/70 to-background/40 backdrop-blur-xl ring-1 ring-border/60\"\r\n        aria-haspopup=\"menu\"\r\n        aria-expanded={open}\r\n        aria-label={buttonAria}\r\n        onClick={() => setOpen((o) => !o)}\r\n      >\r\n        <span\r\n          className={`absolute -inset-1 rounded-full blur-lg transition ${\r\n            open ? \"bg-primary/20\" : \"bg-transparent\"\r\n          }`}\r\n          aria-hidden\r\n        />\r\n        <LangFlag code={lang} />\r\n        <span className=\"sr-only\">{lang === \"pl\" ? \"Polski\" : \"English\"}</span>\r\n      </Button>\r\n\r\n      {targets.map((p, i) => {\r\n        const active = lang === p.code;\r\n        return (\r\n          <AnimatePresence key={p.code}>\r\n            {open && (\r\n              <motion.button\r\n                initial={{ opacity: 0, x: 0, y: 0, scale: 0.86 }}\r\n                animate={{ opacity: 1, x: p.x, y: p.y, scale: 1 }}\r\n                exit={{ opacity: 0, x: 0, y: 0, scale: 0.86 }}\r\n                transition={{\r\n                  type: \"spring\",\r\n                  stiffness: 640,\r\n                  damping: 32,\r\n                  mass: 0.5,\r\n                  delay: i * 0.035,\r\n                }}\r\n                onClick={() => {\r\n                  setLang(p.code);\r\n                  setOpen(false);\r\n                }}\r\n                className=\"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 flex items-center justify-center bg-background/80 backdrop-blur-xl ring-1 ring-border/60 shadow-lg focus:outline-none\"\r\n                style={{ width: size, height: size, borderRadius: size / 2 }}\r\n                aria-label={\r\n                  p.code === \"pl\"\r\n                    ? \"Zmień język na polski\"\r\n                    : \"Switch language to English\"\r\n                }\r\n              >\r\n                {active && (\r\n                  <>\r\n                    <span\r\n                      className=\"absolute inset-0 rounded-full ring-2 ring-primary/50\"\r\n                      aria-hidden\r\n                    />\r\n                    <span\r\n                      className=\"absolute inset-0 rounded-full bg-primary/15 blur-md\"\r\n                      aria-hidden\r\n                    />\r\n                  </>\r\n                )}\r\n                <LangFlag code={p.code} size={Math.max(20, size - 16)} />\r\n              </motion.button>\r\n            )}\r\n          </AnimatePresence>\r\n        );\r\n      })}\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 3291, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ameli/Documents/studia/projekt/ShareWay/frontend/app/components/Navbar.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useEffect, useState } from \"react\";\r\nimport Link from \"next/link\";\r\nimport { motion, AnimatePresence } from \"framer-motion\";\r\nimport { Menu, X } from \"lucide-react\";\r\nimport Logo from \"./Logo\";\r\nimport { Button } from \"./ui/button\";\r\nimport { ThemeToggle } from \"./ThemeToggle\";\r\nimport { useI18n } from \"@/app/context/LanguageContext\";\r\nimport LanguageToggle from \"./LanguageToggle\";\r\n\r\nexport default function Navbar() {\r\n  const [open, setOpen] = useState(false);\r\n  const { t, lang } = useI18n();\r\n\r\n  useEffect(() => {\r\n    const onKey = (e: KeyboardEvent) => {\r\n      if (e.key === \"Escape\") setOpen(false);\r\n    };\r\n    window.addEventListener(\"keydown\", onKey);\r\n    return () => window.removeEventListener(\"keydown\", onKey);\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (!open) return;\r\n    const onScroll = () => setOpen(false);\r\n    window.addEventListener(\"scroll\", onScroll, { passive: true });\r\n    return () => window.removeEventListener(\"scroll\", onScroll);\r\n  }, [open]);\r\n\r\n  const loginLabel = t?.nav?.login ?? (lang === \"pl\" ? \"Zaloguj\" : \"Log in\");\r\n  const signupLabel =\r\n    t?.nav?.signup ?? (lang === \"pl\" ? \"Rejestracja\" : \"Sign up\");\r\n\r\n  return (\r\n    <nav className=\"fixed top-0 inset-x-0 z-50 backdrop-blur-md bg-background/80 border-b border-border\">\r\n      <div className=\"container mx-auto px-4 h-16 flex items-center justify-between\">\r\n        <Link href=\"/\" className=\"flex items-center gap-3 group\">\r\n          <Logo className=\"h-8 w-8 sm:h-9 sm:w-9 transition-transform group-hover:scale-110\" />\r\n          <span className=\"text-xl sm:text-2xl font-bold bg-gradient-hero bg-clip-text text-transparent\">\r\n            {t?.brand ?? \"ShareWay\"}\r\n          </span>\r\n        </Link>\r\n\r\n        <div className=\"hidden sm:flex items-center gap-3\">\r\n          <LanguageToggle />\r\n          <ThemeToggle />\r\n\r\n          <Link href=\"/login\">\r\n            <Button\r\n              variant=\"ghost\"\r\n              className=\"h-10 px-4 text-sm rounded-full hover:-translate-y-px transition-transform\"\r\n            >\r\n              {loginLabel}\r\n            </Button>\r\n          </Link>\r\n\r\n          <Link href=\"/register\">\r\n            <Button className=\"h-10 px-5 text-sm rounded-full shadow-md hover:shadow-lg hover:scale-[1.02] active:scale-[0.98] ring-1 ring-black/5 dark:ring-white/10\">\r\n              {signupLabel}\r\n            </Button>\r\n          </Link>\r\n        </div>\r\n\r\n        <div className=\"sm:hidden flex items-center gap-2\">\r\n          <ThemeToggle />\r\n          <button\r\n            type=\"button\"\r\n            onClick={() => setOpen((p) => !p)}\r\n            aria-label={\r\n              open\r\n                ? lang === \"pl\"\r\n                  ? \"Zamknij menu\"\r\n                  : \"Close menu\"\r\n                : lang === \"pl\"\r\n                ? \"Otwórz menu\"\r\n                : \"Open menu\"\r\n            }\r\n            className=\"inline-flex h-10 w-10 items-center justify-center rounded-xl border border-border bg-background/70 transition hover:bg-muted/60\"\r\n          >\r\n            {open ? <X className=\"h-5 w-5\" /> : <Menu className=\"h-5 w-5\" />}\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      <AnimatePresence>\r\n        {open && (\r\n          <motion.div\r\n            key=\"mobile-fullwidth\"\r\n            initial={{ opacity: 0, y: -10, height: 0 }}\r\n            animate={{ opacity: 1, y: 0, height: \"auto\" }}\r\n            exit={{ opacity: 0, y: -10, height: 0 }}\r\n            transition={{ duration: 0.25, ease: \"easeOut\" }}\r\n            className=\"sm:hidden fixed top-16 left-0 right-0 z-40 bg-background border-b border-border shadow-md\"\r\n          >\r\n            <nav className=\"flex flex-col divide-y divide-border\">\r\n              <Link\r\n                href=\"/register\"\r\n                onClick={() => setOpen(false)}\r\n                className=\"w-full px-6 py-4 text-lg font-medium text-foreground hover:bg-muted/60 hover:text-primary transition-colors\"\r\n              >\r\n                {signupLabel}\r\n              </Link>\r\n              <Link\r\n                href=\"/login\"\r\n                onClick={() => setOpen(false)}\r\n                className=\"w-full px-6 py-4 text-lg font-medium text-foreground hover:bg-muted/60 hover:text-primary transition-colors\"\r\n              >\r\n                {loginLabel}\r\n              </Link>\r\n\r\n              <div className=\"px-6 py-4\">\r\n                <p className=\"text-sm text-muted-foreground mb-3\">\r\n                  {lang === \"pl\" ? \"Język interfejsu\" : \"Interface language\"}\r\n                </p>\r\n                <LanguageToggle mode=\"menu\" />\r\n              </div>\r\n            </nav>\r\n          </motion.div>\r\n        )}\r\n      </AnimatePresence>\r\n    </nav>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAVA;;;;;;;;;;;AAYe,SAAS;IACtB,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,iNAAQ,EAAC;IACjC,MAAM,EAAE,CAAC,EAAE,IAAI,EAAE,GAAG,IAAA,6IAAO;IAE3B,IAAA,kNAAS,EAAC;QACR,MAAM,QAAQ,CAAC;YACb,IAAI,EAAE,GAAG,KAAK,UAAU,QAAQ;QAClC;QACA,OAAO,gBAAgB,CAAC,WAAW;QACnC,OAAO,IAAM,OAAO,mBAAmB,CAAC,WAAW;IACrD,GAAG,EAAE;IAEL,IAAA,kNAAS,EAAC;QACR,IAAI,CAAC,MAAM;QACX,MAAM,WAAW,IAAM,QAAQ;QAC/B,OAAO,gBAAgB,CAAC,UAAU,UAAU;YAAE,SAAS;QAAK;QAC5D,OAAO,IAAM,OAAO,mBAAmB,CAAC,UAAU;IACpD,GAAG;QAAC;KAAK;IAET,MAAM,aAAa,GAAG,KAAK,SAAS,CAAC,SAAS,OAAO,YAAY,QAAQ;IACzE,MAAM,cACJ,GAAG,KAAK,UAAU,CAAC,SAAS,OAAO,gBAAgB,SAAS;IAE9D,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAI,WAAU;;kCACb,8OAAC,uKAAI;wBAAC,MAAK;wBAAI,WAAU;;0CACvB,8OAAC,qIAAI;gCAAC,WAAU;;;;;;0CAChB,8OAAC;gCAAK,WAAU;0CACb,GAAG,SAAS;;;;;;;;;;;;kCAIjB,8OAAC;wBAAI,WAAU;;0CACb,8OAAC,+IAAc;;;;;0CACf,8OAAC,gJAAW;;;;;0CAEZ,8OAAC,uKAAI;gCAAC,MAAK;0CACT,cAAA,8OAAC,4IAAM;oCACL,SAAQ;oCACR,WAAU;8CAET;;;;;;;;;;;0CAIL,8OAAC,uKAAI;gCAAC,MAAK;0CACT,cAAA,8OAAC,4IAAM;oCAAC,WAAU;8CACf;;;;;;;;;;;;;;;;;kCAKP,8OAAC;wBAAI,WAAU;;0CACb,8OAAC,gJAAW;;;;;0CACZ,8OAAC;gCACC,MAAK;gCACL,SAAS,IAAM,QAAQ,CAAC,IAAM,CAAC;gCAC/B,cACE,OACI,SAAS,OACP,iBACA,eACF,SAAS,OACT,gBACA;gCAEN,WAAU;0CAET,qBAAO,8OAAC,iMAAC;oCAAC,WAAU;;;;;yDAAe,8OAAC,0MAAI;oCAAC,WAAU;;;;;;;;;;;;;;;;;;;;;;;0BAK1D,8OAAC,4MAAe;0BACb,sBACC,8OAAC,oMAAM,CAAC,GAAG;oBAET,SAAS;wBAAE,SAAS;wBAAG,GAAG,CAAC;wBAAI,QAAQ;oBAAE;oBACzC,SAAS;wBAAE,SAAS;wBAAG,GAAG;wBAAG,QAAQ;oBAAO;oBAC5C,MAAM;wBAAE,SAAS;wBAAG,GAAG,CAAC;wBAAI,QAAQ;oBAAE;oBACtC,YAAY;wBAAE,UAAU;wBAAM,MAAM;oBAAU;oBAC9C,WAAU;8BAEV,cAAA,8OAAC;wBAAI,WAAU;;0CACb,8OAAC,uKAAI;gCACH,MAAK;gCACL,SAAS,IAAM,QAAQ;gCACvB,WAAU;0CAET;;;;;;0CAEH,8OAAC,uKAAI;gCACH,MAAK;gCACL,SAAS,IAAM,QAAQ;gCACvB,WAAU;0CAET;;;;;;0CAGH,8OAAC;gCAAI,WAAU;;kDACb,8OAAC;wCAAE,WAAU;kDACV,SAAS,OAAO,qBAAqB;;;;;;kDAExC,8OAAC,+IAAc;wCAAC,MAAK;;;;;;;;;;;;;;;;;;mBA3BrB;;;;;;;;;;;;;;;;AAmChB","debugId":null}},
    {"offset": {"line": 3560, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ameli/Documents/studia/projekt/ShareWay/frontend/app/groups/%5BgroupId%5D/voting/page.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useState, useEffect } from \"react\";\r\nimport { useParams, useRouter } from \"next/navigation\";\r\nimport { motion } from \"framer-motion\";\r\nimport { Plus, Vote as VoteIcon, ArrowLeft } from \"lucide-react\";\r\nimport { Button } from \"@/app/components/ui/button\";\r\nimport { useI18n } from \"@/app/context/LanguageContext\";\r\nimport { getVotingTranslations } from \"./translations\";\r\nimport { fetchAuth, apiUrl } from \"@/lib/api\";\r\nimport VotingList from \"./components/VotingList\";\r\nimport CreateVotingDialog from \"./components/CreateVotingDialog\";\r\nimport VotingDetailsDialog from \"./components/VotingDetailsDialog\";\r\nimport Navbar from \"@/app/components/Navbar\";\r\nimport type { Voting, VotingFormData } from \"./types\";\r\n\r\nexport default function GroupVotingPage() {\r\n    const { lang } = useI18n();\r\n    const t = getVotingTranslations(lang);\r\n    const params = useParams();\r\n    const router = useRouter();\r\n    const groupId = params.groupId as string;\r\n    \r\n    const [votings, setVotings] = useState<Voting[]>([]);\r\n    const [isCreateDialogOpen, setIsCreateDialogOpen] = useState(false);\r\n    const [loading, setLoading] = useState(true);\r\n    const [groupName, setGroupName] = useState(\"\");\r\n\r\n    const [selectedVoting, setSelectedVoting] = useState<Voting | null>(null);\r\n    const [isDetailsOpen, setIsDetailsOpen] = useState(false);\r\n\r\n    useEffect(() => {\r\n        if (groupId) {\r\n            fetchGroupInfo();\r\n            fetchVotings();\r\n        }\r\n    }, [groupId]);\r\n\r\n    const fetchGroupInfo = async () => {\r\n        try {\r\n            // TODO: Fetch group details\r\n            // const response = await fetch(`/api/groups/${groupId}`);\r\n            // const data = await response.json();\r\n            // setGroupName(data.name);\r\n            setGroupName(\"Wyprawa do Grecji\"); // Mock\r\n        } catch (error) {\r\n            console.error(\"Error fetching group info:\", error);\r\n        }\r\n    };\r\n\r\n    const fetchVotings = async () => {\r\n        try {\r\n            setLoading(true);\r\n            const data = await fetchAuth<Voting[]>(apiUrl(`/api/trips/${groupId}/votes`), {});\r\n            setVotings(data);\r\n        } catch (error) {\r\n            console.error(\"Error fetching votings:\", error);\r\n            setVotings([]); // Pusta tablica w przypadku błędu\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    const handleCreateVoting = async (data: VotingFormData) => {\r\n        try {\r\n            const payload = {\r\n                title: data.title,\r\n                description: data.description,\r\n                allowAddingOptions: data.allowAddingOptions,\r\n                allowMultipleVotes: data.allowMultipleVotes,\r\n                showResultsBeforeVoting: data.showResultsBeforeVoting,\r\n                endsAt: data.endsAt?.toISOString(),\r\n                options: data.initialOptions.map(text => ({ text })),\r\n            };\r\n\r\n            await fetchAuth(apiUrl(`/api/trips/${groupId}/votes`), {\r\n                method: 'POST',\r\n                body: JSON.stringify(payload),\r\n            });\r\n            \r\n            await fetchVotings();\r\n            setIsCreateDialogOpen(false);\r\n        } catch (error) {\r\n            console.error(\"Error creating voting:\", error);\r\n            alert(t.createError);\r\n        }\r\n    };\r\n\r\n    const handleVote = async (votingId: string, optionId: string) => {\r\n        try {\r\n            await fetchAuth(apiUrl(`/api/votes/${votingId}/cast`), {\r\n                method: 'POST',\r\n                body: JSON.stringify({ optionIds: [optionId] }),\r\n            });\r\n            \r\n            await fetchVotings();\r\n        } catch (error) {\r\n            console.error(\"Error voting:\", error);\r\n            alert(t.voteError);\r\n        }\r\n    };\r\n\r\n    const handleAddOption = async (votingId: string, optionText: string, description?: string) => {\r\n        try {\r\n            await fetchAuth(apiUrl(`/api/votes/${votingId}/options`), {\r\n                method: 'POST',\r\n                body: JSON.stringify({ text: optionText, description }),\r\n            });\r\n            \r\n            await fetchVotings();\r\n        } catch (error) {\r\n            console.error(\"Error adding option:\", error);\r\n            alert(t.addOptionError);\r\n        }\r\n    };\r\n\r\n    const handleDeleteVoting = async (votingId: string) => {\r\n        try {\r\n            if (!confirm(t.deleteConfirm)) return;\r\n\r\n            await fetchAuth(apiUrl(`/api/votes/${votingId}`), {\r\n                method: 'DELETE',\r\n            });\r\n\r\n            setVotings(votings.filter(v => v.id !== votingId));\r\n        } catch (error) {\r\n            console.error(\"Error deleting voting:\", error);\r\n            alert(t.deleteError);\r\n        }\r\n    };\r\n\r\n    const handleViewDetails = (voting: Voting) => {\r\n        setSelectedVoting(voting);\r\n        setIsDetailsOpen(true);\r\n    };\r\n\r\n    return (\r\n        <>\r\n            <Navbar />\r\n            <main className=\"min-h-screen pt-24 pb-16 bg-gradient-soft\">\r\n                <div className=\"container mx-auto px-4\">\r\n                    {/* Back button */}\r\n                    <Button\r\n                        variant=\"ghost\"\r\n                        onClick={() => router.push(`/groups/${groupId}`)}\r\n                        className=\"mb-6 gap-2\"\r\n                    >\r\n                        <ArrowLeft className=\"w-4 h-4\" />\r\n                        {t.backToGroup}: {groupName}\r\n                    </Button>\r\n\r\n                    <motion.div\r\n                        initial={{ opacity: 0, y: 20 }}\r\n                        animate={{ opacity: 1, y: 0 }}\r\n                        transition={{ duration: 0.6 }}\r\n                        className=\"mb-12\"\r\n                    >\r\n                        <div className=\"flex items-center justify-between mb-6\">\r\n                            <div>\r\n                                <h1 className=\"text-4xl sm:text-5xl font-extrabold mb-2 flex items-center gap-3\">\r\n                                    <VoteIcon className=\"w-10 h-10 text-primary\" />\r\n                                    {t.voting}\r\n                                </h1>\r\n                                <p className=\"text-xl text-muted-foreground\">\r\n                                    {t.subtitle}: <strong>{groupName}</strong>\r\n                                </p>\r\n                            </div>\r\n                            \r\n                            <Button\r\n                                size=\"lg\"\r\n                                onClick={() => setIsCreateDialogOpen(true)}\r\n                                className=\"gap-2\"\r\n                            >\r\n                                <Plus className=\"w-5 h-5\" />\r\n                                {t.createPoll}\r\n                            </Button>\r\n                        </div>\r\n                    </motion.div>\r\n\r\n                    <VotingList \r\n                        votings={votings} \r\n                        loading={loading} \r\n                        groupId={groupId}\r\n                        onVote={handleVote}\r\n                        onAddOption={handleAddOption}\r\n                        onDelete={handleDeleteVoting}\r\n                        onViewDetails={handleViewDetails}\r\n                    />\r\n                </div>\r\n\r\n                <CreateVotingDialog\r\n                    open={isCreateDialogOpen}\r\n                    onOpenChange={setIsCreateDialogOpen}\r\n                    onSubmit={handleCreateVoting}\r\n                />\r\n\r\n                <VotingDetailsDialog\r\n                    voting={selectedVoting}\r\n                    open={isDetailsOpen}\r\n                    onClose={() => setIsDetailsOpen(false)}\r\n                    onVote={handleVote}\r\n                    onAddOption={handleAddOption}\r\n                />\r\n            </main>\r\n        </>\r\n    );\r\n}"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAbA;;;;;;;;;;;;;;AAgBe,SAAS;IACpB,MAAM,EAAE,IAAI,EAAE,GAAG,IAAA,6IAAO;IACxB,MAAM,IAAI,IAAA,+KAAqB,EAAC;IAChC,MAAM,SAAS,IAAA,+IAAS;IACxB,MAAM,SAAS,IAAA,+IAAS;IACxB,MAAM,UAAU,OAAO,OAAO;IAE9B,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAW,EAAE;IACnD,MAAM,CAAC,oBAAoB,sBAAsB,GAAG,IAAA,iNAAQ,EAAC;IAC7D,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAC;IACvC,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,iNAAQ,EAAC;IAE3C,MAAM,CAAC,gBAAgB,kBAAkB,GAAG,IAAA,iNAAQ,EAAgB;IACpE,MAAM,CAAC,eAAe,iBAAiB,GAAG,IAAA,iNAAQ,EAAC;IAEnD,IAAA,kNAAS,EAAC;QACN,IAAI,SAAS;YACT;YACA;QACJ;IACJ,GAAG;QAAC;KAAQ;IAEZ,MAAM,iBAAiB;QACnB,IAAI;YACA,4BAA4B;YAC5B,0DAA0D;YAC1D,sCAAsC;YACtC,2BAA2B;YAC3B,aAAa,sBAAsB,OAAO;QAC9C,EAAE,OAAO,OAAO;YACZ,QAAQ,KAAK,CAAC,8BAA8B;QAChD;IACJ;IAEA,MAAM,eAAe;QACjB,IAAI;YACA,WAAW;YACX,MAAM,OAAO,MAAM,IAAA,uHAAS,EAAW,IAAA,oHAAM,EAAC,CAAC,WAAW,EAAE,QAAQ,MAAM,CAAC,GAAG,CAAC;YAC/E,WAAW;QACf,EAAE,OAAO,OAAO;YACZ,QAAQ,KAAK,CAAC,2BAA2B;YACzC,WAAW,EAAE,GAAG,kCAAkC;QACtD,SAAU;YACN,WAAW;QACf;IACJ;IAEA,MAAM,qBAAqB,OAAO;QAC9B,IAAI;YACA,MAAM,UAAU;gBACZ,OAAO,KAAK,KAAK;gBACjB,aAAa,KAAK,WAAW;gBAC7B,oBAAoB,KAAK,kBAAkB;gBAC3C,oBAAoB,KAAK,kBAAkB;gBAC3C,yBAAyB,KAAK,uBAAuB;gBACrD,QAAQ,KAAK,MAAM,EAAE;gBACrB,SAAS,KAAK,cAAc,CAAC,GAAG,CAAC,CAAA,OAAQ,CAAC;wBAAE;oBAAK,CAAC;YACtD;YAEA,MAAM,IAAA,uHAAS,EAAC,IAAA,oHAAM,EAAC,CAAC,WAAW,EAAE,QAAQ,MAAM,CAAC,GAAG;gBACnD,QAAQ;gBACR,MAAM,KAAK,SAAS,CAAC;YACzB;YAEA,MAAM;YACN,sBAAsB;QAC1B,EAAE,OAAO,OAAO;YACZ,QAAQ,KAAK,CAAC,0BAA0B;YACxC,MAAM,EAAE,WAAW;QACvB;IACJ;IAEA,MAAM,aAAa,OAAO,UAAkB;QACxC,IAAI;YACA,MAAM,IAAA,uHAAS,EAAC,IAAA,oHAAM,EAAC,CAAC,WAAW,EAAE,SAAS,KAAK,CAAC,GAAG;gBACnD,QAAQ;gBACR,MAAM,KAAK,SAAS,CAAC;oBAAE,WAAW;wBAAC;qBAAS;gBAAC;YACjD;YAEA,MAAM;QACV,EAAE,OAAO,OAAO;YACZ,QAAQ,KAAK,CAAC,iBAAiB;YAC/B,MAAM,EAAE,SAAS;QACrB;IACJ;IAEA,MAAM,kBAAkB,OAAO,UAAkB,YAAoB;QACjE,IAAI;YACA,MAAM,IAAA,uHAAS,EAAC,IAAA,oHAAM,EAAC,CAAC,WAAW,EAAE,SAAS,QAAQ,CAAC,GAAG;gBACtD,QAAQ;gBACR,MAAM,KAAK,SAAS,CAAC;oBAAE,MAAM;oBAAY;gBAAY;YACzD;YAEA,MAAM;QACV,EAAE,OAAO,OAAO;YACZ,QAAQ,KAAK,CAAC,wBAAwB;YACtC,MAAM,EAAE,cAAc;QAC1B;IACJ;IAEA,MAAM,qBAAqB,OAAO;QAC9B,IAAI;YACA,IAAI,CAAC,QAAQ,EAAE,aAAa,GAAG;YAE/B,MAAM,IAAA,uHAAS,EAAC,IAAA,oHAAM,EAAC,CAAC,WAAW,EAAE,UAAU,GAAG;gBAC9C,QAAQ;YACZ;YAEA,WAAW,QAAQ,MAAM,CAAC,CAAA,IAAK,EAAE,EAAE,KAAK;QAC5C,EAAE,OAAO,OAAO;YACZ,QAAQ,KAAK,CAAC,0BAA0B;YACxC,MAAM,EAAE,WAAW;QACvB;IACJ;IAEA,MAAM,oBAAoB,CAAC;QACvB,kBAAkB;QAClB,iBAAiB;IACrB;IAEA,qBACI;;0BACI,8OAAC,uIAAM;;;;;0BACP,8OAAC;gBAAK,WAAU;;kCACZ,8OAAC;wBAAI,WAAU;;0CAEX,8OAAC,4IAAM;gCACH,SAAQ;gCACR,SAAS,IAAM,OAAO,IAAI,CAAC,CAAC,QAAQ,EAAE,SAAS;gCAC/C,WAAU;;kDAEV,8OAAC,6NAAS;wCAAC,WAAU;;;;;;oCACpB,EAAE,WAAW;oCAAC;oCAAG;;;;;;;0CAGtB,8OAAC,oMAAM,CAAC,GAAG;gCACP,SAAS;oCAAE,SAAS;oCAAG,GAAG;gCAAG;gCAC7B,SAAS;oCAAE,SAAS;oCAAG,GAAG;gCAAE;gCAC5B,YAAY;oCAAE,UAAU;gCAAI;gCAC5B,WAAU;0CAEV,cAAA,8OAAC;oCAAI,WAAU;;sDACX,8OAAC;;8DACG,8OAAC;oDAAG,WAAU;;sEACV,8OAAC,0MAAQ;4DAAC,WAAU;;;;;;wDACnB,EAAE,MAAM;;;;;;;8DAEb,8OAAC;oDAAE,WAAU;;wDACR,EAAE,QAAQ;wDAAC;sEAAE,8OAAC;sEAAQ;;;;;;;;;;;;;;;;;;sDAI/B,8OAAC,4IAAM;4CACH,MAAK;4CACL,SAAS,IAAM,sBAAsB;4CACrC,WAAU;;8DAEV,8OAAC,0MAAI;oDAAC,WAAU;;;;;;gDACf,EAAE,UAAU;;;;;;;;;;;;;;;;;;0CAKzB,8OAAC,8KAAU;gCACP,SAAS;gCACT,SAAS;gCACT,SAAS;gCACT,QAAQ;gCACR,aAAa;gCACb,UAAU;gCACV,eAAe;;;;;;;;;;;;kCAIvB,8OAAC,sLAAkB;wBACf,MAAM;wBACN,cAAc;wBACd,UAAU;;;;;;kCAGd,8OAAC,uLAAmB;wBAChB,QAAQ;wBACR,MAAM;wBACN,SAAS,IAAM,iBAAiB;wBAChC,QAAQ;wBACR,aAAa;;;;;;;;;;;;;;AAKjC","debugId":null}}]
}