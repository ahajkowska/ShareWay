{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ameli/Documents/studia/projekt/ShareWay/frontend/app/components/Navbar.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useEffect, useState } from \"react\";\r\nimport Link from \"next/link\";\r\nimport { motion, AnimatePresence } from \"framer-motion\";\r\nimport { Menu, X } from \"lucide-react\";\r\nimport Logo from \"./Logo\";\r\nimport { Button } from \"./ui/button\";\r\nimport { ThemeToggle } from \"./ThemeToggle\";\r\nimport { useI18n } from \"@/app/context/LanguageContext\";\r\nimport LanguageToggle from \"./LanguageToggle\";\r\n\r\nexport default function Navbar() {\r\n  const [open, setOpen] = useState(false);\r\n  const { t, lang } = useI18n();\r\n\r\n  useEffect(() => {\r\n    const onKey = (e: KeyboardEvent) => {\r\n      if (e.key === \"Escape\") setOpen(false);\r\n    };\r\n    window.addEventListener(\"keydown\", onKey);\r\n    return () => window.removeEventListener(\"keydown\", onKey);\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (!open) return;\r\n    const onScroll = () => setOpen(false);\r\n    window.addEventListener(\"scroll\", onScroll, { passive: true });\r\n    return () => window.removeEventListener(\"scroll\", onScroll);\r\n  }, [open]);\r\n\r\n  const loginLabel = t?.nav?.login ?? (lang === \"pl\" ? \"Zaloguj\" : \"Log in\");\r\n  const signupLabel =\r\n    t?.nav?.signup ?? (lang === \"pl\" ? \"Rejestracja\" : \"Sign up\");\r\n\r\n  return (\r\n    <nav className=\"fixed top-0 inset-x-0 z-50 backdrop-blur-md bg-background/80 border-b border-border\">\r\n      <div className=\"container mx-auto px-4 h-16 flex items-center justify-between\">\r\n        <Link href=\"/\" className=\"flex items-center gap-3 group\">\r\n          <Logo className=\"h-8 w-8 sm:h-9 sm:w-9 transition-transform group-hover:scale-110\" />\r\n          <span className=\"text-xl sm:text-2xl font-bold bg-gradient-hero bg-clip-text text-transparent\">\r\n            {t?.brand ?? \"ShareWay\"}\r\n          </span>\r\n        </Link>\r\n\r\n        <div className=\"hidden sm:flex items-center gap-3\">\r\n          <LanguageToggle />\r\n          <ThemeToggle />\r\n\r\n          <Link href=\"/login\">\r\n            <Button\r\n              variant=\"ghost\"\r\n              className=\"h-10 px-4 text-sm rounded-full hover:-translate-y-px transition-transform\"\r\n            >\r\n              {loginLabel}\r\n            </Button>\r\n          </Link>\r\n\r\n          <Link href=\"/register\">\r\n            <Button className=\"h-10 px-5 text-sm rounded-full shadow-md hover:shadow-lg hover:scale-[1.02] active:scale-[0.98] ring-1 ring-black/5 dark:ring-white/10\">\r\n              {signupLabel}\r\n            </Button>\r\n          </Link>\r\n        </div>\r\n\r\n        <div className=\"sm:hidden flex items-center gap-2\">\r\n          <ThemeToggle />\r\n          <button\r\n            type=\"button\"\r\n            onClick={() => setOpen((p) => !p)}\r\n            aria-label={\r\n              open\r\n                ? lang === \"pl\"\r\n                  ? \"Zamknij menu\"\r\n                  : \"Close menu\"\r\n                : lang === \"pl\"\r\n                ? \"Otwórz menu\"\r\n                : \"Open menu\"\r\n            }\r\n            className=\"inline-flex h-10 w-10 items-center justify-center rounded-xl border border-border bg-background/70 transition hover:bg-muted/60\"\r\n          >\r\n            {open ? <X className=\"h-5 w-5\" /> : <Menu className=\"h-5 w-5\" />}\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      <AnimatePresence>\r\n        {open && (\r\n          <motion.div\r\n            key=\"mobile-fullwidth\"\r\n            initial={{ opacity: 0, y: -10, height: 0 }}\r\n            animate={{ opacity: 1, y: 0, height: \"auto\" }}\r\n            exit={{ opacity: 0, y: -10, height: 0 }}\r\n            transition={{ duration: 0.25, ease: \"easeOut\" }}\r\n            className=\"sm:hidden fixed top-16 left-0 right-0 z-40 bg-background border-b border-border shadow-md\"\r\n          >\r\n            <nav className=\"flex flex-col divide-y divide-border\">\r\n              <Link\r\n                href=\"/register\"\r\n                onClick={() => setOpen(false)}\r\n                className=\"w-full px-6 py-4 text-lg font-medium text-foreground hover:bg-muted/60 hover:text-primary transition-colors\"\r\n              >\r\n                {signupLabel}\r\n              </Link>\r\n              <Link\r\n                href=\"/login\"\r\n                onClick={() => setOpen(false)}\r\n                className=\"w-full px-6 py-4 text-lg font-medium text-foreground hover:bg-muted/60 hover:text-primary transition-colors\"\r\n              >\r\n                {loginLabel}\r\n              </Link>\r\n\r\n              <div className=\"px-6 py-4\">\r\n                <p className=\"text-sm text-muted-foreground mb-3\">\r\n                  {lang === \"pl\" ? \"Język interfejsu\" : \"Interface language\"}\r\n                </p>\r\n                <LanguageToggle mode=\"menu\" />\r\n              </div>\r\n            </nav>\r\n          </motion.div>\r\n        )}\r\n      </AnimatePresence>\r\n    </nav>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAVA;;;;;;;;;;;AAYe,SAAS;IACtB,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,6NAAQ,EAAC;IACjC,MAAM,EAAE,CAAC,EAAE,IAAI,EAAE,GAAG,IAAA,yJAAO;IAE3B,IAAA,8NAAS,EAAC;QACR,MAAM,QAAQ,CAAC;YACb,IAAI,EAAE,GAAG,KAAK,UAAU,QAAQ;QAClC;QACA,OAAO,gBAAgB,CAAC,WAAW;QACnC,OAAO,IAAM,OAAO,mBAAmB,CAAC,WAAW;IACrD,GAAG,EAAE;IAEL,IAAA,8NAAS,EAAC;QACR,IAAI,CAAC,MAAM;QACX,MAAM,WAAW,IAAM,QAAQ;QAC/B,OAAO,gBAAgB,CAAC,UAAU,UAAU;YAAE,SAAS;QAAK;QAC5D,OAAO,IAAM,OAAO,mBAAmB,CAAC,UAAU;IACpD,GAAG;QAAC;KAAK;IAET,MAAM,aAAa,GAAG,KAAK,SAAS,CAAC,SAAS,OAAO,YAAY,QAAQ;IACzE,MAAM,cACJ,GAAG,KAAK,UAAU,CAAC,SAAS,OAAO,gBAAgB,SAAS;IAE9D,qBACE,0PAAC;QAAI,WAAU;;0BACb,0PAAC;gBAAI,WAAU;;kCACb,0PAAC,mLAAI;wBAAC,MAAK;wBAAI,WAAU;;0CACvB,0PAAC,iJAAI;gCAAC,WAAU;;;;;;0CAChB,0PAAC;gCAAK,WAAU;0CACb,GAAG,SAAS;;;;;;;;;;;;kCAIjB,0PAAC;wBAAI,WAAU;;0CACb,0PAAC,2JAAc;;;;;0CACf,0PAAC,4JAAW;;;;;0CAEZ,0PAAC,mLAAI;gCAAC,MAAK;0CACT,cAAA,0PAAC,wJAAM;oCACL,SAAQ;oCACR,WAAU;8CAET;;;;;;;;;;;0CAIL,0PAAC,mLAAI;gCAAC,MAAK;0CACT,cAAA,0PAAC,wJAAM;oCAAC,WAAU;8CACf;;;;;;;;;;;;;;;;;kCAKP,0PAAC;wBAAI,WAAU;;0CACb,0PAAC,4JAAW;;;;;0CACZ,0PAAC;gCACC,MAAK;gCACL,SAAS,IAAM,QAAQ,CAAC,IAAM,CAAC;gCAC/B,cACE,OACI,SAAS,OACP,iBACA,eACF,SAAS,OACT,gBACA;gCAEN,WAAU;0CAET,qBAAO,0PAAC,6MAAC;oCAAC,WAAU;;;;;yDAAe,0PAAC,sNAAI;oCAAC,WAAU;;;;;;;;;;;;;;;;;;;;;;;0BAK1D,0PAAC,wNAAe;0BACb,sBACC,0PAAC,gNAAM,CAAC,GAAG;oBAET,SAAS;wBAAE,SAAS;wBAAG,GAAG,CAAC;wBAAI,QAAQ;oBAAE;oBACzC,SAAS;wBAAE,SAAS;wBAAG,GAAG;wBAAG,QAAQ;oBAAO;oBAC5C,MAAM;wBAAE,SAAS;wBAAG,GAAG,CAAC;wBAAI,QAAQ;oBAAE;oBACtC,YAAY;wBAAE,UAAU;wBAAM,MAAM;oBAAU;oBAC9C,WAAU;8BAEV,cAAA,0PAAC;wBAAI,WAAU;;0CACb,0PAAC,mLAAI;gCACH,MAAK;gCACL,SAAS,IAAM,QAAQ;gCACvB,WAAU;0CAET;;;;;;0CAEH,0PAAC,mLAAI;gCACH,MAAK;gCACL,SAAS,IAAM,QAAQ;gCACvB,WAAU;0CAET;;;;;;0CAGH,0PAAC;gCAAI,WAAU;;kDACb,0PAAC;wCAAE,WAAU;kDACV,SAAS,OAAO,qBAAqB;;;;;;kDAExC,0PAAC,2JAAc;wCAAC,MAAK;;;;;;;;;;;;;;;;;;mBA3BrB;;;;;;;;;;;;;;;;AAmChB"}},
    {"offset": {"line": 273, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ameli/Documents/studia/projekt/ShareWay/frontend/app/components/ui/card.tsx"],"sourcesContent":["import * as React from \"react\";\r\nimport { cn } from \"@/lib/utils\";\r\n\r\nexport function Card({\r\n  className,\r\n  ...props\r\n}: React.HTMLAttributes<HTMLDivElement>) {\r\n  return (\r\n    <div\r\n      className={cn(\r\n        \"rounded-xl border bg-card text-card-foreground shadow-sm\",\r\n        className\r\n      )}\r\n      {...props}\r\n    />\r\n  );\r\n}\r\nexport function CardHeader({\r\n  className,\r\n  ...props\r\n}: React.HTMLAttributes<HTMLDivElement>) {\r\n  return (\r\n    <div\r\n      className={cn(\"flex flex-col space-y-1.5 p-6\", className)}\r\n      {...props}\r\n    />\r\n  );\r\n}\r\nexport function CardTitle({\r\n  className,\r\n  ...props\r\n}: React.HTMLAttributes<HTMLHeadingElement>) {\r\n  return (\r\n    <h3\r\n      className={cn(\r\n        \"text-2xl font-semibold leading-none tracking-tight\",\r\n        className\r\n      )}\r\n      {...props}\r\n    />\r\n  );\r\n}\r\n\r\nexport function CardContent({\r\n  className,\r\n  ...props\r\n}: React.HTMLAttributes<HTMLDivElement>) {\r\n  return <div className={cn(\"p-6 pt-0\", className)} {...props} />;\r\n}\r\n\r\nexport function CardDescription({\r\n  className,\r\n  ...props\r\n}: React.HTMLAttributes<HTMLParagraphElement>) {\r\n  return (\r\n    <p className={cn(\"text-sm text-muted-foreground\", className)} {...props} />\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;;;;;;;;;AACA;;;AAEO,SAAS,KAAK,EACnB,SAAS,EACT,GAAG,OACkC;IACrC,qBACE,0PAAC;QACC,WAAW,IAAA,8HAAE,EACX,4DACA;QAED,GAAG,KAAK;;;;;;AAGf;AACO,SAAS,WAAW,EACzB,SAAS,EACT,GAAG,OACkC;IACrC,qBACE,0PAAC;QACC,WAAW,IAAA,8HAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGf;AACO,SAAS,UAAU,EACxB,SAAS,EACT,GAAG,OACsC;IACzC,qBACE,0PAAC;QACC,WAAW,IAAA,8HAAE,EACX,sDACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEO,SAAS,YAAY,EAC1B,SAAS,EACT,GAAG,OACkC;IACrC,qBAAO,0PAAC;QAAI,WAAW,IAAA,8HAAE,EAAC,YAAY;QAAa,GAAG,KAAK;;;;;;AAC7D;AAEO,SAAS,gBAAgB,EAC9B,SAAS,EACT,GAAG,OACwC;IAC3C,qBACE,0PAAC;QAAE,WAAW,IAAA,8HAAE,EAAC,iCAAiC;QAAa,GAAG,KAAK;;;;;;AAE3E"}},
    {"offset": {"line": 343, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ameli/Documents/studia/projekt/ShareWay/frontend/app/dashboard/%5BgroupId%5D/costs/translations.ts"],"sourcesContent":["export const costsTranslations = {\r\n  pl: {\r\n    costs: \"Rozliczenia\",\r\n    costSettlements: \"Rozliczenia wyjazdu\",\r\n    manageExpenses: \"Zarządzaj wydatkami i zobacz kto komu winien\",\r\n    newExpense: \"Nowy wydatek\",\r\n    totalExpenses: \"Łączne wydatki\",\r\n    pln: \"PLN\",\r\n    deleteConfirm: \"Na pewno chcesz usunąć ten wydatek?\",\r\n    deleteError: \"Nie udało się usunąć wydatku\",\r\n    loadError: \"Nie udało się załadować wydatków\",\r\n    \r\n    // SettleBalanceDialog\r\n    markAsSettled: \"Oznacz jako rozliczone\",\r\n    totalAmount: \"Łączna kwota:\",\r\n    myShare: \"Mój udział:\",\r\n    iPaid: \"Ja zapłaciłem:\",\r\n    youAreGivingMoneyTo: \"Oddajesz pieniądze dla:\",\r\n    youAreReceivingMoneyFrom: \"Otrzymujesz pieniądze od:\",\r\n    youOweForThisExpense: \"Jesteś winien/winna za ten wydatek:\",\r\n    theyOweForThisExpense: \"Jest Ci winien/winna za ten wydatek:\",\r\n    amountToSettle: \"Kwota do rozliczenia (PLN)\",\r\n    canSettlePartial: \"Możesz rozliczyć całość lub część kwoty za ten wydatek\",\r\n    half: \"Połowa\",\r\n    full: \"Całość\",\r\n    information: \"Informacja\",\r\n    settleInfo: \"Zostanie utworzony wydatek rozliczeniowy, który automatycznie wyrówna saldo.\",\r\n    makeSureYouPaid: \"Upewnij się, że faktycznie przekazałeś pieniądze.\",\r\n    makeSureYouReceived: \"Upewnij się, że faktycznie otrzymałeś pieniądze.\",\r\n    cancel: \"Anuluj\",\r\n    saving: \"Zapisywanie...\",\r\n    enterValidAmount: \"Wpisz poprawną kwotę\",\r\n    amountCannotExceed: (max: string) => `Kwota nie może być większa niż ${max} PLN`,\r\n    settlement: \"Rozliczenie\",\r\n    received: \"Otrzymano\",\r\n    settlementError: \"Błąd podczas zapisywania rozliczenia\",\r\n    expense: \"wydatek\",\r\n    expenses: \"wydatki\",\r\n    owesMe: \"mi jest winien/winna\",\r\n    iOwe: \"Jestem winien/winna\",\r\n    markAsPaid: \"Oznacz jako oddane\",\r\n    markAsReceived: \"Oznacz jako otrzymane\",\r\n    myBalance: \"Moje saldo\",\r\n    noDataToShow: \"Brak danych do wyświetlenia\",\r\n    allSettled: \"Wszystko rozliczone!\",\r\n    noOutstandingPayments: \"Nie masz żadnych zaległych płatności\",\r\n    settlementsWithPeople: \"Rozliczenia z osobami\",\r\n    noExpenses: \"Brak wydatków\",\r\n    addFirstExpense: \"Dodaj pierwszy wydatek używając przycisku \\\"Nowy wydatek\\\"\",\r\n    paidBy: \"Zapłacił\",\r\n    date: \"Data\",\r\n    locale: \"pl-PL\",\r\n    person: \"osoba\",\r\n    people: \"osób\",\r\n    balance: \"Bilans\",\r\n    theyOweMe: \"Mi są winni\",\r\n    iOweLabel: \"Jestem winien/winna\",\r\n    \r\n    // CreateExpenseDialog\r\n    expenseTitle: \"Tytuł wydatku\",\r\n    expenseTitlePlaceholder: \"np. Zakwaterowanie, Bilety, Jedzenie\",\r\n    description: \"Opis\",\r\n    descriptionPlaceholder: \"Dodatkowe informacje...\",\r\n    optional: \"opcjonalnie\",\r\n    amountLabel: \"Kwota (PLN)\",\r\n    choosePersonPlaceholder: \"Wybierz osobę...\",\r\n    splitBetween: \"Podziel między\",\r\n    selectAll: \"Zaznacz wszystkich\",\r\n    deselect: \"Odznacz\",\r\n    splitPerPerson: (amt: string) => `Po ${amt} PLN na osobę`,\r\n    titleRequired: \"Wpisz tytuł wydatku\",\r\n    invalidAmount: \"Wpisz poprawną kwotę\",\r\n    choosePayer: \"Wybierz kto zapłacił\",\r\n    chooseSplit: \"Wybierz między kogo podzielić wydatek\",\r\n    createExpenseError: \"Błąd tworzenia wydatku\",\r\n    addExpense: \"Dodaj wydatek\",\r\n    adding: \"Dodawanie...\",\r\n  },\r\n  en: {\r\n    costs: \"Settlements\",\r\n    costSettlements: \"Trip Settlements\",\r\n    manageExpenses: \"Manage expenses and see who owes whom\",\r\n    newExpense: \"New Expense\",\r\n    totalExpenses: \"Total Expenses\",\r\n    pln: \"PLN\",\r\n    deleteConfirm: \"Are you sure you want to delete this expense?\",\r\n    deleteError: \"Failed to delete expense\",\r\n    loadError: \"Failed to load expenses\",\r\n    \r\n    // SettleBalanceDialog\r\n    markAsSettled: \"Mark as Settled\",\r\n    totalAmount: \"Total amount:\",\r\n    myShare: \"My share:\",\r\n    iPaid: \"I paid:\",\r\n    youAreGivingMoneyTo: \"You are giving money to:\",\r\n    youAreReceivingMoneyFrom: \"You are receiving money from:\",\r\n    youOweForThisExpense: \"You owe for this expense:\",\r\n    theyOweForThisExpense: \"They owe you for this expense:\",\r\n    amountToSettle: \"Amount to Settle (PLN)\",\r\n    canSettlePartial: \"You can settle all or part of the amount for this expense\",\r\n    half: \"Half\",\r\n    full: \"Full\",\r\n    information: \"Information\",\r\n    settleInfo: \"A settlement expense will be created that automatically balances the amount.\",\r\n    makeSureYouPaid: \"Make sure you have actually transferred the money.\",\r\n    makeSureYouReceived: \"Make sure you have actually received the money.\",\r\n    cancel: \"Cancel\",\r\n    saving: \"Saving...\",\r\n    enterValidAmount: \"Enter a valid amount\",\r\n    amountCannotExceed: (max: string) => `Amount cannot exceed ${max} PLN`,\r\n    settlement: \"Settlement\",\r\n    received: \"Received\",\r\n    settlementError: \"Error saving settlement\",\r\n    expense: \"expense\",\r\n    expenses: \"expenses\",\r\n    owesMe: \"owes me\",\r\n    iOwe: \"I owe\",\r\n    markAsPaid: \"Mark as Paid\",\r\n    markAsReceived: \"Mark as Received\",\r\n    myBalance: \"My Balance\",\r\n    noDataToShow: \"No data to display\",\r\n    allSettled: \"All Settled!\",\r\n    noOutstandingPayments: \"You have no outstanding payments\",\r\n    settlementsWithPeople: \"Settlements with people\",\r\n    noExpenses: \"No expenses\",\r\n    addFirstExpense: \"Add your first expense using the \\\"New Expense\\\" button\",\r\n    paidBy: \"Paid by\",\r\n    date: \"Date\",\r\n    locale: \"en-US\",\r\n    person: \"person\",\r\n    people: \"people\",\r\n    balance: \"Balance\",\r\n    theyOweMe: \"They owe me\",\r\n    iOweLabel: \"I owe\",\r\n    \r\n    // CreateExpenseDialog\r\n    expenseTitle: \"Expense title\",\r\n    expenseTitlePlaceholder: \"e.g. Accommodation, Tickets, Food\",\r\n    description: \"Description\",\r\n    descriptionPlaceholder: \"Additional info...\",\r\n    optional: \"optional\",\r\n    amountLabel: \"Amount (PLN)\",\r\n    choosePersonPlaceholder: \"Choose person...\",\r\n    splitBetween: \"Split between\",\r\n    selectAll: \"Select all\",\r\n    deselect: \"Deselect\",\r\n    splitPerPerson: (amt: string) => `${amt} PLN per person`,\r\n    titleRequired: \"Enter expense title\",\r\n    invalidAmount: \"Enter a valid amount\",\r\n    choosePayer: \"Choose who paid\",\r\n    chooseSplit: \"Choose who to split between\",\r\n    createExpenseError: \"Error creating expense\",\r\n    addExpense: \"Add Expense\",\r\n    adding: \"Adding...\",\r\n  },\r\n};\r\n\r\nexport type CostsLang = keyof typeof costsTranslations;\r\n\r\nexport function getCostsTranslations(lang: CostsLang = 'pl') {\r\n  return costsTranslations[lang];\r\n}"],"names":[],"mappings":";;;;;;AAAO,MAAM,oBAAoB;IAC/B,IAAI;QACF,OAAO;QACP,iBAAiB;QACjB,gBAAgB;QAChB,YAAY;QACZ,eAAe;QACf,KAAK;QACL,eAAe;QACf,aAAa;QACb,WAAW;QAEX,sBAAsB;QACtB,eAAe;QACf,aAAa;QACb,SAAS;QACT,OAAO;QACP,qBAAqB;QACrB,0BAA0B;QAC1B,sBAAsB;QACtB,uBAAuB;QACvB,gBAAgB;QAChB,kBAAkB;QAClB,MAAM;QACN,MAAM;QACN,aAAa;QACb,YAAY;QACZ,iBAAiB;QACjB,qBAAqB;QACrB,QAAQ;QACR,QAAQ;QACR,kBAAkB;QAClB,oBAAoB,CAAC,MAAgB,CAAC,+BAA+B,EAAE,IAAI,IAAI,CAAC;QAChF,YAAY;QACZ,UAAU;QACV,iBAAiB;QACjB,SAAS;QACT,UAAU;QACV,QAAQ;QACR,MAAM;QACN,YAAY;QACZ,gBAAgB;QAChB,WAAW;QACX,cAAc;QACd,YAAY;QACZ,uBAAuB;QACvB,uBAAuB;QACvB,YAAY;QACZ,iBAAiB;QACjB,QAAQ;QACR,MAAM;QACN,QAAQ;QACR,QAAQ;QACR,QAAQ;QACR,SAAS;QACT,WAAW;QACX,WAAW;QAEX,sBAAsB;QACtB,cAAc;QACd,yBAAyB;QACzB,aAAa;QACb,wBAAwB;QACxB,UAAU;QACV,aAAa;QACb,yBAAyB;QACzB,cAAc;QACd,WAAW;QACX,UAAU;QACV,gBAAgB,CAAC,MAAgB,CAAC,GAAG,EAAE,IAAI,aAAa,CAAC;QACzD,eAAe;QACf,eAAe;QACf,aAAa;QACb,aAAa;QACb,oBAAoB;QACpB,YAAY;QACZ,QAAQ;IACV;IACA,IAAI;QACF,OAAO;QACP,iBAAiB;QACjB,gBAAgB;QAChB,YAAY;QACZ,eAAe;QACf,KAAK;QACL,eAAe;QACf,aAAa;QACb,WAAW;QAEX,sBAAsB;QACtB,eAAe;QACf,aAAa;QACb,SAAS;QACT,OAAO;QACP,qBAAqB;QACrB,0BAA0B;QAC1B,sBAAsB;QACtB,uBAAuB;QACvB,gBAAgB;QAChB,kBAAkB;QAClB,MAAM;QACN,MAAM;QACN,aAAa;QACb,YAAY;QACZ,iBAAiB;QACjB,qBAAqB;QACrB,QAAQ;QACR,QAAQ;QACR,kBAAkB;QAClB,oBAAoB,CAAC,MAAgB,CAAC,qBAAqB,EAAE,IAAI,IAAI,CAAC;QACtE,YAAY;QACZ,UAAU;QACV,iBAAiB;QACjB,SAAS;QACT,UAAU;QACV,QAAQ;QACR,MAAM;QACN,YAAY;QACZ,gBAAgB;QAChB,WAAW;QACX,cAAc;QACd,YAAY;QACZ,uBAAuB;QACvB,uBAAuB;QACvB,YAAY;QACZ,iBAAiB;QACjB,QAAQ;QACR,MAAM;QACN,QAAQ;QACR,QAAQ;QACR,QAAQ;QACR,SAAS;QACT,WAAW;QACX,WAAW;QAEX,sBAAsB;QACtB,cAAc;QACd,yBAAyB;QACzB,aAAa;QACb,wBAAwB;QACxB,UAAU;QACV,aAAa;QACb,yBAAyB;QACzB,cAAc;QACd,WAAW;QACX,UAAU;QACV,gBAAgB,CAAC,MAAgB,GAAG,IAAI,eAAe,CAAC;QACxD,eAAe;QACf,eAAe;QACf,aAAa;QACb,aAAa;QACb,oBAAoB;QACpB,YAAY;QACZ,QAAQ;IACV;AACF;AAIO,SAAS,qBAAqB,OAAkB,IAAI;IACzD,OAAO,iBAAiB,CAAC,KAAK;AAChC"}},
    {"offset": {"line": 508, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ameli/Documents/studia/projekt/ShareWay/frontend/app/dashboard/%5BgroupId%5D/costs/components/ExpenseList.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/app/components/ui/card\";\r\nimport { Button } from \"@/app/components/ui/button\";\r\nimport { Trash2, RefreshCw } from \"lucide-react\";\r\nimport { useI18n } from \"@/app/context/LanguageContext\";\r\nimport { getCostsTranslations } from \"../translations\";\r\nimport type { ExpenseDto } from \"../types\";\r\n\r\ninterface Props {\r\n    expenses: ExpenseDto[];\r\n    loading: boolean;\r\n    onDelete: (expenseId: string) => Promise<void>;\r\n    onRefresh: () => Promise<void>;\r\n}\r\n\r\nexport default function ExpenseList({ expenses, loading, onDelete, onRefresh }: Props) {\r\n    const { lang } = useI18n();\r\n    const t = getCostsTranslations(lang);\r\n\r\n    if (loading) {\r\n        return (\r\n            <Card>\r\n                <CardHeader>\r\n                    <CardTitle>{t.expenses}</CardTitle>\r\n                </CardHeader>\r\n                <CardContent>\r\n                    <div className=\"space-y-3\">\r\n                        {[1, 2, 3, 4].map(n => (\r\n                            <div key={n} className=\"h-20 bg-muted rounded-lg animate-pulse\" />\r\n                        ))}\r\n                    </div>\r\n                </CardContent>\r\n            </Card>\r\n        );\r\n    }\r\n\r\n    if (!expenses || expenses.length === 0) {\r\n        return (\r\n            <Card>\r\n                <CardHeader>\r\n                    <CardTitle>{t.expenses}</CardTitle>\r\n                </CardHeader>\r\n                <CardContent>\r\n                    <div className=\"text-center py-12 text-muted-foreground\">\r\n                        <p className=\"text-lg mb-2\">{t.noExpenses}</p>\r\n                        <p className=\"text-sm\">{t.addFirstExpense}</p>\r\n                    </div>\r\n                </CardContent>\r\n            </Card>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <Card>\r\n            <CardHeader className=\"flex flex-row items-center justify-between\">\r\n                <CardTitle>{t.expenses} ({expenses.length})</CardTitle>\r\n                <Button variant=\"ghost\" size=\"sm\" onClick={onRefresh}>\r\n                    <RefreshCw className=\"w-4 h-4\" />\r\n                </Button>\r\n            </CardHeader>\r\n            <CardContent>\r\n                <div className=\"space-y-3\">\r\n                    {expenses.map((expense) => (\r\n                        <div\r\n                            key={expense.id}\r\n                            className=\"flex items-center gap-4 p-4 border rounded-lg hover:bg-muted/50 transition-colors\"\r\n                        >\r\n                            <div className=\"flex-1\">\r\n                                <h4 className=\"font-medium\">{expense.title}</h4>\r\n                                {expense.description && (\r\n                                    <p className=\"text-sm text-muted-foreground\">\r\n                                        {expense.description}\r\n                                    </p>\r\n                                )}\r\n                                <div className=\"flex gap-4 mt-2 text-xs text-muted-foreground\">\r\n                                    <span>{t.paidBy}: {expense.paidByName}</span>\r\n                                    <span>{t.date}: {new Date(expense.date).toLocaleDateString(t.locale)}</span>\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"text-right\">\r\n                                <p className=\"text-lg font-bold\">{expense.amount.toFixed(2)} {t.pln}</p>\r\n                                <p className=\"text-xs text-muted-foreground\">\r\n                                    {expense.splitBetween.length} {expense.splitBetween.length === 1 ? t.person : t.people}\r\n                                </p>\r\n                            </div>\r\n                            <Button\r\n                                variant=\"ghost\"\r\n                                size=\"icon\"\r\n                                onClick={() => onDelete(expense.id)}\r\n                                className=\"text-destructive hover:text-destructive\"\r\n                            >\r\n                                <Trash2 className=\"w-4 h-4\" />\r\n                            </Button>\r\n                        </div>\r\n                    ))}\r\n                </div>\r\n            </CardContent>\r\n        </Card>\r\n    );\r\n}"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAAA;AACA;AACA;AANA;;;;;;;AAgBe,SAAS,YAAY,EAAE,QAAQ,EAAE,OAAO,EAAE,QAAQ,EAAE,SAAS,EAAS;IACjF,MAAM,EAAE,IAAI,EAAE,GAAG,IAAA,yJAAO;IACxB,MAAM,IAAI,IAAA,4LAAoB,EAAC;IAE/B,IAAI,SAAS;QACT,qBACI,0PAAC,oJAAI;;8BACD,0PAAC,0JAAU;8BACP,cAAA,0PAAC,yJAAS;kCAAE,EAAE,QAAQ;;;;;;;;;;;8BAE1B,0PAAC,2JAAW;8BACR,cAAA,0PAAC;wBAAI,WAAU;kCACV;4BAAC;4BAAG;4BAAG;4BAAG;yBAAE,CAAC,GAAG,CAAC,CAAA,kBACd,0PAAC;gCAAY,WAAU;+BAAb;;;;;;;;;;;;;;;;;;;;;IAMlC;IAEA,IAAI,CAAC,YAAY,SAAS,MAAM,KAAK,GAAG;QACpC,qBACI,0PAAC,oJAAI;;8BACD,0PAAC,0JAAU;8BACP,cAAA,0PAAC,yJAAS;kCAAE,EAAE,QAAQ;;;;;;;;;;;8BAE1B,0PAAC,2JAAW;8BACR,cAAA,0PAAC;wBAAI,WAAU;;0CACX,0PAAC;gCAAE,WAAU;0CAAgB,EAAE,UAAU;;;;;;0CACzC,0PAAC;gCAAE,WAAU;0CAAW,EAAE,eAAe;;;;;;;;;;;;;;;;;;;;;;;IAK7D;IAEA,qBACI,0PAAC,oJAAI;;0BACD,0PAAC,0JAAU;gBAAC,WAAU;;kCAClB,0PAAC,yJAAS;;4BAAE,EAAE,QAAQ;4BAAC;4BAAG,SAAS,MAAM;4BAAC;;;;;;;kCAC1C,0PAAC,wJAAM;wBAAC,SAAQ;wBAAQ,MAAK;wBAAK,SAAS;kCACvC,cAAA,0PAAC,yOAAS;4BAAC,WAAU;;;;;;;;;;;;;;;;;0BAG7B,0PAAC,2JAAW;0BACR,cAAA,0PAAC;oBAAI,WAAU;8BACV,SAAS,GAAG,CAAC,CAAC,wBACX,0PAAC;4BAEG,WAAU;;8CAEV,0PAAC;oCAAI,WAAU;;sDACX,0PAAC;4CAAG,WAAU;sDAAe,QAAQ,KAAK;;;;;;wCACzC,QAAQ,WAAW,kBAChB,0PAAC;4CAAE,WAAU;sDACR,QAAQ,WAAW;;;;;;sDAG5B,0PAAC;4CAAI,WAAU;;8DACX,0PAAC;;wDAAM,EAAE,MAAM;wDAAC;wDAAG,QAAQ,UAAU;;;;;;;8DACrC,0PAAC;;wDAAM,EAAE,IAAI;wDAAC;wDAAG,IAAI,KAAK,QAAQ,IAAI,EAAE,kBAAkB,CAAC,EAAE,MAAM;;;;;;;;;;;;;;;;;;;8CAG3E,0PAAC;oCAAI,WAAU;;sDACX,0PAAC;4CAAE,WAAU;;gDAAqB,QAAQ,MAAM,CAAC,OAAO,CAAC;gDAAG;gDAAE,EAAE,GAAG;;;;;;;sDACnE,0PAAC;4CAAE,WAAU;;gDACR,QAAQ,YAAY,CAAC,MAAM;gDAAC;gDAAE,QAAQ,YAAY,CAAC,MAAM,KAAK,IAAI,EAAE,MAAM,GAAG,EAAE,MAAM;;;;;;;;;;;;;8CAG9F,0PAAC,wJAAM;oCACH,SAAQ;oCACR,MAAK;oCACL,SAAS,IAAM,SAAS,QAAQ,EAAE;oCAClC,WAAU;8CAEV,cAAA,0PAAC,gOAAM;wCAAC,WAAU;;;;;;;;;;;;2BA3BjB,QAAQ,EAAE;;;;;;;;;;;;;;;;;;;;;AAmC3C"}},
    {"offset": {"line": 809, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ameli/Documents/studia/projekt/ShareWay/frontend/app/dashboard/%5BgroupId%5D/costs/components/CreateExpenseDialog.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useEffect, useState } from \"react\";\r\nimport { motion, AnimatePresence } from \"framer-motion\";\r\nimport { X } from \"lucide-react\";\r\nimport { Button } from \"@/app/components/ui/button\";\r\nimport * as api from \"@/lib/api\";\r\nimport { useI18n } from \"@/app/context/LanguageContext\";\r\nimport { getCostsTranslations } from \"../translations\";\r\nimport type { CreateExpenseDto } from \"../types\";\r\n\r\ninterface Props {\r\n    open: boolean;\r\n    onOpenChange: (open: boolean) => void;\r\n    tripId: string;\r\n    onCreated?: () => void;\r\n}\r\n\r\nexport default function CreateExpenseDialog({ open, onOpenChange, tripId, onCreated }: Props) {\r\n    const { lang } = useI18n();\r\n    const t = getCostsTranslations(lang);\r\n\r\n    const [title, setTitle] = useState(\"\");\r\n    const [description, setDescription] = useState(\"\");\r\n    const [amount, setAmount] = useState(\"\");\r\n    const [paidBy, setPaidBy] = useState(\"\");\r\n    const [splitBetween, setSplitBetween] = useState<string[]>([]);\r\n    const [submitting, setSubmitting] = useState(false);\r\n\r\n    // Mock users - zamień na prawdziwe dane z API\r\n    const mockUsers = [\r\n        { id: \"user-1\", name: \"Jan Kowalski\" },\r\n        { id: \"user-2\", name: \"Anna Nowak\" },\r\n        { id: \"user-3\", name: \"Piotr Wiśniewski\" },\r\n        { id: \"user-4\", name: \"Maria Zielińska\" },\r\n    ];\r\n\r\n    const handleSubmit = async (e?: React.FormEvent) => {\r\n        e?.preventDefault();\r\n        \r\n        if (!title.trim()) {\r\n            alert(t.titleRequired);\r\n            return;\r\n        }\r\n        if (!amount || parseFloat(amount) <= 0) {\r\n            alert(t.invalidAmount);\r\n            return;\r\n        }\r\n        if (!paidBy) {\r\n            alert(t.choosePayer);\r\n            return;\r\n        }\r\n        if (splitBetween.length === 0) {\r\n            alert(t.chooseSplit);\r\n            return;\r\n        }\r\n\r\n        try {\r\n            setSubmitting(true);\r\n            \r\n            const payload: CreateExpenseDto = {\r\n                title: title.trim(),\r\n                description: description.trim() || undefined,\r\n                amount: parseFloat(amount),\r\n                paidBy: paidBy,\r\n                splitBetween: splitBetween,\r\n                date: new Date().toISOString(),\r\n            };\r\n\r\n            // MOCK - tylko zamknij dialog\r\n            console.log(\"Creating expense:\", payload);\r\n            \r\n            // Reset form\r\n            setTitle(\"\");\r\n            setDescription(\"\");\r\n            setAmount(\"\");\r\n            setPaidBy(\"\");\r\n            setSplitBetween([]);\r\n            \r\n            onCreated?.();\r\n            onOpenChange(false);\r\n            \r\n            // PRAWDZIWE API - odkomentuj gdy backend działa\r\n            // await api.createExpense(tripId, payload);\r\n            // setTitle(\"\");\r\n            // setDescription(\"\");\r\n            // setAmount(\"\");\r\n            // setPaidBy(\"\");\r\n            // setSplitBetween([]);\r\n            // onCreated?.();\r\n            // onOpenChange(false);\r\n        } catch (err: any) {\r\n            console.error(err);\r\n            alert(err.message || t.createExpenseError);\r\n        } finally {\r\n            setSubmitting(false);\r\n        }\r\n    };\r\n\r\n    const toggleUserInSplit = (userId: string) => {\r\n        setSplitBetween(prev => \r\n            prev.includes(userId) \r\n                ? prev.filter(id => id !== userId)\r\n                : [...prev, userId]\r\n        );\r\n    };\r\n\r\n    const selectAllUsers = () => {\r\n        setSplitBetween(mockUsers.map(u => u.id));\r\n    };\r\n\r\n    const deselectAllUsers = () => {\r\n        setSplitBetween([]);\r\n    };\r\n\r\n    if (!open) return null;\r\n\r\n    return (\r\n        <AnimatePresence>\r\n            <div className=\"fixed inset-0 z-50 flex items-center justify-center p-4\">\r\n                <motion.div \r\n                    initial={{ opacity: 0 }} \r\n                    animate={{ opacity: 1 }} \r\n                    exit={{ opacity: 0 }} \r\n                    onClick={() => onOpenChange(false)} \r\n                    className=\"absolute inset-0 bg-black/50\" \r\n                />\r\n\r\n                <motion.div \r\n                    initial={{ opacity: 0, scale: 0.98 }} \r\n                    animate={{ opacity: 1, scale: 1 }} \r\n                    exit={{ opacity: 0, scale: 0.98 }} \r\n                    className=\"relative bg-background rounded-2xl shadow-2xl w-full max-w-lg max-h-[90vh] overflow-y-auto\"\r\n                >\r\n                    <div className=\"flex items-center justify-between p-6 border-b sticky top-0 bg-background z-10\">\r\n                        <h3 className=\"text-lg font-bold\">{t.newExpense}</h3>\r\n                        <button \r\n                            onClick={() => onOpenChange(false)} \r\n                            className=\"p-2 hover:bg-muted rounded\"\r\n                        >\r\n                            <X className=\"w-5 h-5\" />\r\n                        </button>\r\n                    </div>\r\n\r\n                    <form onSubmit={handleSubmit} className=\"p-6 space-y-4\">\r\n                        {/* Title */}\r\n                        <div>\r\n                            <label className=\"block text-sm font-medium mb-2\">\r\n                                {t.expenseTitle} <span className=\"text-destructive\">*</span>\r\n                            </label>\r\n                            <input \r\n                                value={title} \r\n                                onChange={(e) => setTitle(e.target.value)} \r\n                                placeholder={t.expenseTitlePlaceholder}\r\n                                className=\"w-full px-4 py-3 rounded-xl border border-input\" \r\n                                autoFocus \r\n                            />\r\n                        </div>\r\n\r\n                        {/* Description */}\r\n                        <div>\r\n                            <label className=\"block text-sm font-medium mb-2\">{t.description} ({t.optional})</label>\r\n                            <textarea \r\n                                value={description} \r\n                                onChange={(e) => setDescription(e.target.value)} \r\n                                placeholder={t.descriptionPlaceholder}\r\n                                rows={2} \r\n                                className=\"w-full px-4 py-3 rounded-xl border border-input resize-none\" \r\n                            />\r\n                        </div>\r\n\r\n                        {/* Amount */}\r\n                        <div>\r\n                            <label className=\"block text-sm font-medium mb-2\">\r\n                                {t.amountLabel} ({t.pln}) <span className=\"text-destructive\">*</span>\r\n                            </label>\r\n                            <input \r\n                                type=\"number\"\r\n                                step=\"0.01\"\r\n                                min=\"0\"\r\n                                value={amount} \r\n                                onChange={(e) => setAmount(e.target.value)} \r\n                                placeholder=\"0.00\"\r\n                                className=\"w-full px-4 py-3 rounded-xl border border-input\" \r\n                            />\r\n                        </div>\r\n\r\n                        {/* Paid By */}\r\n                        <div>\r\n                            <label className=\"block text-sm font-medium mb-2\">\r\n                                {t.paidBy} <span className=\"text-destructive\">*</span>\r\n                            </label>\r\n                            <select\r\n                                value={paidBy}\r\n                                onChange={(e) => setPaidBy(e.target.value)}\r\n                                className=\"w-full px-4 py-3 rounded-xl border border-input bg-background text-foreground\"\r\n                            >\r\n                                <option value=\"\">{t.choosePersonPlaceholder}</option>\r\n                                {mockUsers.map(user => (\r\n                                    <option \r\n                                        key={user.id} \r\n                                        value={user.id}\r\n                                    >\r\n                                        {user.name}\r\n                                    </option>\r\n                                ))}\r\n                            </select>\r\n                        </div>\r\n\r\n                        {/* Split Between */}\r\n                        <div>\r\n                            <div className=\"flex items-center justify-between mb-2\">\r\n                                <label className=\"text-sm font-medium\">\r\n                                    {t.splitBetween} <span className=\"text-destructive\">*</span>\r\n                                </label>\r\n                                <div className=\"flex gap-2\">\r\n                                    <button\r\n                                        type=\"button\"\r\n                                        onClick={selectAllUsers}\r\n                                        className=\"text-xs text-primary hover:underline\"\r\n                                    >\r\n                                        {t.selectAll}\r\n                                    </button>\r\n                                    <span className=\"text-xs text-muted-foreground\">|</span>\r\n                                    <button\r\n                                        type=\"button\"\r\n                                        onClick={deselectAllUsers}\r\n                                        className=\"text-xs text-muted-foreground hover:underline\"\r\n                                    >\r\n                                        {t.deselect}\r\n                                    </button>\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"space-y-2 border rounded-xl p-3\">\r\n                                {mockUsers.map(user => (\r\n                                    <label \r\n                                        key={user.id}\r\n                                        className=\"flex items-center gap-3 p-2 hover:bg-muted rounded-lg cursor-pointer\"\r\n                                    >\r\n                                        <input\r\n                                            type=\"checkbox\"\r\n                                            checked={splitBetween.includes(user.id)}\r\n                                            onChange={() => toggleUserInSplit(user.id)}\r\n                                            className=\"w-4 h-4\"\r\n                                        />\r\n                                        <span className=\"text-sm\">{user.name}</span>\r\n                                    </label>\r\n                                ))}\r\n                            </div>\r\n                            {splitBetween.length > 0 && amount && parseFloat(amount) > 0 && (\r\n                                <p className=\"text-xs text-muted-foreground mt-2\">\r\n                                    {t.splitPerPerson(((parseFloat(amount) / splitBetween.length)).toFixed(2))}\r\n                                </p>\r\n                            )}\r\n                        </div>\r\n\r\n                        {/* Actions */}\r\n                        <div className=\"flex justify-end gap-2 pt-4\">\r\n                            <Button \r\n                                type=\"button\"\r\n                                variant=\"outline\" \r\n                                onClick={() => onOpenChange(false)} \r\n                                disabled={submitting}\r\n                            >\r\n                                {t.cancel}\r\n                            </Button>\r\n                            <Button type=\"submit\" disabled={submitting}>\r\n                                {submitting ? t.adding : t.addExpense}\r\n                            </Button>\r\n                        </div>\r\n                    </form>\r\n                </motion.div>\r\n            </div>\r\n        </AnimatePresence>\r\n    );\r\n}"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1334, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ameli/Documents/studia/projekt/ShareWay/frontend/lib/api.ts"],"sourcesContent":["/**\r\n * API helper functions with Double-Token Authentication\r\n */\r\n\r\n/**\r\n * Custom error class for authentication errors\r\n */\r\nexport class AuthError extends Error {\r\n    constructor(message: string, public status: number) {\r\n        super(message);\r\n        this.name = \"AuthError\";\r\n    }\r\n}\r\n\r\n/**\r\n * Auth constants - configure these based on your backend\r\n */\r\nconst AUTH_CONSTANTS = {\r\n  AUTH_URL: process.env.NEXT_PUBLIC_API_URL || 'http://localhost:4000',\r\n  REFRESH_ACCESS_TOKEN_ENDPOINT: 'auth/refresh',\r\n};\r\n\r\n/**\r\n * API base URL from environment\r\n */\r\nexport const API_BASE_URL = process.env.NEXT_PUBLIC_API_URL || 'http://localhost:4000';\r\n\r\n/**\r\n * Build full API URL\r\n */\r\nexport function apiUrl(path: string): string {\r\n    // Ensure path starts with /\r\n    if (!path.startsWith('/')) {\r\n        path = `/${path}`;\r\n    }\r\n    return `${API_BASE_URL}${path}`;\r\n}\r\n\r\n/**\r\n * Update request options with credentials and headers\r\n */\r\nconst updateOptions = (options: RequestInit): RequestInit => {\r\n    const update = { ...options };\r\n    update.credentials = \"include\"; // CRITICAL: Ensures Cookies are sent\r\n\r\n    const existingHeaders = (update.headers || {}) as Record<string, string>;\r\n\r\n    if (!(update.body instanceof FormData)) {\r\n        update.headers = {\r\n            \"Content-Type\": \"application/json\",\r\n            ...existingHeaders, // Preserves custom headers (e.g. trace-id)\r\n        };\r\n    }\r\n    return update;\r\n};\r\n\r\n/**\r\n * Authenticated fetch wrapper with automatic token refresh\r\n * Handles Double-Token Auth flow:\r\n * - Access token in httpOnly cookie\r\n * - Refresh token in httpOnly cookie\r\n * - Automatically refreshes on 401 and retries\r\n */\r\nexport async function fetchAuth<T>(\r\n    fetchUrl: string,\r\n    requestOptions: RequestInit = {},\r\n    retryCount: number = 0\r\n): Promise<T> {\r\n    let response: Response;\r\n    const finalOptions = updateOptions(requestOptions);\r\n\r\n    try {\r\n        response = await fetch(fetchUrl, finalOptions);\r\n    } catch (e) {\r\n        const message = e instanceof Error ? e.message : `Unknown error: ${String(e)}`;\r\n        throw new Error(`Network request failed: ${message}`);\r\n    }\r\n\r\n    // Intercept 401 and try to Refresh Token\r\n    if (!response.ok && response.status === 401) {\r\n        if (retryCount === 0) {\r\n            try {\r\n                const refreshResponse = await fetch(\r\n                    `${AUTH_CONSTANTS.AUTH_URL}/${AUTH_CONSTANTS.REFRESH_ACCESS_TOKEN_ENDPOINT}`,\r\n                    {\r\n                        method: \"POST\",\r\n                        credentials: \"include\",\r\n                    }\r\n                );\r\n\r\n                if (!refreshResponse.ok) {\r\n                    throw new AuthError(\"Session expired\", 401);\r\n                }\r\n                // Retry original request with new cookies\r\n                return fetchAuth<T>(fetchUrl, requestOptions, retryCount + 1);\r\n            } catch (error) {\r\n                throw error;\r\n            }\r\n        }\r\n    }\r\n\r\n    const text = await response.text();\r\n    const hasBody = text.trim().length > 0;\r\n    let json: unknown = null;\r\n\r\n    if (hasBody) {\r\n        try {\r\n            json = JSON.parse(text);\r\n        } catch {\r\n            json = text;\r\n        }\r\n    }\r\n\r\n    if (!response.ok) {\r\n        let errorMessage = `HTTP Error: ${response.status}`;\r\n        if (json && typeof json === \"object\") {\r\n            const obj = json as Record<string, unknown>;\r\n            errorMessage = (obj.message as string) || (obj.error as string) || errorMessage;\r\n        }\r\n        throw new AuthError(errorMessage, response.status);\r\n    }\r\n\r\n    if (!hasBody) return null as T;\r\n\r\n    return json as T;\r\n}\r\n\r\n// ============================================\r\n// TYPE IMPORTS\r\n// ============================================\r\n\r\nimport type { ExpenseDto, BalanceGraphDto } from \"@/app/dashboard/[groupId]/costs/types\";\r\n\r\n// ============================================\r\n// VOTING API\r\n// ============================================\r\n\r\n/**\r\n * Fetch all votings for a trip\r\n */\r\nexport async function fetchVotings(tripId: string) {\r\n    return fetchAuth(apiUrl(`/trips/${tripId}/votes`), {\r\n        method: \"GET\",\r\n    });\r\n}\r\n\r\n/**\r\n * Create a new voting\r\n */\r\nexport async function createVoting(tripId: string, data: any) {\r\n    return fetchAuth(apiUrl(`/trips/${tripId}/votes`), {\r\n        method: \"POST\",\r\n        body: JSON.stringify(data),\r\n    });\r\n}\r\n\r\n/**\r\n * Cast vote(s) on a voting\r\n */\r\nexport async function castVote(voteId: string, optionIds: string[]) {\r\n    return fetchAuth(apiUrl(`/votes/${voteId}/cast`), {\r\n        method: \"POST\",\r\n        body: JSON.stringify({ optionIds }),\r\n    });\r\n}\r\n\r\n/**\r\n * Delete a voting\r\n */\r\nexport async function deleteVoting(voteId: string) {\r\n    return fetchAuth(apiUrl(`/votes/${voteId}`), {\r\n        method: \"DELETE\",\r\n    });\r\n}\r\n\r\n/**\r\n * Add option to existing voting\r\n */\r\nexport async function addVotingOption(voteId: string, text: string, description?: string) {\r\n    return fetchAuth(apiUrl(`/votes/${voteId}/options`), {\r\n        method: \"POST\",\r\n        body: JSON.stringify({ text, description }),\r\n    });\r\n}\r\n\r\n// ============================================\r\n// CHECKLIST API\r\n// ============================================\r\n\r\n/**\r\n * Fetch checklist for a trip\r\n */\r\nexport async function fetchChecklist(tripId: string) {\r\n    return fetchAuth(apiUrl(`/trips/${tripId}/checklist`), {\r\n        method: \"GET\",\r\n    });\r\n}\r\n\r\n/**\r\n * Add item to checklist\r\n */\r\nexport async function addChecklistItem(tripId: string, text: string) {\r\n    return fetchAuth(apiUrl(`/trips/${tripId}/checklist`), {\r\n        method: \"POST\",\r\n        body: JSON.stringify({ text }),\r\n    });\r\n}\r\n\r\n/**\r\n * Toggle checklist item status\r\n */\r\nexport async function toggleChecklistItemStatus(itemId: string, isChecked: boolean) {\r\n    return fetchAuth(apiUrl(`/checklist/${itemId}/status`), {\r\n        method: \"PATCH\",\r\n        body: JSON.stringify({ isChecked }),\r\n    });\r\n}\r\n\r\n/**\r\n * Delete checklist item\r\n */\r\nexport async function deleteChecklistItem(itemId: string) {\r\n    return fetchAuth(apiUrl(`/checklist/${itemId}`), {\r\n        method: \"DELETE\",\r\n    });\r\n}\r\n\r\n// ============================================\r\n// COSTS/EXPENSES API\r\n// ============================================\r\n\r\n/**\r\n * Fetch all expenses for a trip\r\n */\r\nexport async function fetchExpenses(tripId: string): Promise<ExpenseDto[]> {\r\n    return fetchAuth<ExpenseDto[]>(apiUrl(`/trips/${tripId}/expenses`), {\r\n        method: \"GET\",\r\n    });\r\n}\r\n\r\n/**\r\n * Create a new expense\r\n */\r\nexport async function createExpense(tripId: string, payload: any): Promise<ExpenseDto> {\r\n    return fetchAuth<ExpenseDto>(apiUrl(`/trips/${tripId}/expenses`), {\r\n        method: \"POST\",\r\n        body: JSON.stringify(payload),\r\n    });\r\n}\r\n\r\n/**\r\n * Delete an expense\r\n */\r\nexport async function deleteExpense(expenseId: string): Promise<void> {\r\n    return fetchAuth<void>(apiUrl(`/expenses/${expenseId}`), {\r\n        method: \"DELETE\",\r\n    });\r\n}\r\n\r\n/**\r\n * Fetch balance/settlement graph for a trip\r\n */\r\nexport async function fetchBalanceGraph(tripId: string): Promise<BalanceGraphDto> {\r\n    return fetchAuth<BalanceGraphDto>(apiUrl(`/trips/${tripId}/balance`), {\r\n        method: \"GET\",\r\n    });\r\n}\r\n\r\n// ============================================\r\n// PLAN API (Days + Activities)\r\n// ============================================\r\n\r\n/**\r\n * Fetch plan (days + activities) for a trip\r\n */\r\nexport async function fetchPlan(tripId: string) {\r\n    return fetchAuth(apiUrl(`/trips/${tripId}/plan`), {\r\n        method: \"GET\",\r\n    });\r\n}\r\n\r\n/**\r\n * Create a new day\r\n */\r\nexport async function createDay(tripId: string, payload: { date: string }) {\r\n    return fetchAuth(apiUrl(`/trips/${tripId}/days`), {\r\n        method: \"POST\",\r\n        body: JSON.stringify(payload),\r\n    });\r\n}\r\n\r\n/**\r\n * Create a new activity\r\n */\r\nexport async function createActivity(dayId: string, payload: any) {\r\n    return fetchAuth(apiUrl(`/days/${dayId}/activities`), {\r\n        method: \"POST\",\r\n        body: JSON.stringify(payload),\r\n    });\r\n}\r\n\r\n/**\r\n * Update an activity\r\n */\r\nexport async function updateActivity(activityId: string, payload: any) {\r\n    return fetchAuth(apiUrl(`/activities/${activityId}`), {\r\n        method: \"PATCH\",\r\n        body: JSON.stringify(payload),\r\n    });\r\n}\r\n\r\n/**\r\n * Delete an activity\r\n */\r\nexport async function deleteActivity(activityId: string) {\r\n    return fetchAuth(apiUrl(`/activities/${activityId}`), {\r\n        method: \"DELETE\",\r\n    });\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1581, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ameli/Documents/studia/projekt/ShareWay/frontend/app/dashboard/%5BgroupId%5D/costs/components/SettleBalanceDialog.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useState } from \"react\";\r\nimport { AnimatePresence, motion } from \"framer-motion\";\r\nimport { X, CheckCircle2, Banknote } from \"lucide-react\";\r\nimport { Button } from \"@/app/components/ui/button\";\r\nimport { useI18n } from \"@/app/context/LanguageContext\";\r\nimport { getCostsTranslations } from \"../translations\";\r\nimport { cn } from \"@/lib/utils\";\r\nimport type { ExpenseBreakdown } from \"../types\";\r\nimport * as api from \"@/lib/api\";\r\n\r\ninterface Props {\r\n    open: boolean;\r\n    onOpenChange: (open: boolean) => void;\r\n    expense: ExpenseBreakdown & { personName: string; personUserId: string; tripId: string };\r\n    myUserId: string;\r\n    onSettled?: () => void;\r\n}\r\n\r\nexport default function SettleBalanceDialog({ open, onOpenChange, expense, myUserId, onSettled }: Props) {\r\n    const { lang } = useI18n();\r\n    const t = getCostsTranslations(lang);\r\n    const [amount, setAmount] = useState(Math.abs(expense.balance).toFixed(2));\r\n    const [submitting, setSubmitting] = useState(false);\r\n\r\n    const iOwe = expense.balance < 0;\r\n    const theyOweMe = expense.balance > 0;\r\n\r\n    const handleSubmit = async (e?: React.FormEvent) => {\r\n        e?.preventDefault();\r\n        \r\n        const amountNum = parseFloat(amount);\r\n        if (isNaN(amountNum) || amountNum <= 0) {\r\n            alert(t.enterValidAmount);\r\n            return;\r\n        }\r\n\r\n        if (amountNum > Math.abs(expense.balance)) {\r\n            alert(t.amountCannotExceed(Math.abs(expense.balance).toFixed(2)));\r\n            return;\r\n        }\r\n\r\n        try {\r\n            setSubmitting(true);\r\n\r\n            const settlementPayload = {\r\n                amount: Math.round(amountNum * 100),\r\n                description: iOwe \r\n                    ? `${t.settlement}: ${expense.expenseTitle}` \r\n                    : `${t.received}: ${expense.expenseTitle}`,\r\n                date: new Date().toISOString(),\r\n                debtorIds: iOwe ? [expense.personUserId] : [myUserId],\r\n            };\r\n\r\n            await api.createExpense(expense.tripId, settlementPayload);\r\n            \r\n            onSettled?.();\r\n            onOpenChange(false);\r\n        } catch (err: any) {\r\n            console.error(err);\r\n            alert(err.message || t.settlementError);\r\n        } finally {\r\n            setSubmitting(false);\r\n        }\r\n    };\r\n\r\n    if (!open) return null;\r\n\r\n    return (\r\n        <AnimatePresence>\r\n            <div className=\"fixed inset-0 z-50 flex items-center justify-center p-4\">\r\n                <motion.div \r\n                    initial={{ opacity: 0 }} \r\n                    animate={{ opacity: 1 }} \r\n                    exit={{ opacity: 0 }} \r\n                    onClick={() => onOpenChange(false)} \r\n                    className=\"absolute inset-0 bg-black/50\" \r\n                />\r\n\r\n                <motion.div \r\n                    initial={{ opacity: 0, scale: 0.98 }} \r\n                    animate={{ opacity: 1, scale: 1 }} \r\n                    exit={{ opacity: 0, scale: 0.98 }} \r\n                    className=\"relative bg-background rounded-2xl shadow-2xl w-full max-w-md\"\r\n                >\r\n                    <div className=\"flex items-center justify-between p-6 border-b\">\r\n                        <h3 className=\"text-lg font-bold\">{t.markAsSettled}</h3>\r\n                        <button \r\n                            onClick={() => onOpenChange(false)} \r\n                            className=\"p-2 hover:bg-muted rounded\"\r\n                        >\r\n                            <X className=\"w-5 h-5\" />\r\n                        </button>\r\n                    </div>\r\n\r\n                    <form onSubmit={handleSubmit} className=\"p-6 space-y-4\">\r\n                        {/* Expense Info */}\r\n                        <div className=\"p-4 bg-muted/50 rounded-lg border\">\r\n                            <p className=\"font-semibold mb-2\">{expense.expenseTitle}</p>\r\n                            <div className=\"text-sm text-muted-foreground space-y-1\">\r\n                                <div className=\"flex justify-between\">\r\n                                    <span>{t.totalAmount}</span>\r\n                                    <span className=\"font-medium\">{expense.totalAmount.toFixed(2)} {t.pln}</span>\r\n                                </div>\r\n                                <div className=\"flex justify-between\">\r\n                                    <span>{t.myShare}</span>\r\n                                    <span className=\"font-medium\">{expense.myShare.toFixed(2)} {t.pln}</span>\r\n                                </div>\r\n                                <div className=\"flex justify-between\">\r\n                                    <span>{t.iPaid}</span>\r\n                                    <span className=\"font-medium\">{expense.iPaid.toFixed(2)} {t.pln}</span>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n\r\n                        {/* Settlement Info */}\r\n                        <div className={cn(\r\n                            \"p-4 rounded-lg border-2\",\r\n                            iOwe && \"bg-destructive/5 border-destructive/20\",\r\n                            theyOweMe && \"bg-green-50 dark:bg-green-950/20 border-green-200 dark:border-green-800\"\r\n                        )}>\r\n                            <div className=\"flex items-center gap-3 mb-2\">\r\n                                <Banknote className={cn(\r\n                                    \"w-5 h-5\",\r\n                                    iOwe && \"text-destructive\",\r\n                                    theyOweMe && \"text-green-600 dark:text-green-400\"\r\n                                )} />\r\n                                <p className=\"font-medium text-sm\">\r\n                                    {iOwe && `${t.youAreGivingMoneyTo} ${expense.personName}`}\r\n                                    {theyOweMe && `${t.youAreReceivingMoneyFrom} ${expense.personName}`}\r\n                                </p>\r\n                            </div>\r\n                            <p className=\"text-sm text-muted-foreground\">\r\n                                {iOwe && `${t.youOweForThisExpense} `}\r\n                                {theyOweMe && `${t.theyOweForThisExpense} `}\r\n                                <span className={cn(\r\n                                    \"font-bold\",\r\n                                    iOwe && \"text-destructive\",\r\n                                    theyOweMe && \"text-green-600 dark:text-green-400\"\r\n                                )}>\r\n                                    {Math.abs(expense.balance).toFixed(2)} {t.pln}\r\n                                </span>\r\n                            </p>\r\n                        </div>\r\n\r\n                        {/* Amount Input */}\r\n                        <div>\r\n                            <label className=\"block text-sm font-medium mb-2\">\r\n                                {t.amountToSettle} <span className=\"text-destructive\">*</span>\r\n                            </label>\r\n                            <input \r\n                                type=\"number\"\r\n                                step=\"0.01\"\r\n                                min=\"0.01\"\r\n                                max={Math.abs(expense.balance)}\r\n                                value={amount} \r\n                                onChange={(e) => setAmount(e.target.value)} \r\n                                placeholder=\"0.00\"\r\n                                className=\"w-full px-4 py-3 rounded-xl border border-input text-lg font-medium\" \r\n                                autoFocus\r\n                            />\r\n                            <p className=\"text-xs text-muted-foreground mt-2\">\r\n                                {t.canSettlePartial}\r\n                            </p>\r\n                        </div>\r\n\r\n                        {/* Quick Buttons */}\r\n                        <div className=\"flex gap-2\">\r\n                            <Button\r\n                                type=\"button\"\r\n                                variant=\"outline\"\r\n                                size=\"sm\"\r\n                                onClick={() => setAmount((Math.abs(expense.balance) / 2).toFixed(2))}\r\n                                className=\"flex-1\"\r\n                            >\r\n                                {t.half}\r\n                            </Button>\r\n                            <Button\r\n                                type=\"button\"\r\n                                variant=\"outline\"\r\n                                size=\"sm\"\r\n                                onClick={() => setAmount(Math.abs(expense.balance).toFixed(2))}\r\n                                className=\"flex-1\"\r\n                            >\r\n                                {t.full}\r\n                            </Button>\r\n                        </div>\r\n\r\n                        {/* Info */}\r\n                        <div className=\"bg-muted/50 p-3 rounded-lg text-xs text-muted-foreground\">\r\n                            <p className=\"font-medium mb-1\">{t.information}</p>\r\n                            <p>\r\n                                {t.settleInfo}\r\n                                {iOwe && ` ${t.makeSureYouPaid}`}\r\n                                {theyOweMe && ` ${t.makeSureYouReceived}`}\r\n                            </p>\r\n                        </div>\r\n\r\n                        {/* Actions */}\r\n                        <div className=\"flex gap-2 pt-4\">\r\n                            <Button \r\n                                type=\"button\"\r\n                                variant=\"outline\" \r\n                                onClick={() => onOpenChange(false)} \r\n                                disabled={submitting}\r\n                                className=\"flex-1\"\r\n                            >\r\n                                {t.cancel}\r\n                            </Button>\r\n                            <Button \r\n                                type=\"submit\" \r\n                                disabled={submitting}\r\n                                className={cn(\r\n                                    \"flex-1\",\r\n                                    iOwe && \"bg-destructive hover:bg-destructive/90\"\r\n                                )}\r\n                            >\r\n                                <CheckCircle2 className=\"w-4 h-4 mr-2\" />\r\n                                {submitting ? t.saving : t.markAsSettled}\r\n                            </Button>\r\n                        </div>\r\n                    </form>\r\n                </motion.div>\r\n            </div>\r\n        </AnimatePresence>\r\n    );\r\n}"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2068, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ameli/Documents/studia/projekt/ShareWay/frontend/app/dashboard/%5BgroupId%5D/costs/components/PersonalBalanceItem.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useState } from \"react\";\r\nimport { ChevronDown, ChevronUp, CheckCircle2 } from \"lucide-react\";\r\nimport { Button } from \"@/app/components/ui/button\";\r\nimport { useI18n } from \"@/app/context/LanguageContext\";\r\nimport { getCostsTranslations } from \"../translations\";\r\nimport { cn } from \"@/lib/utils\";\r\nimport type { PersonalBalanceDto, ExpenseBreakdown } from \"../types\";\r\n\r\ninterface Props {\r\n    person: PersonalBalanceDto;\r\n    onSettleExpense: (expense: ExpenseBreakdown, personName: string) => void;\r\n    tripId: string;\r\n}\r\n\r\nexport default function PersonBalanceItem({ person, onSettleExpense, tripId }: Props) {\r\n    const { lang } = useI18n();\r\n    const t = getCostsTranslations(lang);\r\n    const [expanded, setExpanded] = useState(false);\r\n    const isOwed = person.balance > 0;\r\n    const iOwe = person.balance < 0;\r\n\r\n    return (\r\n        <div className={cn(\r\n            \"border rounded-lg overflow-hidden\",\r\n            isOwed && \"border-green-200 dark:border-green-800\",\r\n            iOwe && \"border-destructive/20\"\r\n        )}>\r\n            {/* Header - clickable */}\r\n            <button\r\n                onClick={() => setExpanded(!expanded)}\r\n                className={cn(\r\n                    \"w-full flex items-center justify-between p-3 hover:bg-muted/50 transition-colors\",\r\n                    isOwed && \"bg-green-50 dark:bg-green-950/20\",\r\n                    iOwe && \"bg-destructive/5\"\r\n                )}\r\n            >\r\n                <div className=\"flex items-center gap-3\">\r\n                    <div className={cn(\r\n                        \"w-8 h-8 rounded-full flex items-center justify-center text-xs font-bold\",\r\n                        isOwed && \"bg-green-100 dark:bg-green-900 text-green-700 dark:text-green-300\",\r\n                        iOwe && \"bg-destructive/10 text-destructive\"\r\n                    )}>\r\n                        {person.userName.split(' ').map(n => n[0]).join('')}\r\n                    </div>\r\n                    <div className=\"text-left\">\r\n                        <p className=\"font-medium text-sm\">{person.userName}</p>\r\n                        <p className=\"text-xs text-muted-foreground\">\r\n                            {person.expenses.length} {person.expenses.length === 1 ? t.expense : t.expenses}\r\n                        </p>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"flex items-center gap-2\">\r\n                    <span className={cn(\r\n                        \"font-bold text-sm\",\r\n                        isOwed && \"text-green-600 dark:text-green-400\",\r\n                        iOwe && \"text-destructive\"\r\n                    )}>\r\n                        {isOwed ? '+' : ''}{person.balance.toFixed(2)} {t.pln}\r\n                    </span>\r\n                    {expanded ? <ChevronUp className=\"w-4 h-4\" /> : <ChevronDown className=\"w-4 h-4\" />}\r\n                </div>\r\n            </button>\r\n\r\n            {/* Expanded - expense breakdown */}\r\n            {expanded && (\r\n                <div className=\"border-t p-3 bg-muted/20 space-y-2\">\r\n                    {person.expenses.map((exp) => {\r\n                        const expenseIsOwed = exp.balance > 0;\r\n                        const expenseIOwe = exp.balance < 0;\r\n\r\n                        return (\r\n                            <div key={exp.expenseId} className={cn(\r\n                                \"p-3 bg-background rounded-lg border-2 space-y-2\",\r\n                                expenseIsOwed && \"border-green-200 dark:border-green-800\",\r\n                                expenseIOwe && \"border-destructive/20\"\r\n                            )}>\r\n                                {/* Expense Header */}\r\n                                <div className=\"flex justify-between items-start\">\r\n                                    <span className=\"font-medium text-sm\">{exp.expenseTitle}</span>\r\n                                    <span className={cn(\r\n                                        \"font-bold text-sm\",\r\n                                        expenseIsOwed && \"text-green-600 dark:text-green-400\",\r\n                                        expenseIOwe && \"text-destructive\"\r\n                                    )}>\r\n                                        {expenseIsOwed ? '+' : ''}{exp.balance.toFixed(2)} {t.pln}\r\n                                    </span>\r\n                                </div>\r\n\r\n                                {/* Expense Details */}\r\n                                <div className=\"text-xs text-muted-foreground space-y-0.5\">\r\n                                    <div className=\"flex justify-between\">\r\n                                        <span>{t.myShare}</span>\r\n                                        <span>{exp.myShare.toFixed(2)} {t.pln}</span>\r\n                                    </div>\r\n                                    <div className=\"flex justify-between\">\r\n                                        <span>{t.iPaid}</span>\r\n                                        <span className=\"font-medium\">{exp.iPaid.toFixed(2)} {t.pln}</span>\r\n                                    </div>\r\n                                </div>\r\n\r\n                                {/* Status Info */}\r\n                                {expenseIsOwed && (\r\n                                    <div className=\"text-xs text-green-600 dark:text-green-400 pt-2 border-t\">\r\n                                        → {person.userName} {t.owesMe} {exp.balance.toFixed(2)} {t.pln}\r\n                                    </div>\r\n                                )}\r\n                                {expenseIOwe && (\r\n                                    <div className=\"text-xs text-destructive pt-2 border-t\">\r\n                                        → {t.iOwe} {person.userName} {Math.abs(exp.balance).toFixed(2)} {t.pln}\r\n                                    </div>\r\n                                )}\r\n\r\n                                {/* Settle Button per Expense */}\r\n                                <Button\r\n                                    onClick={(e) => {\r\n                                        e.stopPropagation();\r\n                                        onSettleExpense(exp, person.userName);\r\n                                    }}\r\n                                    variant={expenseIOwe ? \"destructive\" : \"default\"}\r\n                                    size=\"sm\"\r\n                                    className=\"w-full\"\r\n                                >\r\n                                    <CheckCircle2 className=\"w-3 h-3 mr-2\" />\r\n                                    {expenseIOwe ? t.markAsPaid : t.markAsReceived}\r\n                                </Button>\r\n                            </div>\r\n                        );\r\n                    })}\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n}"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2371, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ameli/Documents/studia/projekt/ShareWay/frontend/app/dashboard/%5BgroupId%5D/costs/components/BalanceDonut.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { cn } from \"@/lib/utils\";\r\nimport { useI18n } from \"@/app/context/LanguageContext\";\r\nimport { getCostsTranslations } from \"../translations\";\r\n\r\ninterface Props {\r\n    netBalance: number;\r\n    totalIOweThem: number;\r\n    totalTheyOweMe: number;\r\n}\r\n\r\nexport default function BalanceDonut({ netBalance, totalIOweThem, totalTheyOweMe }: Props) {\r\n    const { lang } = useI18n();\r\n    const t = getCostsTranslations(lang);\r\n    \r\n    const total = totalIOweThem + totalTheyOweMe;\r\n    const iOwePercentage = total > 0 ? (totalIOweThem / total) * 100 : 0;\r\n    const theyOwePercentage = total > 0 ? (totalTheyOweMe / total) * 100 : 0;\r\n\r\n    const size = 180;\r\n    const strokeWidth = 20;\r\n    const radius = (size - strokeWidth) / 2;\r\n    const circumference = 2 * Math.PI * radius;\r\n\r\n    const iOweStrokeDash = (iOwePercentage / 100) * circumference;\r\n    const theyOweStrokeDash = (theyOwePercentage / 100) * circumference;\r\n\r\n    return (\r\n        <div className=\"flex flex-col items-center\">\r\n            <div className=\"relative\" style={{ width: size, height: size }}>\r\n                <svg width={size} height={size} className=\"transform -rotate-90\">\r\n                    <circle\r\n                        cx={size / 2}\r\n                        cy={size / 2}\r\n                        r={radius}\r\n                        fill=\"none\"\r\n                        stroke=\"currentColor\"\r\n                        strokeWidth={strokeWidth}\r\n                        className=\"text-muted/20\"\r\n                    />\r\n\r\n                    {theyOwePercentage > 0 && (\r\n                        <circle\r\n                            cx={size / 2}\r\n                            cy={size / 2}\r\n                            r={radius}\r\n                            fill=\"none\"\r\n                            stroke=\"currentColor\"\r\n                            strokeWidth={strokeWidth}\r\n                            strokeDasharray={`${theyOweStrokeDash} ${circumference}`}\r\n                            strokeLinecap=\"round\"\r\n                            className=\"text-green-500 transition-all duration-500\"\r\n                        />\r\n                    )}\r\n\r\n                    {iOwePercentage > 0 && (\r\n                        <circle\r\n                            cx={size / 2}\r\n                            cy={size / 2}\r\n                            r={radius}\r\n                            fill=\"none\"\r\n                            stroke=\"currentColor\"\r\n                            strokeWidth={strokeWidth}\r\n                            strokeDasharray={`${iOweStrokeDash} ${circumference}`}\r\n                            strokeDashoffset={-theyOweStrokeDash}\r\n                            strokeLinecap=\"round\"\r\n                            className=\"text-destructive transition-all duration-500\"\r\n                        />\r\n                    )}\r\n                </svg>\r\n\r\n                <div className=\"absolute inset-0 flex flex-col items-center justify-center\">\r\n                    <p className=\"text-xs text-muted-foreground mb-1\">{t.balance}</p>\r\n                    <p className={cn(\r\n                        \"text-2xl font-bold\",\r\n                        netBalance > 0 && \"text-green-600 dark:text-green-400\",\r\n                        netBalance < 0 && \"text-destructive\",\r\n                        netBalance === 0 && \"text-foreground\"\r\n                    )}>\r\n                        {netBalance > 0 ? '+' : ''}{netBalance.toFixed(2)}\r\n                    </p>\r\n                    <p className=\"text-xs text-muted-foreground\">{t.pln}</p>\r\n                </div>\r\n            </div>\r\n\r\n            {/* Legend */}\r\n            <div className=\"mt-6 flex gap-6 text-xs\">\r\n                <div className=\"flex items-center gap-2\">\r\n                    <div className=\"w-3 h-3 rounded-full bg-green-500\" />\r\n                    <div>\r\n                        <p className=\"text-muted-foreground\">{t.theyOweMe}</p>\r\n                        <p className=\"font-bold text-green-600 dark:text-green-400\">\r\n                            {totalTheyOweMe.toFixed(2)} {t.pln}\r\n                        </p>\r\n                    </div>\r\n                </div>\r\n                <div className=\"flex items-center gap-2\">\r\n                    <div className=\"w-3 h-3 rounded-full bg-destructive\" />\r\n                    <div>\r\n                        <p className=\"text-muted-foreground\">{t.iOweLabel}</p>\r\n                        <p className=\"font-bold text-destructive\">\r\n                            {totalIOweThem.toFixed(2)} {t.pln}\r\n                        </p>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAJA;;;;;AAYe,SAAS,aAAa,EAAE,UAAU,EAAE,aAAa,EAAE,cAAc,EAAS;IACrF,MAAM,EAAE,IAAI,EAAE,GAAG,IAAA,yJAAO;IACxB,MAAM,IAAI,IAAA,4LAAoB,EAAC;IAE/B,MAAM,QAAQ,gBAAgB;IAC9B,MAAM,iBAAiB,QAAQ,IAAI,AAAC,gBAAgB,QAAS,MAAM;IACnE,MAAM,oBAAoB,QAAQ,IAAI,AAAC,iBAAiB,QAAS,MAAM;IAEvE,MAAM,OAAO;IACb,MAAM,cAAc;IACpB,MAAM,SAAS,CAAC,OAAO,WAAW,IAAI;IACtC,MAAM,gBAAgB,IAAI,KAAK,EAAE,GAAG;IAEpC,MAAM,iBAAiB,AAAC,iBAAiB,MAAO;IAChD,MAAM,oBAAoB,AAAC,oBAAoB,MAAO;IAEtD,qBACI,0PAAC;QAAI,WAAU;;0BACX,0PAAC;gBAAI,WAAU;gBAAW,OAAO;oBAAE,OAAO;oBAAM,QAAQ;gBAAK;;kCACzD,0PAAC;wBAAI,OAAO;wBAAM,QAAQ;wBAAM,WAAU;;0CACtC,0PAAC;gCACG,IAAI,OAAO;gCACX,IAAI,OAAO;gCACX,GAAG;gCACH,MAAK;gCACL,QAAO;gCACP,aAAa;gCACb,WAAU;;;;;;4BAGb,oBAAoB,mBACjB,0PAAC;gCACG,IAAI,OAAO;gCACX,IAAI,OAAO;gCACX,GAAG;gCACH,MAAK;gCACL,QAAO;gCACP,aAAa;gCACb,iBAAiB,GAAG,kBAAkB,CAAC,EAAE,eAAe;gCACxD,eAAc;gCACd,WAAU;;;;;;4BAIjB,iBAAiB,mBACd,0PAAC;gCACG,IAAI,OAAO;gCACX,IAAI,OAAO;gCACX,GAAG;gCACH,MAAK;gCACL,QAAO;gCACP,aAAa;gCACb,iBAAiB,GAAG,eAAe,CAAC,EAAE,eAAe;gCACrD,kBAAkB,CAAC;gCACnB,eAAc;gCACd,WAAU;;;;;;;;;;;;kCAKtB,0PAAC;wBAAI,WAAU;;0CACX,0PAAC;gCAAE,WAAU;0CAAsC,EAAE,OAAO;;;;;;0CAC5D,0PAAC;gCAAE,WAAW,IAAA,8HAAE,EACZ,sBACA,aAAa,KAAK,sCAClB,aAAa,KAAK,oBAClB,eAAe,KAAK;;oCAEnB,aAAa,IAAI,MAAM;oCAAI,WAAW,OAAO,CAAC;;;;;;;0CAEnD,0PAAC;gCAAE,WAAU;0CAAiC,EAAE,GAAG;;;;;;;;;;;;;;;;;;0BAK3D,0PAAC;gBAAI,WAAU;;kCACX,0PAAC;wBAAI,WAAU;;0CACX,0PAAC;gCAAI,WAAU;;;;;;0CACf,0PAAC;;kDACG,0PAAC;wCAAE,WAAU;kDAAyB,EAAE,SAAS;;;;;;kDACjD,0PAAC;wCAAE,WAAU;;4CACR,eAAe,OAAO,CAAC;4CAAG;4CAAE,EAAE,GAAG;;;;;;;;;;;;;;;;;;;kCAI9C,0PAAC;wBAAI,WAAU;;0CACX,0PAAC;gCAAI,WAAU;;;;;;0CACf,0PAAC;;kDACG,0PAAC;wCAAE,WAAU;kDAAyB,EAAE,SAAS;;;;;;kDACjD,0PAAC;wCAAE,WAAU;;4CACR,cAAc,OAAO,CAAC;4CAAG;4CAAE,EAAE,GAAG;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAO7D"}},
    {"offset": {"line": 2611, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ameli/Documents/studia/projekt/ShareWay/frontend/app/dashboard/%5BgroupId%5D/costs/components/PersonalBalance.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/app/components/ui/card\";\r\nimport { Button } from \"@/app/components/ui/button\";\r\nimport { RefreshCw, User, DollarSign } from \"lucide-react\";\r\nimport { useState } from \"react\";\r\nimport { useI18n } from \"@/app/context/LanguageContext\";\r\nimport { getCostsTranslations } from \"../translations\";\r\nimport type { MyBalanceSummaryDto, ExpenseBreakdown } from \"../types\";\r\nimport SettleBalanceDialog from \"./SettleBalanceDialog\";\r\nimport PersonBalanceItem from \"./PersonalBalanceItem\";\r\nimport BalanceDonut from \"./BalanceDonut\";\r\n\r\ninterface Props {\r\n    myBalance: MyBalanceSummaryDto | null;\r\n    loading: boolean;\r\n    onRefresh: () => Promise<void>;\r\n    tripId: string;\r\n}\r\n\r\nexport default function PersonalBalance({ myBalance, loading, onRefresh, tripId }: Props) {\r\n    const { lang } = useI18n();\r\n    const t = getCostsTranslations(lang);\r\n    const [settleDialogOpen, setSettleDialogOpen] = useState(false);\r\n    const [selectedExpense, setSelectedExpense] = useState<ExpenseBreakdown & { \r\n        personName: string;\r\n        personUserId: string;\r\n        tripId: string;\r\n    } | null>(null);\r\n\r\n    if (loading) {\r\n        return (\r\n            <Card className=\"sticky top-24\">\r\n                <CardHeader>\r\n                    <CardTitle>{t.myBalance}</CardTitle>\r\n                </CardHeader>\r\n                <CardContent>\r\n                    <div className=\"space-y-3\">\r\n                        <div className=\"h-48 bg-muted rounded-lg animate-pulse\" />\r\n                        {[1, 2].map(n => (\r\n                            <div key={n} className=\"h-20 bg-muted rounded-lg animate-pulse\" />\r\n                        ))}\r\n                    </div>\r\n                </CardContent>\r\n            </Card>\r\n        );\r\n    }\r\n\r\n    if (!myBalance) {\r\n        return (\r\n            <Card className=\"sticky top-24\">\r\n                <CardHeader>\r\n                    <CardTitle>{t.myBalance}</CardTitle>\r\n                </CardHeader>\r\n                <CardContent>\r\n                    <p className=\"text-sm text-muted-foreground text-center py-8\">\r\n                        {t.noDataToShow}\r\n                    </p>\r\n                </CardContent>\r\n            </Card>\r\n        );\r\n    }\r\n\r\n    const netBalance = myBalance.totalTheyOweMe - myBalance.totalIOweThem;\r\n    const isSettled = netBalance === 0;\r\n\r\n    const handleSettleExpense = (expense: ExpenseBreakdown, personName: string, personUserId: string, tripId: string) => {\r\n        setSelectedExpense({ ...expense, personName, personUserId, tripId });\r\n        setSettleDialogOpen(true);\r\n    };\r\n\r\n    return (\r\n        <>\r\n            <Card className=\"sticky top-24\">\r\n                <CardHeader className=\"flex flex-row items-center justify-between\">\r\n                    <CardTitle className=\"flex items-center gap-2\">\r\n                        <User className=\"w-5 h-5\" />\r\n                        {t.myBalance}\r\n                    </CardTitle>\r\n                    <Button variant=\"ghost\" size=\"sm\" onClick={onRefresh}>\r\n                        <RefreshCw className=\"w-4 h-4\" />\r\n                    </Button>\r\n                </CardHeader>\r\n                <CardContent className=\"space-y-6\">\r\n                    \r\n                    {!isSettled ? (\r\n                        <BalanceDonut \r\n                            netBalance={netBalance}\r\n                            totalIOweThem={myBalance.totalIOweThem}\r\n                            totalTheyOweMe={myBalance.totalTheyOweMe}\r\n                        />\r\n                    ) : (\r\n                        <div className=\"py-12 text-center\">\r\n                            <div className=\"w-16 h-16 rounded-full bg-green-100 dark:bg-green-900 flex items-center justify-center mx-auto mb-4\">\r\n                                <DollarSign className=\"w-8 h-8 text-green-600 dark:text-green-400\" />\r\n                            </div>\r\n                            <p className=\"text-lg font-bold text-green-600 dark:text-green-400\">\r\n                                ✅ {t.allSettled}\r\n                            </p>\r\n                            <p className=\"text-sm text-muted-foreground mt-1\">\r\n                                {t.noOutstandingPayments}\r\n                            </p>\r\n                        </div>\r\n                    )}\r\n\r\n                    {/* Wszystkie osoby - jedna lista */}\r\n                    {myBalance.balances.length > 0 && (\r\n                        <div>\r\n                            <h4 className=\"text-sm font-semibold mb-3 flex items-center gap-2\">\r\n                                <User className=\"w-4 h-4\" />\r\n                                {t.settlementsWithPeople} ({myBalance.balances.length})\r\n                            </h4>\r\n                            <div className=\"space-y-2\">\r\n                                {myBalance.balances.map((person) => (\r\n                                    <PersonBalanceItem \r\n                                        key={person.userId} \r\n                                        person={person}\r\n                                        tripId={tripId}\r\n                                        onSettleExpense={(exp, name) => handleSettleExpense(exp, name, person.userId, tripId)}\r\n                                    />\r\n                                ))}\r\n                            </div>\r\n                        </div>\r\n                    )}\r\n\r\n                </CardContent>\r\n            </Card>\r\n\r\n            {/* Settle Balance Dialog */}\r\n            {selectedExpense && (\r\n                <SettleBalanceDialog\r\n                    open={settleDialogOpen}\r\n                    onOpenChange={setSettleDialogOpen}\r\n                    expense={selectedExpense}\r\n                    myUserId={myBalance.myUserId}\r\n                    onSettled={onRefresh}\r\n                />\r\n            )}\r\n        </>\r\n    );\r\n}"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2922, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ameli/Documents/studia/projekt/ShareWay/frontend/app/dashboard/%5BgroupId%5D/costs/page.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useEffect, useState } from \"react\";\r\nimport { useParams } from \"next/navigation\";\r\nimport { motion } from \"framer-motion\";\r\nimport Navbar from \"@/app/components/Navbar\";\r\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/app/components/ui/card\";\r\nimport { Button } from \"@/app/components/ui/button\";\r\nimport { Plus, Wallet, TrendingUp } from \"lucide-react\";\r\nimport { useI18n } from \"@/app/context/LanguageContext\";\r\nimport { getCostsTranslations } from \"./translations\";\r\nimport * as api from \"@/lib/api\";\r\nimport ExpenseList from \"./components/ExpenseList\";\r\nimport CreateExpenseDialog from \"./components/CreateExpenseDialog\";\r\nimport PersonalBalance from \"./components/PersonalBalance\";\r\nimport type { ExpenseDto, BalanceGraphDto, MyBalanceSummaryDto } from \"./types\";\r\n\r\nexport default function CostsPage() {\r\n    const { lang } = useI18n();\r\n    const t = getCostsTranslations(lang);\r\n    const params = useParams();\r\n    const tripId = params.groupId as string;\r\n    \r\n    const [expenses, setExpenses] = useState<ExpenseDto[]>([]);\r\n    const [balance, setBalance] = useState<BalanceGraphDto | null>(null);\r\n    const [loading, setLoading] = useState(true);\r\n    const [createExpenseOpen, setCreateExpenseOpen] = useState(false);\r\n    const [myBalance, setMyBalance] = useState<MyBalanceSummaryDto | null>(null);\r\n\r\n    const loadExpenses = async () => {\r\n        try {\r\n            setLoading(true);\r\n            \r\n            // MOCK DATA - usuń gdy backend będzie gotowy\r\n            await new Promise(resolve => setTimeout(resolve, 500));\r\n            \r\n            const mockExpenses: ExpenseDto[] = [\r\n                {\r\n                    id: \"exp-1\",\r\n                    tripId: tripId,\r\n                    title: \"Zakwaterowanie - Hotel Aurora\",\r\n                    description: \"3 noce, pokoje 2-osobowe\",\r\n                    amount: 1200.00,\r\n                    paidBy: \"user-1\",\r\n                    paidByName: \"Jan Kowalski\",\r\n                    splitBetween: [\"Jan Kowalski\", \"Anna Nowak\", \"Piotr Wiśniewski\", \"Maria Zielińska\"],\r\n                    date: \"2024-12-15T14:00:00\",\r\n                    createdAt: \"2024-12-15T14:00:00\",\r\n                },\r\n                {\r\n                    id: \"exp-2\",\r\n                    tripId: tripId,\r\n                    title: \"Bilety autokarowe\",\r\n                    description: \"Warszawa → Zakopane → Warszawa\",\r\n                    amount: 480.00,\r\n                    paidBy: \"user-2\",\r\n                    paidByName: \"Anna Nowak\",\r\n                    splitBetween: [\"Jan Kowalski\", \"Anna Nowak\", \"Piotr Wiśniewski\", \"Maria Zielińska\"],\r\n                    date: \"2024-12-15T08:00:00\",\r\n                    createdAt: \"2024-12-15T08:00:00\",\r\n                },\r\n                {\r\n                    id: \"exp-3\",\r\n                    tripId: tripId,\r\n                    title: \"Obiad - Restauracja Góralska\",\r\n                    description: \"Tradycyjna kuchnia podhalańska\",\r\n                    amount: 280.00,\r\n                    paidBy: \"user-3\",\r\n                    paidByName: \"Piotr Wiśniewski\",\r\n                    splitBetween: [\"Jan Kowalski\", \"Anna Nowak\", \"Piotr Wiśniewski\", \"Maria Zielińska\"],\r\n                    date: \"2024-12-15T18:00:00\",\r\n                    createdAt: \"2024-12-15T18:00:00\",\r\n                },\r\n                {\r\n                    id: \"exp-4\",\r\n                    tripId: tripId,\r\n                    title: \"Bilety na Gubałówkę\",\r\n                    description: \"Kolejka linowa - 4 osoby\",\r\n                    amount: 120.00,\r\n                    paidBy: \"user-4\",\r\n                    paidByName: \"Maria Zielińska\",\r\n                    splitBetween: [\"Jan Kowalski\", \"Anna Nowak\", \"Piotr Wiśniewski\", \"Maria Zielińska\"],\r\n                    date: \"2024-12-16T10:00:00\",\r\n                    createdAt: \"2024-12-16T10:00:00\",\r\n                },\r\n                {\r\n                    id: \"exp-5\",\r\n                    tripId: tripId,\r\n                    title: \"Zakupy na ognisko\",\r\n                    description: \"Kiełbaski, chleb, napoje\",\r\n                    amount: 85.00,\r\n                    paidBy: \"user-1\",\r\n                    paidByName: \"Jan Kowalski\",\r\n                    splitBetween: [\"Jan Kowalski\", \"Anna Nowak\", \"Piotr Wiśniewski\", \"Maria Zielińska\"],\r\n                    date: \"2024-12-16T17:00:00\",\r\n                    createdAt: \"2024-12-16T17:00:00\",\r\n                },\r\n                {\r\n                    id: \"exp-6\",\r\n                    tripId: tripId,\r\n                    title: \"Śniadania w hotelu\",\r\n                    description: \"Bufet szwedzki - 3 dni\",\r\n                    amount: 360.00,\r\n                    paidBy: \"user-2\",\r\n                    paidByName: \"Anna Nowak\",\r\n                    splitBetween: [\"Jan Kowalski\", \"Anna Nowak\", \"Piotr Wiśniewski\", \"Maria Zielińska\"],\r\n                    date: \"2024-12-15T14:30:00\",\r\n                    createdAt: \"2024-12-15T14:30:00\",\r\n                },\r\n            ];\r\n            \r\n            setExpenses(mockExpenses);\r\n            \r\n            // PRAWDZIWE API - odkomentuj gdy backend działa\r\n            // const data = await api.fetchExpenses(tripId);\r\n            // setExpenses(data);\r\n        } catch (err: any) {\r\n            console.error(\"Error loading expenses:\", err);\r\n            alert(err.message || t.loadError);\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    const loadBalance = async () => {\r\n        try {\r\n            // MOCK DATA\r\n            await new Promise(resolve => setTimeout(resolve, 500));\r\n            \r\n            const mockBalance: BalanceGraphDto = {\r\n                settlements: [\r\n                    {\r\n                        from: \"Jan Kowalski\",\r\n                        to: \"Anna Nowak\",\r\n                        amount: 45.00,\r\n                    },\r\n                    {\r\n                        from: \"Piotr Wiśniewski\",\r\n                        to: \"Anna Nowak\",\r\n                        amount: 135.00,\r\n                    },\r\n                    {\r\n                        from: \"Maria Zielińska\",\r\n                        to: \"Jan Kowalski\",\r\n                        amount: 281.25,\r\n                    },\r\n                ],\r\n                totalExpenses: 2525.00,\r\n            };\r\n            \r\n            setBalance(mockBalance);\r\n            \r\n            // PRAWDZIWE API - odkomentuj gdy backend działa\r\n            // const data = await api.fetchBalanceGraph(tripId);\r\n            // setBalance(data);\r\n        } catch (err: any) {\r\n            console.error(\"Error loading balance:\", err);\r\n        }\r\n    };\r\n\r\n    const loadMyBalance = async () => {\r\n        try {\r\n            await new Promise(resolve => setTimeout(resolve, 500));\r\n            \r\n            const mockMyBalance: MyBalanceSummaryDto = {\r\n                myUserId: \"user-1\",\r\n                myUserName: \"Jan Kowalski\",\r\n                balances: [\r\n                    {\r\n                        userId: \"user-2\",\r\n                        userName: \"Anna Nowak\",\r\n                        balance: 135.00,\r\n                        expenses: [\r\n                            {\r\n                                expenseId: \"exp-2\",\r\n                                expenseTitle: \"Bilety autokarowe\",\r\n                                totalAmount: 480.00,\r\n                                myShare: 120.00,\r\n                                iPaid: 0.00,\r\n                                balance: -120.00,\r\n                            },\r\n                            {\r\n                                expenseId: \"exp-6\",\r\n                                expenseTitle: \"Śniadania w hotelu\",\r\n                                totalAmount: 360.00,\r\n                                myShare: 90.00,\r\n                                iPaid: 0.00,\r\n                                balance: -90.00,\r\n                            },\r\n                            {\r\n                                expenseId: \"exp-1\",\r\n                                expenseTitle: \"Zakwaterowanie - Hotel Aurora\",\r\n                                totalAmount: 1200.00,\r\n                                myShare: 300.00,\r\n                                iPaid: 1200.00,\r\n                                balance: 300.00,\r\n                            },\r\n                            {\r\n                                expenseId: \"exp-5\",\r\n                                expenseTitle: \"Zakupy na ognisko\",\r\n                                totalAmount: 85.00,\r\n                                myShare: 21.25,\r\n                                iPaid: 85.00,\r\n                                balance: 21.25,\r\n                            },\r\n                        ],\r\n                    },\r\n                    {\r\n                        userId: \"user-3\",\r\n                        userName: \"Piotr Wiśniewski\",\r\n                        balance: 230.00,\r\n                        expenses: [\r\n                            {\r\n                                expenseId: \"exp-3\",\r\n                                expenseTitle: \"Obiad - Restauracja Góralska\",\r\n                                totalAmount: 280.00,\r\n                                myShare: 70.00,\r\n                                iPaid: 0.00,\r\n                                balance: -70.00,\r\n                            },\r\n                            {\r\n                                expenseId: \"exp-1\",\r\n                                expenseTitle: \"Zakwaterowanie - Hotel Aurora\",\r\n                                totalAmount: 1200.00,\r\n                                myShare: 300.00,\r\n                                iPaid: 1200.00,\r\n                                balance: 300.00,\r\n                            },\r\n                            {\r\n                                expenseId: \"exp-5\",\r\n                                expenseTitle: \"Zakupy na ognisko\",\r\n                                totalAmount: 85.00,\r\n                                myShare: 21.25,\r\n                                iPaid: 85.00,\r\n                                balance: 21.25,\r\n                            },\r\n                        ],\r\n                    },\r\n                    {\r\n                        userId: \"user-4\",\r\n                        userName: \"Maria Zielińska\",\r\n                        balance: 291.25,\r\n                        expenses: [\r\n                            {\r\n                                expenseId: \"exp-4\",\r\n                                expenseTitle: \"Bilety na Gubałówkę\",\r\n                                totalAmount: 120.00,\r\n                                myShare: 30.00,\r\n                                iPaid: 0.00,\r\n                                balance: -30.00,\r\n                            },\r\n                            {\r\n                                expenseId: \"exp-1\",\r\n                                expenseTitle: \"Zakwaterowanie - Hotel Aurora\",\r\n                                totalAmount: 1200.00,\r\n                                myShare: 300.00,\r\n                                iPaid: 1200.00,\r\n                                balance: 300.00,\r\n                            },\r\n                            {\r\n                                expenseId: \"exp-5\",\r\n                                expenseTitle: \"Zakupy na ognisko\",\r\n                                totalAmount: 85.00,\r\n                                myShare: 21.25,\r\n                                iPaid: 85.00,\r\n                                balance: 21.25,\r\n                            },\r\n                        ],\r\n                    },\r\n                ],\r\n                totalIOweThem: 310.00,\r\n                totalTheyOweMe: 963.75,\r\n            };\r\n            \r\n            setMyBalance(mockMyBalance);\r\n        } catch (err: any) {\r\n            console.error(\"Error loading my balance:\", err);\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        if (tripId) {\r\n            loadExpenses();\r\n            loadBalance();\r\n            loadMyBalance();\r\n        }\r\n    }, [tripId]);\r\n\r\n    const handleDeleteExpense = async (expenseId: string) => {\r\n        if (!confirm(t.deleteConfirm)) return;\r\n        \r\n        try {\r\n            // MOCK - usuń lokalnie\r\n            setExpenses(prev => prev.filter(exp => exp.id !== expenseId));\r\n            \r\n            // PRAWDZIWE API\r\n            // await api.deleteExpense(expenseId);\r\n            // await loadExpenses();\r\n            // await loadBalance();\r\n        } catch (err: any) {\r\n            console.error(\"Error deleting expense:\", err);\r\n            alert(err.message || t.deleteError);\r\n        }\r\n    };\r\n\r\n    const handleRefreshExpenses = async () => {\r\n        await loadExpenses();\r\n    };\r\n\r\n    const handleRefreshBalance = async () => {\r\n        await loadBalance();\r\n    };\r\n\r\n    const handleRefreshMyBalance = async () => {\r\n        await loadMyBalance();\r\n    };\r\n\r\n    return (\r\n        <>\r\n            <Navbar />\r\n            <main className=\"min-h-screen pt-24 pb-16 bg-gradient-soft\">\r\n                <div className=\"container mx-auto px-4 max-w-7xl\">\r\n                    {/* Header */}\r\n                    <motion.div\r\n                        initial={{ opacity: 0, y: 20 }}\r\n                        animate={{ opacity: 1, y: 0 }}\r\n                    >\r\n                        <Card className=\"mb-6 border-none shadow-lg bg-gradient-to-r from-primary/5 to-travel-coral/5\">\r\n                            <CardHeader>\r\n                                <CardTitle className=\"flex items-center justify-between\">\r\n                                    <div className=\"flex items-center gap-3\">\r\n                                        <div className=\"w-12 h-12 rounded-xl bg-gradient-to-br from-primary to-travel-coral flex items-center justify-center shadow-lg\">\r\n                                            <Wallet className=\"w-6 h-6 text-white\" />\r\n                                        </div>\r\n                                        <div>\r\n                                            <h1 className=\"text-2xl font-bold\">{t.costSettlements}</h1>\r\n                                            <p className=\"text-sm text-muted-foreground mt-0.5\">\r\n                                                {t.manageExpenses}\r\n                                            </p>\r\n                                        </div>\r\n                                    </div>\r\n                                    <Button \r\n                                        onClick={() => setCreateExpenseOpen(true)} \r\n                                        className=\"gap-2\"\r\n                                        disabled={loading}\r\n                                    >\r\n                                        <Plus className=\"w-4 h-4\" /> \r\n                                        {t.newExpense}\r\n                                    </Button>\r\n                                </CardTitle>\r\n                            </CardHeader>\r\n                            {balance && balance.totalExpenses !== undefined && (\r\n                                <CardContent className=\"pt-0\">\r\n                                    <div className=\"flex items-center gap-2 text-muted-foreground\">\r\n                                        <TrendingUp className=\"w-4 h-4\" />\r\n                                        <span className=\"text-sm\">\r\n                                            {t.totalExpenses}: <span className=\"font-bold text-foreground\">{balance.totalExpenses.toFixed(2)} {t.pln}</span>\r\n                                        </span>\r\n                                    </div>\r\n                                </CardContent>\r\n                            )}\r\n                        </Card>\r\n                    </motion.div>\r\n\r\n                    {/* Main Content - Two Columns */}\r\n                    <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-6\">\r\n                        {/* Left Column - Expenses List (2/3 width) */}\r\n                        <div className=\"lg:col-span-2\">\r\n                            <ExpenseList \r\n                                expenses={expenses}\r\n                                loading={loading}\r\n                                onDelete={handleDeleteExpense}\r\n                                onRefresh={handleRefreshExpenses}\r\n                            />\r\n                        </div>\r\n\r\n                        {/* Right Column - Balance Summary (1/3 width) */}\r\n                        <div className=\"lg:col-span-1\">\r\n                            <PersonalBalance \r\n                                myBalance={myBalance} \r\n                                loading={loading} \r\n                                onRefresh={handleRefreshMyBalance}\r\n                                tripId={tripId}\r\n                            />\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </main>\r\n\r\n            {/* Create Expense Dialog */}\r\n            <CreateExpenseDialog \r\n                open={createExpenseOpen} \r\n                onOpenChange={setCreateExpenseOpen} \r\n                tripId={tripId}\r\n                onCreated={() => {\r\n                    loadExpenses();\r\n                    loadBalance();\r\n                }}\r\n            />\r\n        </>\r\n    );\r\n}"],"names":[],"mappings":"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"}}]
}